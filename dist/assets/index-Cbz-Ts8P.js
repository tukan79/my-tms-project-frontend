var ev=Object.defineProperty;var tv=(e,t,n)=>t in e?ev(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ed=(e,t,n)=>tv(e,typeof t!="symbol"?t+"":t,n);function nv(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jp={exports:{}},Ui={},Np={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var to=Symbol.for("react.element"),sv=Symbol.for("react.portal"),ov=Symbol.for("react.fragment"),iv=Symbol.for("react.strict_mode"),lv=Symbol.for("react.profiler"),av=Symbol.for("react.provider"),cv=Symbol.for("react.context"),uv=Symbol.for("react.forward_ref"),dv=Symbol.for("react.suspense"),fv=Symbol.for("react.memo"),pv=Symbol.for("react.lazy"),td=Symbol.iterator;function hv(e){return e===null||typeof e!="object"?null:(e=td&&e[td]||e["@@iterator"],typeof e=="function"?e:null)}var Rp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dp=Object.assign,Ap={};function Br(e,t,n){this.props=e,this.context=t,this.refs=Ap,this.updater=n||Rp}Br.prototype.isReactComponent={};Br.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Br.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Pp(){}Pp.prototype=Br.prototype;function Sc(e,t,n){this.props=e,this.context=t,this.refs=Ap,this.updater=n||Rp}var Cc=Sc.prototype=new Pp;Cc.constructor=Sc;Dp(Cc,Br.prototype);Cc.isPureReactComponent=!0;var nd=Array.isArray,Ip=Object.prototype.hasOwnProperty,kc={current:null},Op={key:!0,ref:!0,__self:!0,__source:!0};function Tp(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Ip.call(t,r)&&!Op.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:to,type:e,key:o,ref:i,props:s,_owner:kc.current}}function mv(e,t){return{$$typeof:to,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ec(e){return typeof e=="object"&&e!==null&&e.$$typeof===to}function gv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var rd=/\/+/g;function bl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gv(""+e.key):t.toString(36)}function Wo(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case to:case sv:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+bl(i,0):r,nd(s)?(n="",e!=null&&(n=e.replace(rd,"$&/")+"/"),Wo(s,t,n,"",function(u){return u})):s!=null&&(Ec(s)&&(s=mv(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(rd,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",nd(e))for(var a=0;a<e.length;a++){o=e[a];var c=r+bl(o,a);i+=Wo(o,t,n,c,s)}else if(c=hv(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=r+bl(o,a++),i+=Wo(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function xo(e,t,n){if(e==null)return e;var r=[],s=0;return Wo(e,r,"","",function(o){return t.call(n,o,s++)}),r}function yv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nt={current:null},Vo={transition:null},vv={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:Vo,ReactCurrentOwner:kc};function Lp(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:xo,forEach:function(e,t,n){xo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return xo(e,function(){t++}),t},toArray:function(e){return xo(e,function(t){return t})||[]},only:function(e){if(!Ec(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=Br;se.Fragment=ov;se.Profiler=lv;se.PureComponent=Sc;se.StrictMode=iv;se.Suspense=dv;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vv;se.act=Lp;se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Dp({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=kc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Ip.call(t,c)&&!Op.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:to,type:e.type,key:s,ref:o,props:r,_owner:i}};se.createContext=function(e){return e={$$typeof:cv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:av,_context:e},e.Consumer=e};se.createElement=Tp;se.createFactory=function(e){var t=Tp.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:uv,render:e}};se.isValidElement=Ec;se.lazy=function(e){return{$$typeof:pv,_payload:{_status:-1,_result:e},_init:yv}};se.memo=function(e,t){return{$$typeof:fv,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=Vo.transition;Vo.transition={};try{e()}finally{Vo.transition=t}};se.unstable_act=Lp;se.useCallback=function(e,t){return nt.current.useCallback(e,t)};se.useContext=function(e){return nt.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return nt.current.useDeferredValue(e)};se.useEffect=function(e,t){return nt.current.useEffect(e,t)};se.useId=function(){return nt.current.useId()};se.useImperativeHandle=function(e,t,n){return nt.current.useImperativeHandle(e,t,n)};se.useInsertionEffect=function(e,t){return nt.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return nt.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return nt.current.useMemo(e,t)};se.useReducer=function(e,t,n){return nt.current.useReducer(e,t,n)};se.useRef=function(e){return nt.current.useRef(e)};se.useState=function(e){return nt.current.useState(e)};se.useSyncExternalStore=function(e,t,n){return nt.current.useSyncExternalStore(e,t,n)};se.useTransition=function(){return nt.current.useTransition()};se.version="18.3.1";Np.exports=se;var w=Np.exports;const le=$i(w),xv=nv({__proto__:null,default:le},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv=w,bv=Symbol.for("react.element"),_v=Symbol.for("react.fragment"),Sv=Object.prototype.hasOwnProperty,Cv=wv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kv={key:!0,ref:!0,__self:!0,__source:!0};function Fp(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Sv.call(t,r)&&!kv.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:bv,type:e,key:o,ref:i,props:s,_owner:Cv.current}}Ui.Fragment=_v;Ui.jsx=Fp;Ui.jsxs=Fp;jp.exports=Ui;var l=jp.exports,ha={},Mp={exports:{}},bt={},Bp={exports:{}},zp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,O){var L=A.length;A.push(O);e:for(;0<L;){var T=L-1>>>1,F=A[T];if(0<s(F,O))A[T]=O,A[L]=F,L=T;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var O=A[0],L=A.pop();if(L!==O){A[0]=L;e:for(var T=0,F=A.length,H=F>>>1;T<H;){var re=2*(T+1)-1,ae=A[re],de=re+1,we=A[de];if(0>s(ae,L))de<F&&0>s(we,ae)?(A[T]=we,A[de]=L,T=de):(A[T]=ae,A[re]=L,T=re);else if(de<F&&0>s(we,L))A[T]=we,A[de]=L,T=de;else break e}}return O}function s(A,O){var L=A.sortIndex-O.sortIndex;return L!==0?L:A.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],u=[],f=1,d=null,p=3,h=!1,m=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(A){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=A)r(u),O.sortIndex=O.expirationTime,t(c,O);else break;O=n(u)}}function _(A){if(y=!1,b(A),!m)if(n(c)!==null)m=!0,U(j);else{var O=n(u);O!==null&&V(_,O.startTime-A)}}function j(A,O){m=!1,y&&(y=!1,v(S),S=-1),h=!0;var L=p;try{for(b(O),d=n(c);d!==null&&(!(d.expirationTime>O)||A&&!k());){var T=d.callback;if(typeof T=="function"){d.callback=null,p=d.priorityLevel;var F=T(d.expirationTime<=O);O=e.unstable_now(),typeof F=="function"?d.callback=F:d===n(c)&&r(c),b(O)}else r(c);d=n(c)}if(d!==null)var H=!0;else{var re=n(u);re!==null&&V(_,re.startTime-O),H=!1}return H}finally{d=null,p=L,h=!1}}var N=!1,D=null,S=-1,C=5,E=-1;function k(){return!(e.unstable_now()-E<C)}function R(){if(D!==null){var A=e.unstable_now();E=A;var O=!0;try{O=D(!0,A)}finally{O?I():(N=!1,D=null)}}else N=!1}var I;if(typeof g=="function")I=function(){g(R)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,W=B.port2;B.port1.onmessage=R,I=function(){W.postMessage(null)}}else I=function(){x(R,0)};function U(A){D=A,N||(N=!0,I())}function V(A,O){S=x(function(){A(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,U(j))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(A){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var L=p;p=O;try{return A()}finally{p=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,O){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var L=p;p=A;try{return O()}finally{p=L}},e.unstable_scheduleCallback=function(A,O,L){var T=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?T+L:T):L=T,A){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=L+F,A={id:f++,callback:O,priorityLevel:A,startTime:L,expirationTime:F,sortIndex:-1},L>T?(A.sortIndex=L,t(u,A),n(c)===null&&A===n(u)&&(y?(v(S),S=-1):y=!0,V(_,L-T))):(A.sortIndex=F,t(c,A),m||h||(m=!0,U(j))),A},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(A){var O=p;return function(){var L=p;p=O;try{return A.apply(this,arguments)}finally{p=L}}}})(zp);Bp.exports=zp;var Ev=Bp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv=w,xt=Ev;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $p=new Set,Ns={};function or(e,t){Nr(e,t),Nr(e+"Capture",t)}function Nr(e,t){for(Ns[e]=t,e=0;e<t.length;e++)$p.add(t[e])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ma=Object.prototype.hasOwnProperty,Nv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sd={},od={};function Rv(e){return ma.call(od,e)?!0:ma.call(sd,e)?!1:Nv.test(e)?od[e]=!0:(sd[e]=!0,!1)}function Dv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Av(e,t,n,r){if(t===null||typeof t>"u"||Dv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){He[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];He[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){He[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){He[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){He[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){He[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){He[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){He[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){He[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var jc=/[\-:]([a-z])/g;function Nc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(jc,Nc);He[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(jc,Nc);He[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(jc,Nc);He[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){He[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});He.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){He[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Rc(e,t,n,r){var s=He.hasOwnProperty(t)?He[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Av(t,n,s,r)&&(n=null),r||s===null?Rv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var cn=jv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wo=Symbol.for("react.element"),cr=Symbol.for("react.portal"),ur=Symbol.for("react.fragment"),Dc=Symbol.for("react.strict_mode"),ga=Symbol.for("react.profiler"),Up=Symbol.for("react.provider"),Wp=Symbol.for("react.context"),Ac=Symbol.for("react.forward_ref"),ya=Symbol.for("react.suspense"),va=Symbol.for("react.suspense_list"),Pc=Symbol.for("react.memo"),fn=Symbol.for("react.lazy"),Vp=Symbol.for("react.offscreen"),id=Symbol.iterator;function Zr(e){return e===null||typeof e!="object"?null:(e=id&&e[id]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,_l;function ds(e){if(_l===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_l=t&&t[1]||""}return`
`+_l+e}var Sl=!1;function Cl(e,t){if(!e||Sl)return"";Sl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{Sl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ds(e):""}function Pv(e){switch(e.tag){case 5:return ds(e.type);case 16:return ds("Lazy");case 13:return ds("Suspense");case 19:return ds("SuspenseList");case 0:case 2:case 15:return e=Cl(e.type,!1),e;case 11:return e=Cl(e.type.render,!1),e;case 1:return e=Cl(e.type,!0),e;default:return""}}function xa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ur:return"Fragment";case cr:return"Portal";case ga:return"Profiler";case Dc:return"StrictMode";case ya:return"Suspense";case va:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wp:return(e.displayName||"Context")+".Consumer";case Up:return(e._context.displayName||"Context")+".Provider";case Ac:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pc:return t=e.displayName||null,t!==null?t:xa(e.type)||"Memo";case fn:t=e._payload,e=e._init;try{return xa(e(t))}catch{}}return null}function Iv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xa(t);case 8:return t===Dc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ov(e){var t=Hp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bo(e){e._valueTracker||(e._valueTracker=Ov(e))}function Gp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Hp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wa(e,t){var n=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ld(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Dn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qp(e,t){t=t.checked,t!=null&&Rc(e,"checked",t,!1)}function ba(e,t){qp(e,t);var n=Dn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_a(e,t.type,n):t.hasOwnProperty("defaultValue")&&_a(e,t.type,Dn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ad(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function _a(e,t,n){(t!=="number"||oi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fs=Array.isArray;function _r(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Dn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Sa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(fs(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Dn(n)}}function Kp(e,t){var n=Dn(t.value),r=Dn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ud(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ca(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _o,Yp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_o=_o||document.createElement("div"),_o.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_o.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Rs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tv=["Webkit","ms","Moz","O"];Object.keys(ms).forEach(function(e){Tv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ms[t]=ms[e]})});function Jp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ms.hasOwnProperty(e)&&ms[e]?(""+t).trim():t+"px"}function Xp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Jp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Lv=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ka(e,t){if(t){if(Lv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function Ea(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ja=null;function Ic(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Na=null,Sr=null,Cr=null;function dd(e){if(e=so(e)){if(typeof Na!="function")throw Error(M(280));var t=e.stateNode;t&&(t=qi(t),Na(e.stateNode,e.type,t))}}function Zp(e){Sr?Cr?Cr.push(e):Cr=[e]:Sr=e}function eh(){if(Sr){var e=Sr,t=Cr;if(Cr=Sr=null,dd(e),t)for(e=0;e<t.length;e++)dd(t[e])}}function th(e,t){return e(t)}function nh(){}var kl=!1;function rh(e,t,n){if(kl)return e(t,n);kl=!0;try{return th(e,t,n)}finally{kl=!1,(Sr!==null||Cr!==null)&&(nh(),eh())}}function Ds(e,t){var n=e.stateNode;if(n===null)return null;var r=qi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var Ra=!1;if(sn)try{var es={};Object.defineProperty(es,"passive",{get:function(){Ra=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{Ra=!1}function Fv(e,t,n,r,s,o,i,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var gs=!1,ii=null,li=!1,Da=null,Mv={onError:function(e){gs=!0,ii=e}};function Bv(e,t,n,r,s,o,i,a,c){gs=!1,ii=null,Fv.apply(Mv,arguments)}function zv(e,t,n,r,s,o,i,a,c){if(Bv.apply(this,arguments),gs){if(gs){var u=ii;gs=!1,ii=null}else throw Error(M(198));li||(li=!0,Da=u)}}function ir(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fd(e){if(ir(e)!==e)throw Error(M(188))}function $v(e){var t=e.alternate;if(!t){if(t=ir(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return fd(s),e;if(o===r)return fd(s),t;o=o.sibling}throw Error(M(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function oh(e){return e=$v(e),e!==null?ih(e):null}function ih(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ih(e);if(t!==null)return t;e=e.sibling}return null}var lh=xt.unstable_scheduleCallback,pd=xt.unstable_cancelCallback,Uv=xt.unstable_shouldYield,Wv=xt.unstable_requestPaint,De=xt.unstable_now,Vv=xt.unstable_getCurrentPriorityLevel,Oc=xt.unstable_ImmediatePriority,ah=xt.unstable_UserBlockingPriority,ai=xt.unstable_NormalPriority,Hv=xt.unstable_LowPriority,ch=xt.unstable_IdlePriority,Wi=null,Kt=null;function Gv(e){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Wi,e,void 0,(e.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:Qv,qv=Math.log,Kv=Math.LN2;function Qv(e){return e>>>=0,e===0?32:31-(qv(e)/Kv|0)|0}var So=64,Co=4194304;function ps(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ci(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=ps(a):(o&=i,o!==0&&(r=ps(o)))}else i=n&~s,i!==0?r=ps(i):o!==0&&(r=ps(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-zt(t),s=1<<n,r|=e[n],t&=~s;return r}function Yv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-zt(o),a=1<<i,c=s[i];c===-1?(!(a&n)||a&r)&&(s[i]=Yv(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function Aa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uh(){var e=So;return So<<=1,!(So&4194240)&&(So=64),e}function El(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function no(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=n}function Xv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-zt(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Tc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-zt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var me=0;function dh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fh,Lc,ph,hh,mh,Pa=!1,ko=[],xn=null,wn=null,bn=null,As=new Map,Ps=new Map,hn=[],Zv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hd(e,t){switch(e){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":As.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ps.delete(t.pointerId)}}function ts(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=so(t),t!==null&&Lc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ex(e,t,n,r,s){switch(t){case"focusin":return xn=ts(xn,e,t,n,r,s),!0;case"dragenter":return wn=ts(wn,e,t,n,r,s),!0;case"mouseover":return bn=ts(bn,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return As.set(o,ts(As.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Ps.set(o,ts(Ps.get(o)||null,e,t,n,r,s)),!0}return!1}function gh(e){var t=Vn(e.target);if(t!==null){var n=ir(t);if(n!==null){if(t=n.tag,t===13){if(t=sh(n),t!==null){e.blockedOn=t,mh(e.priority,function(){ph(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ho(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ia(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ja=r,n.target.dispatchEvent(r),ja=null}else return t=so(n),t!==null&&Lc(t),e.blockedOn=n,!1;t.shift()}return!0}function md(e,t,n){Ho(e)&&n.delete(t)}function tx(){Pa=!1,xn!==null&&Ho(xn)&&(xn=null),wn!==null&&Ho(wn)&&(wn=null),bn!==null&&Ho(bn)&&(bn=null),As.forEach(md),Ps.forEach(md)}function ns(e,t){e.blockedOn===t&&(e.blockedOn=null,Pa||(Pa=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,tx)))}function Is(e){function t(s){return ns(s,e)}if(0<ko.length){ns(ko[0],e);for(var n=1;n<ko.length;n++){var r=ko[n];r.blockedOn===e&&(r.blockedOn=null)}}for(xn!==null&&ns(xn,e),wn!==null&&ns(wn,e),bn!==null&&ns(bn,e),As.forEach(t),Ps.forEach(t),n=0;n<hn.length;n++)r=hn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<hn.length&&(n=hn[0],n.blockedOn===null);)gh(n),n.blockedOn===null&&hn.shift()}var kr=cn.ReactCurrentBatchConfig,ui=!0;function nx(e,t,n,r){var s=me,o=kr.transition;kr.transition=null;try{me=1,Fc(e,t,n,r)}finally{me=s,kr.transition=o}}function rx(e,t,n,r){var s=me,o=kr.transition;kr.transition=null;try{me=4,Fc(e,t,n,r)}finally{me=s,kr.transition=o}}function Fc(e,t,n,r){if(ui){var s=Ia(e,t,n,r);if(s===null)Ll(e,t,r,di,n),hd(e,r);else if(ex(s,e,t,n,r))r.stopPropagation();else if(hd(e,r),t&4&&-1<Zv.indexOf(e)){for(;s!==null;){var o=so(s);if(o!==null&&fh(o),o=Ia(e,t,n,r),o===null&&Ll(e,t,r,di,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Ll(e,t,r,null,n)}}var di=null;function Ia(e,t,n,r){if(di=null,e=Ic(r),e=Vn(e),e!==null)if(t=ir(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return di=e,null}function yh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vv()){case Oc:return 1;case ah:return 4;case ai:case Hv:return 16;case ch:return 536870912;default:return 16}default:return 16}}var gn=null,Mc=null,Go=null;function vh(){if(Go)return Go;var e,t=Mc,n=t.length,r,s="value"in gn?gn.value:gn.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Go=s.slice(e,1<r?1-r:void 0)}function qo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Eo(){return!0}function gd(){return!1}function _t(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Eo:gd,this.isPropagationStopped=gd,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Eo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Eo)},persist:function(){},isPersistent:Eo}),t}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bc=_t(zr),ro=Ee({},zr,{view:0,detail:0}),sx=_t(ro),jl,Nl,rs,Vi=Ee({},ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rs&&(rs&&e.type==="mousemove"?(jl=e.screenX-rs.screenX,Nl=e.screenY-rs.screenY):Nl=jl=0,rs=e),jl)},movementY:function(e){return"movementY"in e?e.movementY:Nl}}),yd=_t(Vi),ox=Ee({},Vi,{dataTransfer:0}),ix=_t(ox),lx=Ee({},ro,{relatedTarget:0}),Rl=_t(lx),ax=Ee({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),cx=_t(ax),ux=Ee({},zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dx=_t(ux),fx=Ee({},zr,{data:0}),vd=_t(fx),px={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mx[e])?!!t[e]:!1}function zc(){return gx}var yx=Ee({},ro,{key:function(e){if(e.key){var t=px[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zc,charCode:function(e){return e.type==="keypress"?qo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vx=_t(yx),xx=Ee({},Vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xd=_t(xx),wx=Ee({},ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zc}),bx=_t(wx),_x=Ee({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sx=_t(_x),Cx=Ee({},Vi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kx=_t(Cx),Ex=[9,13,27,32],$c=sn&&"CompositionEvent"in window,ys=null;sn&&"documentMode"in document&&(ys=document.documentMode);var jx=sn&&"TextEvent"in window&&!ys,xh=sn&&(!$c||ys&&8<ys&&11>=ys),wd=" ",bd=!1;function wh(e,t){switch(e){case"keyup":return Ex.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dr=!1;function Nx(e,t){switch(e){case"compositionend":return bh(t);case"keypress":return t.which!==32?null:(bd=!0,wd);case"textInput":return e=t.data,e===wd&&bd?null:e;default:return null}}function Rx(e,t){if(dr)return e==="compositionend"||!$c&&wh(e,t)?(e=vh(),Go=Mc=gn=null,dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xh&&t.locale!=="ko"?null:t.data;default:return null}}var Dx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _d(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dx[e.type]:t==="textarea"}function _h(e,t,n,r){Zp(r),t=fi(t,"onChange"),0<t.length&&(n=new Bc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var vs=null,Os=null;function Ax(e){Ih(e,0)}function Hi(e){var t=hr(e);if(Gp(t))return e}function Px(e,t){if(e==="change")return t}var Sh=!1;if(sn){var Dl;if(sn){var Al="oninput"in document;if(!Al){var Sd=document.createElement("div");Sd.setAttribute("oninput","return;"),Al=typeof Sd.oninput=="function"}Dl=Al}else Dl=!1;Sh=Dl&&(!document.documentMode||9<document.documentMode)}function Cd(){vs&&(vs.detachEvent("onpropertychange",Ch),Os=vs=null)}function Ch(e){if(e.propertyName==="value"&&Hi(Os)){var t=[];_h(t,Os,e,Ic(e)),rh(Ax,t)}}function Ix(e,t,n){e==="focusin"?(Cd(),vs=t,Os=n,vs.attachEvent("onpropertychange",Ch)):e==="focusout"&&Cd()}function Ox(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hi(Os)}function Tx(e,t){if(e==="click")return Hi(t)}function Lx(e,t){if(e==="input"||e==="change")return Hi(t)}function Fx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:Fx;function Ts(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ma.call(t,s)||!Ut(e[s],t[s]))return!1}return!0}function kd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ed(e,t){var n=kd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kd(n)}}function kh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Eh(){for(var e=window,t=oi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=oi(e.document)}return t}function Uc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Mx(e){var t=Eh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&kh(n.ownerDocument.documentElement,n)){if(r!==null&&Uc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Ed(n,o);var i=Ed(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bx=sn&&"documentMode"in document&&11>=document.documentMode,fr=null,Oa=null,xs=null,Ta=!1;function jd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ta||fr==null||fr!==oi(r)||(r=fr,"selectionStart"in r&&Uc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xs&&Ts(xs,r)||(xs=r,r=fi(Oa,"onSelect"),0<r.length&&(t=new Bc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fr)))}function jo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pr={animationend:jo("Animation","AnimationEnd"),animationiteration:jo("Animation","AnimationIteration"),animationstart:jo("Animation","AnimationStart"),transitionend:jo("Transition","TransitionEnd")},Pl={},jh={};sn&&(jh=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function Gi(e){if(Pl[e])return Pl[e];if(!pr[e])return e;var t=pr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jh)return Pl[e]=t[n];return e}var Nh=Gi("animationend"),Rh=Gi("animationiteration"),Dh=Gi("animationstart"),Ah=Gi("transitionend"),Ph=new Map,Nd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function In(e,t){Ph.set(e,t),or(t,[e])}for(var Il=0;Il<Nd.length;Il++){var Ol=Nd[Il],zx=Ol.toLowerCase(),$x=Ol[0].toUpperCase()+Ol.slice(1);In(zx,"on"+$x)}In(Nh,"onAnimationEnd");In(Rh,"onAnimationIteration");In(Dh,"onAnimationStart");In("dblclick","onDoubleClick");In("focusin","onFocus");In("focusout","onBlur");In(Ah,"onTransitionEnd");Nr("onMouseEnter",["mouseout","mouseover"]);Nr("onMouseLeave",["mouseout","mouseover"]);Nr("onPointerEnter",["pointerout","pointerover"]);Nr("onPointerLeave",["pointerout","pointerover"]);or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));or("onBeforeInput",["compositionend","keypress","textInput","paste"]);or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ux=new Set("cancel close invalid load scroll toggle".split(" ").concat(hs));function Rd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,zv(r,t,void 0,e),e.currentTarget=null}function Ih(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;Rd(s,a,u),o=c}else for(i=0;i<r.length;i++){if(a=r[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;Rd(s,a,u),o=c}}}if(li)throw e=Da,li=!1,Da=null,e}function be(e,t){var n=t[za];n===void 0&&(n=t[za]=new Set);var r=e+"__bubble";n.has(r)||(Oh(t,e,2,!1),n.add(r))}function Tl(e,t,n){var r=0;t&&(r|=4),Oh(n,e,r,t)}var No="_reactListening"+Math.random().toString(36).slice(2);function Ls(e){if(!e[No]){e[No]=!0,$p.forEach(function(n){n!=="selectionchange"&&(Ux.has(n)||Tl(n,!1,e),Tl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[No]||(t[No]=!0,Tl("selectionchange",!1,t))}}function Oh(e,t,n,r){switch(yh(t)){case 1:var s=nx;break;case 4:s=rx;break;default:s=Fc}n=s.bind(null,t,n,e),s=void 0,!Ra||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ll(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Vn(a),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}a=a.parentNode}}r=r.return}rh(function(){var u=o,f=Ic(n),d=[];e:{var p=Ph.get(e);if(p!==void 0){var h=Bc,m=e;switch(e){case"keypress":if(qo(n)===0)break e;case"keydown":case"keyup":h=vx;break;case"focusin":m="focus",h=Rl;break;case"focusout":m="blur",h=Rl;break;case"beforeblur":case"afterblur":h=Rl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=ix;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=bx;break;case Nh:case Rh:case Dh:h=cx;break;case Ah:h=Sx;break;case"scroll":h=sx;break;case"wheel":h=kx;break;case"copy":case"cut":case"paste":h=dx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=xd}var y=(t&4)!==0,x=!y&&e==="scroll",v=y?p!==null?p+"Capture":null:p;y=[];for(var g=u,b;g!==null;){b=g;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,v!==null&&(_=Ds(g,v),_!=null&&y.push(Fs(g,_,b)))),x)break;g=g.return}0<y.length&&(p=new h(p,m,null,n,f),d.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==ja&&(m=n.relatedTarget||n.fromElement)&&(Vn(m)||m[on]))break e;if((h||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=u,m=m?Vn(m):null,m!==null&&(x=ir(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=u),h!==m)){if(y=yd,_="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=xd,_="onPointerLeave",v="onPointerEnter",g="pointer"),x=h==null?p:hr(h),b=m==null?p:hr(m),p=new y(_,g+"leave",h,n,f),p.target=x,p.relatedTarget=b,_=null,Vn(f)===u&&(y=new y(v,g+"enter",m,n,f),y.target=b,y.relatedTarget=x,_=y),x=_,h&&m)t:{for(y=h,v=m,g=0,b=y;b;b=lr(b))g++;for(b=0,_=v;_;_=lr(_))b++;for(;0<g-b;)y=lr(y),g--;for(;0<b-g;)v=lr(v),b--;for(;g--;){if(y===v||v!==null&&y===v.alternate)break t;y=lr(y),v=lr(v)}y=null}else y=null;h!==null&&Dd(d,p,h,y,!1),m!==null&&x!==null&&Dd(d,x,m,y,!0)}}e:{if(p=u?hr(u):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var j=Px;else if(_d(p))if(Sh)j=Lx;else{j=Ox;var N=Ix}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=Tx);if(j&&(j=j(e,u))){_h(d,j,n,f);break e}N&&N(e,p,u),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&_a(p,"number",p.value)}switch(N=u?hr(u):window,e){case"focusin":(_d(N)||N.contentEditable==="true")&&(fr=N,Oa=u,xs=null);break;case"focusout":xs=Oa=fr=null;break;case"mousedown":Ta=!0;break;case"contextmenu":case"mouseup":case"dragend":Ta=!1,jd(d,n,f);break;case"selectionchange":if(Bx)break;case"keydown":case"keyup":jd(d,n,f)}var D;if($c)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else dr?wh(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(xh&&n.locale!=="ko"&&(dr||S!=="onCompositionStart"?S==="onCompositionEnd"&&dr&&(D=vh()):(gn=f,Mc="value"in gn?gn.value:gn.textContent,dr=!0)),N=fi(u,S),0<N.length&&(S=new vd(S,e,null,n,f),d.push({event:S,listeners:N}),D?S.data=D:(D=bh(n),D!==null&&(S.data=D)))),(D=jx?Nx(e,n):Rx(e,n))&&(u=fi(u,"onBeforeInput"),0<u.length&&(f=new vd("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=D))}Ih(d,t)})}function Fs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ds(e,n),o!=null&&r.unshift(Fs(e,o,s)),o=Ds(e,t),o!=null&&r.push(Fs(e,o,s))),e=e.return}return r}function lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Dd(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=Ds(n,o),c!=null&&i.unshift(Fs(n,c,a))):s||(c=Ds(n,o),c!=null&&i.push(Fs(n,c,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Wx=/\r\n?/g,Vx=/\u0000|\uFFFD/g;function Ad(e){return(typeof e=="string"?e:""+e).replace(Wx,`
`).replace(Vx,"")}function Ro(e,t,n){if(t=Ad(t),Ad(e)!==t&&n)throw Error(M(425))}function pi(){}var La=null,Fa=null;function Ma(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ba=typeof setTimeout=="function"?setTimeout:void 0,Hx=typeof clearTimeout=="function"?clearTimeout:void 0,Pd=typeof Promise=="function"?Promise:void 0,Gx=typeof queueMicrotask=="function"?queueMicrotask:typeof Pd<"u"?function(e){return Pd.resolve(null).then(e).catch(qx)}:Ba;function qx(e){setTimeout(function(){throw e})}function Fl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Is(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Is(t)}function _n(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Id(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var $r=Math.random().toString(36).slice(2),qt="__reactFiber$"+$r,Ms="__reactProps$"+$r,on="__reactContainer$"+$r,za="__reactEvents$"+$r,Kx="__reactListeners$"+$r,Qx="__reactHandles$"+$r;function Vn(e){var t=e[qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[on]||n[qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Id(e);e!==null;){if(n=e[qt])return n;e=Id(e)}return t}e=n,n=e.parentNode}return null}function so(e){return e=e[qt]||e[on],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function qi(e){return e[Ms]||null}var $a=[],mr=-1;function On(e){return{current:e}}function _e(e){0>mr||(e.current=$a[mr],$a[mr]=null,mr--)}function xe(e,t){mr++,$a[mr]=e.current,e.current=t}var An={},Je=On(An),lt=On(!1),Jn=An;function Rr(e,t){var n=e.type.contextTypes;if(!n)return An;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function at(e){return e=e.childContextTypes,e!=null}function hi(){_e(lt),_e(Je)}function Od(e,t,n){if(Je.current!==An)throw Error(M(168));xe(Je,t),xe(lt,n)}function Th(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(M(108,Iv(e)||"Unknown",s));return Ee({},n,r)}function mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||An,Jn=Je.current,xe(Je,e),xe(lt,lt.current),!0}function Td(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=Th(e,t,Jn),r.__reactInternalMemoizedMergedChildContext=e,_e(lt),_e(Je),xe(Je,e)):_e(lt),xe(lt,n)}var en=null,Ki=!1,Ml=!1;function Lh(e){en===null?en=[e]:en.push(e)}function Yx(e){Ki=!0,Lh(e)}function Tn(){if(!Ml&&en!==null){Ml=!0;var e=0,t=me;try{var n=en;for(me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}en=null,Ki=!1}catch(s){throw en!==null&&(en=en.slice(e+1)),lh(Oc,Tn),s}finally{me=t,Ml=!1}}return null}var gr=[],yr=0,gi=null,yi=0,kt=[],Et=0,Xn=null,tn=1,nn="";function zn(e,t){gr[yr++]=yi,gr[yr++]=gi,gi=e,yi=t}function Fh(e,t,n){kt[Et++]=tn,kt[Et++]=nn,kt[Et++]=Xn,Xn=e;var r=tn;e=nn;var s=32-zt(r)-1;r&=~(1<<s),n+=1;var o=32-zt(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,tn=1<<32-zt(t)+s|n<<s|r,nn=o+e}else tn=1<<o|n<<s|r,nn=e}function Wc(e){e.return!==null&&(zn(e,1),Fh(e,1,0))}function Vc(e){for(;e===gi;)gi=gr[--yr],gr[yr]=null,yi=gr[--yr],gr[yr]=null;for(;e===Xn;)Xn=kt[--Et],kt[Et]=null,nn=kt[--Et],kt[Et]=null,tn=kt[--Et],kt[Et]=null}var gt=null,ht=null,Se=!1,Mt=null;function Mh(e,t){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ld(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gt=e,ht=_n(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gt=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Xn!==null?{id:tn,overflow:nn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,gt=e,ht=null,!0):!1;default:return!1}}function Ua(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wa(e){if(Se){var t=ht;if(t){var n=t;if(!Ld(e,t)){if(Ua(e))throw Error(M(418));t=_n(n.nextSibling);var r=gt;t&&Ld(e,t)?Mh(r,n):(e.flags=e.flags&-4097|2,Se=!1,gt=e)}}else{if(Ua(e))throw Error(M(418));e.flags=e.flags&-4097|2,Se=!1,gt=e}}}function Fd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function Do(e){if(e!==gt)return!1;if(!Se)return Fd(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ma(e.type,e.memoizedProps)),t&&(t=ht)){if(Ua(e))throw Bh(),Error(M(418));for(;t;)Mh(e,t),t=_n(t.nextSibling)}if(Fd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ht=_n(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=gt?_n(e.stateNode.nextSibling):null;return!0}function Bh(){for(var e=ht;e;)e=_n(e.nextSibling)}function Dr(){ht=gt=null,Se=!1}function Hc(e){Mt===null?Mt=[e]:Mt.push(e)}var Jx=cn.ReactCurrentBatchConfig;function ss(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function Ao(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Md(e){var t=e._init;return t(e._payload)}function zh(e){function t(v,g){if(e){var b=v.deletions;b===null?(v.deletions=[g],v.flags|=16):b.push(g)}}function n(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function r(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(v,g){return v=En(v,g),v.index=0,v.sibling=null,v}function o(v,g,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<g?(v.flags|=2,g):b):(v.flags|=2,g)):(v.flags|=1048576,g)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,g,b,_){return g===null||g.tag!==6?(g=Hl(b,v.mode,_),g.return=v,g):(g=s(g,b),g.return=v,g)}function c(v,g,b,_){var j=b.type;return j===ur?f(v,g,b.props.children,_,b.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===fn&&Md(j)===g.type)?(_=s(g,b.props),_.ref=ss(v,g,b),_.return=v,_):(_=ei(b.type,b.key,b.props,null,v.mode,_),_.ref=ss(v,g,b),_.return=v,_)}function u(v,g,b,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Gl(b,v.mode,_),g.return=v,g):(g=s(g,b.children||[]),g.return=v,g)}function f(v,g,b,_,j){return g===null||g.tag!==7?(g=Qn(b,v.mode,_,j),g.return=v,g):(g=s(g,b),g.return=v,g)}function d(v,g,b){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Hl(""+g,v.mode,b),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case wo:return b=ei(g.type,g.key,g.props,null,v.mode,b),b.ref=ss(v,null,g),b.return=v,b;case cr:return g=Gl(g,v.mode,b),g.return=v,g;case fn:var _=g._init;return d(v,_(g._payload),b)}if(fs(g)||Zr(g))return g=Qn(g,v.mode,b,null),g.return=v,g;Ao(v,g)}return null}function p(v,g,b,_){var j=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:a(v,g,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wo:return b.key===j?c(v,g,b,_):null;case cr:return b.key===j?u(v,g,b,_):null;case fn:return j=b._init,p(v,g,j(b._payload),_)}if(fs(b)||Zr(b))return j!==null?null:f(v,g,b,_,null);Ao(v,b)}return null}function h(v,g,b,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(b)||null,a(g,v,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case wo:return v=v.get(_.key===null?b:_.key)||null,c(g,v,_,j);case cr:return v=v.get(_.key===null?b:_.key)||null,u(g,v,_,j);case fn:var N=_._init;return h(v,g,b,N(_._payload),j)}if(fs(_)||Zr(_))return v=v.get(b)||null,f(g,v,_,j,null);Ao(g,_)}return null}function m(v,g,b,_){for(var j=null,N=null,D=g,S=g=0,C=null;D!==null&&S<b.length;S++){D.index>S?(C=D,D=null):C=D.sibling;var E=p(v,D,b[S],_);if(E===null){D===null&&(D=C);break}e&&D&&E.alternate===null&&t(v,D),g=o(E,g,S),N===null?j=E:N.sibling=E,N=E,D=C}if(S===b.length)return n(v,D),Se&&zn(v,S),j;if(D===null){for(;S<b.length;S++)D=d(v,b[S],_),D!==null&&(g=o(D,g,S),N===null?j=D:N.sibling=D,N=D);return Se&&zn(v,S),j}for(D=r(v,D);S<b.length;S++)C=h(D,v,S,b[S],_),C!==null&&(e&&C.alternate!==null&&D.delete(C.key===null?S:C.key),g=o(C,g,S),N===null?j=C:N.sibling=C,N=C);return e&&D.forEach(function(k){return t(v,k)}),Se&&zn(v,S),j}function y(v,g,b,_){var j=Zr(b);if(typeof j!="function")throw Error(M(150));if(b=j.call(b),b==null)throw Error(M(151));for(var N=j=null,D=g,S=g=0,C=null,E=b.next();D!==null&&!E.done;S++,E=b.next()){D.index>S?(C=D,D=null):C=D.sibling;var k=p(v,D,E.value,_);if(k===null){D===null&&(D=C);break}e&&D&&k.alternate===null&&t(v,D),g=o(k,g,S),N===null?j=k:N.sibling=k,N=k,D=C}if(E.done)return n(v,D),Se&&zn(v,S),j;if(D===null){for(;!E.done;S++,E=b.next())E=d(v,E.value,_),E!==null&&(g=o(E,g,S),N===null?j=E:N.sibling=E,N=E);return Se&&zn(v,S),j}for(D=r(v,D);!E.done;S++,E=b.next())E=h(D,v,S,E.value,_),E!==null&&(e&&E.alternate!==null&&D.delete(E.key===null?S:E.key),g=o(E,g,S),N===null?j=E:N.sibling=E,N=E);return e&&D.forEach(function(R){return t(v,R)}),Se&&zn(v,S),j}function x(v,g,b,_){if(typeof b=="object"&&b!==null&&b.type===ur&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case wo:e:{for(var j=b.key,N=g;N!==null;){if(N.key===j){if(j=b.type,j===ur){if(N.tag===7){n(v,N.sibling),g=s(N,b.props.children),g.return=v,v=g;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===fn&&Md(j)===N.type){n(v,N.sibling),g=s(N,b.props),g.ref=ss(v,N,b),g.return=v,v=g;break e}n(v,N);break}else t(v,N);N=N.sibling}b.type===ur?(g=Qn(b.props.children,v.mode,_,b.key),g.return=v,v=g):(_=ei(b.type,b.key,b.props,null,v.mode,_),_.ref=ss(v,g,b),_.return=v,v=_)}return i(v);case cr:e:{for(N=b.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){n(v,g.sibling),g=s(g,b.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else t(v,g);g=g.sibling}g=Gl(b,v.mode,_),g.return=v,v=g}return i(v);case fn:return N=b._init,x(v,g,N(b._payload),_)}if(fs(b))return m(v,g,b,_);if(Zr(b))return y(v,g,b,_);Ao(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,g!==null&&g.tag===6?(n(v,g.sibling),g=s(g,b),g.return=v,v=g):(n(v,g),g=Hl(b,v.mode,_),g.return=v,v=g),i(v)):n(v,g)}return x}var Ar=zh(!0),$h=zh(!1),vi=On(null),xi=null,vr=null,Gc=null;function qc(){Gc=vr=xi=null}function Kc(e){var t=vi.current;_e(vi),e._currentValue=t}function Va(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Er(e,t){xi=e,Gc=vr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(it=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(Gc!==e)if(e={context:e,memoizedValue:t,next:null},vr===null){if(xi===null)throw Error(M(308));vr=e,xi.dependencies={lanes:0,firstContext:e}}else vr=vr.next=e;return t}var Hn=null;function Qc(e){Hn===null?Hn=[e]:Hn.push(e)}function Uh(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Qc(t)):(n.next=s.next,s.next=n),t.interleaved=n,ln(e,r)}function ln(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var pn=!1;function Yc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ln(e,n)}return s=r.interleaved,s===null?(t.next=t,Qc(r)):(t.next=s.next,s.next=t),r.interleaved=t,ln(e,n)}function Ko(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Tc(e,n)}}function Bd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wi(e,t,n,r){var s=e.updateQueue;pn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==i&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=c))}if(o!==null){var d=s.baseState;i=0,f=u=c=null,a=o;do{var p=a.lane,h=a.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,y=a;switch(p=t,h=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(h,d,p);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,p=typeof m=="function"?m.call(h,d,p):m,p==null)break e;d=Ee({},d,p);break e;case 2:pn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else h={eventTime:h,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=h,c=d):f=f.next=h,i|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);er|=i,e.lanes=i,e.memoizedState=d}}function zd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(M(191,s));s.call(r)}}}var oo={},Qt=On(oo),Bs=On(oo),zs=On(oo);function Gn(e){if(e===oo)throw Error(M(174));return e}function Jc(e,t){switch(xe(zs,t),xe(Bs,e),xe(Qt,oo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ca(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ca(t,e)}_e(Qt),xe(Qt,t)}function Pr(){_e(Qt),_e(Bs),_e(zs)}function Vh(e){Gn(zs.current);var t=Gn(Qt.current),n=Ca(t,e.type);t!==n&&(xe(Bs,e),xe(Qt,n))}function Xc(e){Bs.current===e&&(_e(Qt),_e(Bs))}var Ce=On(0);function bi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bl=[];function Zc(){for(var e=0;e<Bl.length;e++)Bl[e]._workInProgressVersionPrimary=null;Bl.length=0}var Qo=cn.ReactCurrentDispatcher,zl=cn.ReactCurrentBatchConfig,Zn=0,ke=null,Oe=null,Me=null,_i=!1,ws=!1,$s=0,Xx=0;function qe(){throw Error(M(321))}function eu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ut(e[n],t[n]))return!1;return!0}function tu(e,t,n,r,s,o){if(Zn=o,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qo.current=e===null||e.memoizedState===null?n0:r0,e=n(r,s),ws){o=0;do{if(ws=!1,$s=0,25<=o)throw Error(M(301));o+=1,Me=Oe=null,t.updateQueue=null,Qo.current=s0,e=n(r,s)}while(ws)}if(Qo.current=Si,t=Oe!==null&&Oe.next!==null,Zn=0,Me=Oe=ke=null,_i=!1,t)throw Error(M(300));return e}function nu(){var e=$s!==0;return $s=0,e}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?ke.memoizedState=Me=e:Me=Me.next=e,Me}function Pt(){if(Oe===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=Me===null?ke.memoizedState:Me.next;if(t!==null)Me=t,Oe=e;else{if(e===null)throw Error(M(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Me===null?ke.memoizedState=Me=e:Me=Me.next=e}return Me}function Us(e,t){return typeof t=="function"?t(e):t}function $l(e){var t=Pt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=Oe,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,c=null,u=o;do{var f=u.lane;if((Zn&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=d,i=r):c=c.next=d,ke.lanes|=f,er|=f}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=a,Ut(r,t.memoizedState)||(it=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,ke.lanes|=o,er|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ul(e){var t=Pt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Ut(o,t.memoizedState)||(it=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Hh(){}function Gh(e,t){var n=ke,r=Pt(),s=t(),o=!Ut(r.memoizedState,s);if(o&&(r.memoizedState=s,it=!0),r=r.queue,ru(Qh.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,Ws(9,Kh.bind(null,n,r,s,t),void 0,null),Be===null)throw Error(M(349));Zn&30||qh(n,t,s)}return s}function qh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Kh(e,t,n,r){t.value=n,t.getSnapshot=r,Yh(t)&&Jh(e)}function Qh(e,t,n){return n(function(){Yh(t)&&Jh(e)})}function Yh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ut(e,n)}catch{return!0}}function Jh(e){var t=ln(e,1);t!==null&&$t(t,e,1,-1)}function $d(e){var t=Gt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:e},t.queue=e,e=e.dispatch=t0.bind(null,ke,e),[t.memoizedState,e]}function Ws(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Xh(){return Pt().memoizedState}function Yo(e,t,n,r){var s=Gt();ke.flags|=e,s.memoizedState=Ws(1|t,n,void 0,r===void 0?null:r)}function Qi(e,t,n,r){var s=Pt();r=r===void 0?null:r;var o=void 0;if(Oe!==null){var i=Oe.memoizedState;if(o=i.destroy,r!==null&&eu(r,i.deps)){s.memoizedState=Ws(t,n,o,r);return}}ke.flags|=e,s.memoizedState=Ws(1|t,n,o,r)}function Ud(e,t){return Yo(8390656,8,e,t)}function ru(e,t){return Qi(2048,8,e,t)}function Zh(e,t){return Qi(4,2,e,t)}function em(e,t){return Qi(4,4,e,t)}function tm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nm(e,t,n){return n=n!=null?n.concat([e]):null,Qi(4,4,tm.bind(null,t,e),n)}function su(){}function rm(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&eu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sm(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&eu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function om(e,t,n){return Zn&21?(Ut(n,t)||(n=uh(),ke.lanes|=n,er|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=n)}function Zx(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var r=zl.transition;zl.transition={};try{e(!1),t()}finally{me=n,zl.transition=r}}function im(){return Pt().memoizedState}function e0(e,t,n){var r=kn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lm(e))am(t,n);else if(n=Uh(e,t,n,r),n!==null){var s=tt();$t(n,e,r,s),cm(n,t,r)}}function t0(e,t,n){var r=kn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lm(e))am(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,Ut(a,i)){var c=t.interleaved;c===null?(s.next=s,Qc(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Uh(e,t,s,r),n!==null&&(s=tt(),$t(n,e,r,s),cm(n,t,r))}}function lm(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function am(e,t){ws=_i=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Tc(e,n)}}var Si={readContext:At,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},n0={readContext:At,useCallback:function(e,t){return Gt().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:Ud,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Yo(4194308,4,tm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yo(4,2,e,t)},useMemo:function(e,t){var n=Gt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Gt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=e0.bind(null,ke,e),[r.memoizedState,e]},useRef:function(e){var t=Gt();return e={current:e},t.memoizedState=e},useState:$d,useDebugValue:su,useDeferredValue:function(e){return Gt().memoizedState=e},useTransition:function(){var e=$d(!1),t=e[0];return e=Zx.bind(null,e[1]),Gt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ke,s=Gt();if(Se){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),Be===null)throw Error(M(349));Zn&30||qh(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Ud(Qh.bind(null,r,o,e),[e]),r.flags|=2048,Ws(9,Kh.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Gt(),t=Be.identifierPrefix;if(Se){var n=nn,r=tn;n=(r&~(1<<32-zt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=$s++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Xx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},r0={readContext:At,useCallback:rm,useContext:At,useEffect:ru,useImperativeHandle:nm,useInsertionEffect:Zh,useLayoutEffect:em,useMemo:sm,useReducer:$l,useRef:Xh,useState:function(){return $l(Us)},useDebugValue:su,useDeferredValue:function(e){var t=Pt();return om(t,Oe.memoizedState,e)},useTransition:function(){var e=$l(Us)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Hh,useSyncExternalStore:Gh,useId:im,unstable_isNewReconciler:!1},s0={readContext:At,useCallback:rm,useContext:At,useEffect:ru,useImperativeHandle:nm,useInsertionEffect:Zh,useLayoutEffect:em,useMemo:sm,useReducer:Ul,useRef:Xh,useState:function(){return Ul(Us)},useDebugValue:su,useDeferredValue:function(e){var t=Pt();return Oe===null?t.memoizedState=e:om(t,Oe.memoizedState,e)},useTransition:function(){var e=Ul(Us)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Hh,useSyncExternalStore:Gh,useId:im,unstable_isNewReconciler:!1};function Lt(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ha(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yi={isMounted:function(e){return(e=e._reactInternals)?ir(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tt(),s=kn(e),o=rn(r,s);o.payload=t,n!=null&&(o.callback=n),t=Sn(e,o,s),t!==null&&($t(t,e,s,r),Ko(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tt(),s=kn(e),o=rn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Sn(e,o,s),t!==null&&($t(t,e,s,r),Ko(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tt(),r=kn(e),s=rn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Sn(e,s,r),t!==null&&($t(t,e,r,n),Ko(t,e,r))}};function Wd(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Ts(n,r)||!Ts(s,o):!0}function um(e,t,n){var r=!1,s=An,o=t.contextType;return typeof o=="object"&&o!==null?o=At(o):(s=at(t)?Jn:Je.current,r=t.contextTypes,o=(r=r!=null)?Rr(e,s):An),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Vd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Yi.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Yc(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=At(o):(o=at(t)?Jn:Je.current,s.context=Rr(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ha(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Yi.enqueueReplaceState(s,s.state,null),wi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ir(e,t){try{var n="",r=t;do n+=Pv(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Wl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function qa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var o0=typeof WeakMap=="function"?WeakMap:Map;function dm(e,t,n){n=rn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ki||(ki=!0,rc=r),qa(e,t)},n}function fm(e,t,n){n=rn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){qa(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){qa(e,t),typeof r!="function"&&(Cn===null?Cn=new Set([this]):Cn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Hd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new o0;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=x0.bind(null,e,t,n),t.then(e,e))}function Gd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qd(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=rn(-1,1),t.tag=2,Sn(n,t,1))),n.lanes|=1),e)}var i0=cn.ReactCurrentOwner,it=!1;function et(e,t,n,r){t.child=e===null?$h(t,null,n,r):Ar(t,e.child,n,r)}function Kd(e,t,n,r,s){n=n.render;var o=t.ref;return Er(t,s),r=tu(e,t,n,r,o,s),n=nu(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,an(e,t,s)):(Se&&n&&Wc(t),t.flags|=1,et(e,t,r,s),t.child)}function Qd(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!fu(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,pm(e,t,o,r,s)):(e=ei(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ts,n(i,r)&&e.ref===t.ref)return an(e,t,s)}return t.flags|=1,e=En(o,r),e.ref=t.ref,e.return=t,t.child=e}function pm(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Ts(o,r)&&e.ref===t.ref)if(it=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(it=!0);else return t.lanes=e.lanes,an(e,t,s)}return Ka(e,t,n,r,s)}function hm(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(wr,pt),pt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(wr,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,xe(wr,pt),pt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,xe(wr,pt),pt|=r;return et(e,t,s,n),t.child}function mm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ka(e,t,n,r,s){var o=at(n)?Jn:Je.current;return o=Rr(t,o),Er(t,s),n=tu(e,t,n,r,o,s),r=nu(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,an(e,t,s)):(Se&&r&&Wc(t),t.flags|=1,et(e,t,n,s),t.child)}function Yd(e,t,n,r,s){if(at(n)){var o=!0;mi(t)}else o=!1;if(Er(t,s),t.stateNode===null)Jo(e,t),um(t,n,r),Ga(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=At(u):(u=at(n)?Jn:Je.current,u=Rr(t,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||c!==u)&&Vd(t,i,r,u),pn=!1;var p=t.memoizedState;i.state=p,wi(t,r,i,s),c=t.memoizedState,a!==r||p!==c||lt.current||pn?(typeof f=="function"&&(Ha(t,n,f,r),c=t.memoizedState),(a=pn||Wd(t,n,a,r,p,c,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Wh(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Lt(t.type,a),i.props=u,d=t.pendingProps,p=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=At(c):(c=at(n)?Jn:Je.current,c=Rr(t,c));var h=n.getDerivedStateFromProps;(f=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==d||p!==c)&&Vd(t,i,r,c),pn=!1,p=t.memoizedState,i.state=p,wi(t,r,i,s);var m=t.memoizedState;a!==d||p!==m||lt.current||pn?(typeof h=="function"&&(Ha(t,n,h,r),m=t.memoizedState),(u=pn||Wd(t,n,u,r,p,m,c)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,m,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,m,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),i.props=r,i.state=m,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Qa(e,t,n,r,o,s)}function Qa(e,t,n,r,s,o){mm(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Td(t,n,!1),an(e,t,o);r=t.stateNode,i0.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Ar(t,e.child,null,o),t.child=Ar(t,null,a,o)):et(e,t,a,o),t.memoizedState=r.state,s&&Td(t,n,!0),t.child}function gm(e){var t=e.stateNode;t.pendingContext?Od(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Od(e,t.context,!1),Jc(e,t.containerInfo)}function Jd(e,t,n,r,s){return Dr(),Hc(s),t.flags|=256,et(e,t,n,r),t.child}var Ya={dehydrated:null,treeContext:null,retryLane:0};function Ja(e){return{baseLanes:e,cachePool:null,transitions:null}}function ym(e,t,n){var r=t.pendingProps,s=Ce.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),xe(Ce,s&1),e===null)return Wa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Zi(i,r,0,null),e=Qn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ja(n),t.memoizedState=Ya,e):ou(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return l0(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=En(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=En(a,o):(o=Qn(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Ja(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Ya,r}return o=e.child,e=o.sibling,r=En(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ou(e,t){return t=Zi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Po(e,t,n,r){return r!==null&&Hc(r),Ar(t,e.child,null,n),e=ou(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function l0(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Wl(Error(M(422))),Po(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Zi({mode:"visible",children:r.children},s,0,null),o=Qn(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ar(t,e.child,null,i),t.child.memoizedState=Ja(i),t.memoizedState=Ya,o);if(!(t.mode&1))return Po(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(M(419)),r=Wl(o,r,void 0),Po(e,t,i,r)}if(a=(i&e.childLanes)!==0,it||a){if(r=Be,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,ln(e,s),$t(r,e,s,-1))}return du(),r=Wl(Error(M(421))),Po(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=w0.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,ht=_n(s.nextSibling),gt=t,Se=!0,Mt=null,e!==null&&(kt[Et++]=tn,kt[Et++]=nn,kt[Et++]=Xn,tn=e.id,nn=e.overflow,Xn=t),t=ou(t,r.children),t.flags|=4096,t)}function Xd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Va(e.return,t,n)}function Vl(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function vm(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(et(e,t,r.children,n),r=Ce.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xd(e,n,t);else if(e.tag===19)Xd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xe(Ce,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&bi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Vl(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&bi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Vl(t,!0,n,null,o);break;case"together":Vl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function an(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),er|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=En(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=En(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function a0(e,t,n){switch(t.tag){case 3:gm(t),Dr();break;case 5:Vh(t);break;case 1:at(t.type)&&mi(t);break;case 4:Jc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;xe(vi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(xe(Ce,Ce.current&1),t.flags|=128,null):n&t.child.childLanes?ym(e,t,n):(xe(Ce,Ce.current&1),e=an(e,t,n),e!==null?e.sibling:null);xe(Ce,Ce.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vm(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xe(Ce,Ce.current),r)break;return null;case 22:case 23:return t.lanes=0,hm(e,t,n)}return an(e,t,n)}var xm,Xa,wm,bm;xm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xa=function(){};wm=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Gn(Qt.current);var o=null;switch(n){case"input":s=wa(e,s),r=wa(e,r),o=[];break;case"select":s=Ee({},s,{value:void 0}),r=Ee({},r,{value:void 0}),o=[];break;case"textarea":s=Sa(e,s),r=Sa(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=pi)}ka(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ns.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ns.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&be("scroll",e),o||a===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};bm=function(e,t,n,r){n!==r&&(t.flags|=4)};function os(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function c0(e,t,n){var r=t.pendingProps;switch(Vc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return at(t.type)&&hi(),Ke(t),null;case 3:return r=t.stateNode,Pr(),_e(lt),_e(Je),Zc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Do(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mt!==null&&(ic(Mt),Mt=null))),Xa(e,t),Ke(t),null;case 5:Xc(t);var s=Gn(zs.current);if(n=t.type,e!==null&&t.stateNode!=null)wm(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return Ke(t),null}if(e=Gn(Qt.current),Do(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[qt]=t,r[Ms]=o,e=(t.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(s=0;s<hs.length;s++)be(hs[s],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":ld(r,o),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},be("invalid",r);break;case"textarea":cd(r,o),be("invalid",r)}ka(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ro(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ro(r.textContent,a,e),s=["children",""+a]):Ns.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&be("scroll",r)}switch(n){case"input":bo(r),ad(r,o,!0);break;case"textarea":bo(r),ud(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=pi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[qt]=t,e[Ms]=r,xm(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ea(n,r),n){case"dialog":be("cancel",e),be("close",e),s=r;break;case"iframe":case"object":case"embed":be("load",e),s=r;break;case"video":case"audio":for(s=0;s<hs.length;s++)be(hs[s],e);s=r;break;case"source":be("error",e),s=r;break;case"img":case"image":case"link":be("error",e),be("load",e),s=r;break;case"details":be("toggle",e),s=r;break;case"input":ld(e,r),s=wa(e,r),be("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ee({},r,{value:void 0}),be("invalid",e);break;case"textarea":cd(e,r),s=Sa(e,r),be("invalid",e);break;default:s=r}ka(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?Xp(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Yp(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Rs(e,c):typeof c=="number"&&Rs(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ns.hasOwnProperty(o)?c!=null&&o==="onScroll"&&be("scroll",e):c!=null&&Rc(e,o,c,i))}switch(n){case"input":bo(e),ad(e,r,!1);break;case"textarea":bo(e),ud(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Dn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?_r(e,!!r.multiple,o,!1):r.defaultValue!=null&&_r(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=pi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ke(t),null;case 6:if(e&&t.stateNode!=null)bm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=Gn(zs.current),Gn(Qt.current),Do(t)){if(r=t.stateNode,n=t.memoizedProps,r[qt]=t,(o=r.nodeValue!==n)&&(e=gt,e!==null))switch(e.tag){case 3:Ro(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ro(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qt]=t,t.stateNode=r}return Ke(t),null;case 13:if(_e(Ce),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&ht!==null&&t.mode&1&&!(t.flags&128))Bh(),Dr(),t.flags|=98560,o=!1;else if(o=Do(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(M(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(M(317));o[qt]=t}else Dr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ke(t),o=!1}else Mt!==null&&(ic(Mt),Mt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?Te===0&&(Te=3):du())),t.updateQueue!==null&&(t.flags|=4),Ke(t),null);case 4:return Pr(),Xa(e,t),e===null&&Ls(t.stateNode.containerInfo),Ke(t),null;case 10:return Kc(t.type._context),Ke(t),null;case 17:return at(t.type)&&hi(),Ke(t),null;case 19:if(_e(Ce),o=t.memoizedState,o===null)return Ke(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)os(o,!1);else{if(Te!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=bi(e),i!==null){for(t.flags|=128,os(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xe(Ce,Ce.current&1|2),t.child}e=e.sibling}o.tail!==null&&De()>Or&&(t.flags|=128,r=!0,os(o,!1),t.lanes=4194304)}else{if(!r)if(e=bi(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),os(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Se)return Ke(t),null}else 2*De()-o.renderingStartTime>Or&&n!==1073741824&&(t.flags|=128,r=!0,os(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=De(),t.sibling=null,n=Ce.current,xe(Ce,r?n&1|2:n&1),t):(Ke(t),null);case 22:case 23:return uu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?pt&1073741824&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function u0(e,t){switch(Vc(t),t.tag){case 1:return at(t.type)&&hi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pr(),_e(lt),_e(Je),Zc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xc(t),null;case 13:if(_e(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));Dr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(Ce),null;case 4:return Pr(),null;case 10:return Kc(t.type._context),null;case 22:case 23:return uu(),null;case 24:return null;default:return null}}var Io=!1,Qe=!1,d0=typeof WeakSet=="function"?WeakSet:Set,G=null;function xr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(e,t,r)}else n.current=null}function Za(e,t,n){try{n()}catch(r){Re(e,t,r)}}var Zd=!1;function f0(e,t){if(La=ui,e=Eh(),Uc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,c=-1,u=0,f=0,d=e,p=null;t:for(;;){for(var h;d!==n||s!==0&&d.nodeType!==3||(a=i+s),d!==o||r!==0&&d.nodeType!==3||(c=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(h=d.firstChild)!==null;)p=d,d=h;for(;;){if(d===e)break t;if(p===n&&++u===s&&(a=i),p===o&&++f===r&&(c=i),(h=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=h}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fa={focusedElem:e,selectionRange:n},ui=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,x=m.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:Lt(t.type,y),x);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(_){Re(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return m=Zd,Zd=!1,m}function bs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Za(t,n,o)}s=s.next}while(s!==r)}}function Ji(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ec(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _m(e){var t=e.alternate;t!==null&&(e.alternate=null,_m(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qt],delete t[Ms],delete t[za],delete t[Kx],delete t[Qx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sm(e){return e.tag===5||e.tag===3||e.tag===4}function ef(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pi));else if(r!==4&&(e=e.child,e!==null))for(tc(e,t,n),e=e.sibling;e!==null;)tc(e,t,n),e=e.sibling}function nc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(nc(e,t,n),e=e.sibling;e!==null;)nc(e,t,n),e=e.sibling}var Ue=null,Ft=!1;function dn(e,t,n){for(n=n.child;n!==null;)Cm(e,t,n),n=n.sibling}function Cm(e,t,n){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Wi,n)}catch{}switch(n.tag){case 5:Qe||xr(n,t);case 6:var r=Ue,s=Ft;Ue=null,dn(e,t,n),Ue=r,Ft=s,Ue!==null&&(Ft?(e=Ue,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ue.removeChild(n.stateNode));break;case 18:Ue!==null&&(Ft?(e=Ue,n=n.stateNode,e.nodeType===8?Fl(e.parentNode,n):e.nodeType===1&&Fl(e,n),Is(e)):Fl(Ue,n.stateNode));break;case 4:r=Ue,s=Ft,Ue=n.stateNode.containerInfo,Ft=!0,dn(e,t,n),Ue=r,Ft=s;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Za(n,t,i),s=s.next}while(s!==r)}dn(e,t,n);break;case 1:if(!Qe&&(xr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Re(n,t,a)}dn(e,t,n);break;case 21:dn(e,t,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,dn(e,t,n),Qe=r):dn(e,t,n);break;default:dn(e,t,n)}}function tf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new d0),t.forEach(function(r){var s=b0.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Tt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Ue=a.stateNode,Ft=!1;break e;case 3:Ue=a.stateNode.containerInfo,Ft=!0;break e;case 4:Ue=a.stateNode.containerInfo,Ft=!0;break e}a=a.return}if(Ue===null)throw Error(M(160));Cm(o,i,s),Ue=null,Ft=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Re(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)km(t,e),t=t.sibling}function km(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Vt(e),r&4){try{bs(3,e,e.return),Ji(3,e)}catch(y){Re(e,e.return,y)}try{bs(5,e,e.return)}catch(y){Re(e,e.return,y)}}break;case 1:Tt(t,e),Vt(e),r&512&&n!==null&&xr(n,n.return);break;case 5:if(Tt(t,e),Vt(e),r&512&&n!==null&&xr(n,n.return),e.flags&32){var s=e.stateNode;try{Rs(s,"")}catch(y){Re(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&qp(s,o),Ea(a,i);var u=Ea(a,o);for(i=0;i<c.length;i+=2){var f=c[i],d=c[i+1];f==="style"?Xp(s,d):f==="dangerouslySetInnerHTML"?Yp(s,d):f==="children"?Rs(s,d):Rc(s,f,d,u)}switch(a){case"input":ba(s,o);break;case"textarea":Kp(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?_r(s,!!o.multiple,h,!1):p!==!!o.multiple&&(o.defaultValue!=null?_r(s,!!o.multiple,o.defaultValue,!0):_r(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ms]=o}catch(y){Re(e,e.return,y)}}break;case 6:if(Tt(t,e),Vt(e),r&4){if(e.stateNode===null)throw Error(M(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(y){Re(e,e.return,y)}}break;case 3:if(Tt(t,e),Vt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Is(t.containerInfo)}catch(y){Re(e,e.return,y)}break;case 4:Tt(t,e),Vt(e);break;case 13:Tt(t,e),Vt(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(au=De())),r&4&&tf(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Qe=(u=Qe)||f,Tt(t,e),Qe=u):Tt(t,e),Vt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(G=e,f=e.child;f!==null;){for(d=G=f;G!==null;){switch(p=G,h=p.child,p.tag){case 0:case 11:case 14:case 15:bs(4,p,p.return);break;case 1:xr(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){Re(r,n,y)}}break;case 5:xr(p,p.return);break;case 22:if(p.memoizedState!==null){rf(d);continue}}h!==null?(h.return=p,G=h):rf(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,c=d.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Jp("display",i))}catch(y){Re(e,e.return,y)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){Re(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Tt(t,e),Vt(e),r&4&&tf(e);break;case 21:break;default:Tt(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sm(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Rs(s,""),r.flags&=-33);var o=ef(e);nc(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=ef(e);tc(e,a,i);break;default:throw Error(M(161))}}catch(c){Re(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function p0(e,t,n){G=e,Em(e)}function Em(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var s=G,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Io;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Qe;a=Io;var u=Qe;if(Io=i,(Qe=c)&&!u)for(G=s;G!==null;)i=G,c=i.child,i.tag===22&&i.memoizedState!==null?sf(s):c!==null?(c.return=i,G=c):sf(s);for(;o!==null;)G=o,Em(o),o=o.sibling;G=s,Io=a,Qe=u}nf(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,G=o):nf(e)}}function nf(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||Ji(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Lt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&zd(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}zd(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Is(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Qe||t.flags&512&&ec(t)}catch(p){Re(t,t.return,p)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function rf(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function sf(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ji(4,t)}catch(c){Re(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Re(t,s,c)}}var o=t.return;try{ec(t)}catch(c){Re(t,o,c)}break;case 5:var i=t.return;try{ec(t)}catch(c){Re(t,i,c)}}}catch(c){Re(t,t.return,c)}if(t===e){G=null;break}var a=t.sibling;if(a!==null){a.return=t.return,G=a;break}G=t.return}}var h0=Math.ceil,Ci=cn.ReactCurrentDispatcher,iu=cn.ReactCurrentOwner,Rt=cn.ReactCurrentBatchConfig,ue=0,Be=null,Ie=null,Ve=0,pt=0,wr=On(0),Te=0,Vs=null,er=0,Xi=0,lu=0,_s=null,ot=null,au=0,Or=1/0,Zt=null,ki=!1,rc=null,Cn=null,Oo=!1,yn=null,Ei=0,Ss=0,sc=null,Xo=-1,Zo=0;function tt(){return ue&6?De():Xo!==-1?Xo:Xo=De()}function kn(e){return e.mode&1?ue&2&&Ve!==0?Ve&-Ve:Jx.transition!==null?(Zo===0&&(Zo=uh()),Zo):(e=me,e!==0||(e=window.event,e=e===void 0?16:yh(e.type)),e):1}function $t(e,t,n,r){if(50<Ss)throw Ss=0,sc=null,Error(M(185));no(e,n,r),(!(ue&2)||e!==Be)&&(e===Be&&(!(ue&2)&&(Xi|=n),Te===4&&mn(e,Ve)),ct(e,r),n===1&&ue===0&&!(t.mode&1)&&(Or=De()+500,Ki&&Tn()))}function ct(e,t){var n=e.callbackNode;Jv(e,t);var r=ci(e,e===Be?Ve:0);if(r===0)n!==null&&pd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&pd(n),t===1)e.tag===0?Yx(of.bind(null,e)):Lh(of.bind(null,e)),Gx(function(){!(ue&6)&&Tn()}),n=null;else{switch(dh(r)){case 1:n=Oc;break;case 4:n=ah;break;case 16:n=ai;break;case 536870912:n=ch;break;default:n=ai}n=Om(n,jm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function jm(e,t){if(Xo=-1,Zo=0,ue&6)throw Error(M(327));var n=e.callbackNode;if(jr()&&e.callbackNode!==n)return null;var r=ci(e,e===Be?Ve:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ji(e,r);else{t=r;var s=ue;ue|=2;var o=Rm();(Be!==e||Ve!==t)&&(Zt=null,Or=De()+500,Kn(e,t));do try{y0();break}catch(a){Nm(e,a)}while(!0);qc(),Ci.current=o,ue=s,Ie!==null?t=0:(Be=null,Ve=0,t=Te)}if(t!==0){if(t===2&&(s=Aa(e),s!==0&&(r=s,t=oc(e,s))),t===1)throw n=Vs,Kn(e,0),mn(e,r),ct(e,De()),n;if(t===6)mn(e,r);else{if(s=e.current.alternate,!(r&30)&&!m0(s)&&(t=ji(e,r),t===2&&(o=Aa(e),o!==0&&(r=o,t=oc(e,o))),t===1))throw n=Vs,Kn(e,0),mn(e,r),ct(e,De()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:$n(e,ot,Zt);break;case 3:if(mn(e,r),(r&130023424)===r&&(t=au+500-De(),10<t)){if(ci(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){tt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ba($n.bind(null,e,ot,Zt),t);break}$n(e,ot,Zt);break;case 4:if(mn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-zt(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=De()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*h0(r/1960))-r,10<r){e.timeoutHandle=Ba($n.bind(null,e,ot,Zt),r);break}$n(e,ot,Zt);break;case 5:$n(e,ot,Zt);break;default:throw Error(M(329))}}}return ct(e,De()),e.callbackNode===n?jm.bind(null,e):null}function oc(e,t){var n=_s;return e.current.memoizedState.isDehydrated&&(Kn(e,t).flags|=256),e=ji(e,t),e!==2&&(t=ot,ot=n,t!==null&&ic(t)),e}function ic(e){ot===null?ot=e:ot.push.apply(ot,e)}function m0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Ut(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mn(e,t){for(t&=~lu,t&=~Xi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function of(e){if(ue&6)throw Error(M(327));jr();var t=ci(e,0);if(!(t&1))return ct(e,De()),null;var n=ji(e,t);if(e.tag!==0&&n===2){var r=Aa(e);r!==0&&(t=r,n=oc(e,r))}if(n===1)throw n=Vs,Kn(e,0),mn(e,t),ct(e,De()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$n(e,ot,Zt),ct(e,De()),null}function cu(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(Or=De()+500,Ki&&Tn())}}function tr(e){yn!==null&&yn.tag===0&&!(ue&6)&&jr();var t=ue;ue|=1;var n=Rt.transition,r=me;try{if(Rt.transition=null,me=1,e)return e()}finally{me=r,Rt.transition=n,ue=t,!(ue&6)&&Tn()}}function uu(){pt=wr.current,_e(wr)}function Kn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Hx(n)),Ie!==null)for(n=Ie.return;n!==null;){var r=n;switch(Vc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hi();break;case 3:Pr(),_e(lt),_e(Je),Zc();break;case 5:Xc(r);break;case 4:Pr();break;case 13:_e(Ce);break;case 19:_e(Ce);break;case 10:Kc(r.type._context);break;case 22:case 23:uu()}n=n.return}if(Be=e,Ie=e=En(e.current,null),Ve=pt=t,Te=0,Vs=null,lu=Xi=er=0,ot=_s=null,Hn!==null){for(t=0;t<Hn.length;t++)if(n=Hn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Hn=null}return e}function Nm(e,t){do{var n=Ie;try{if(qc(),Qo.current=Si,_i){for(var r=ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}_i=!1}if(Zn=0,Me=Oe=ke=null,ws=!1,$s=0,iu.current=null,n===null||n.return===null){Te=1,Vs=t,Ie=null;break}e:{var o=e,i=n.return,a=n,c=t;if(t=Ve,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=Gd(i);if(h!==null){h.flags&=-257,qd(h,i,a,o,t),h.mode&1&&Hd(o,u,t),t=h,c=u;var m=t.updateQueue;if(m===null){var y=new Set;y.add(c),t.updateQueue=y}else m.add(c);break e}else{if(!(t&1)){Hd(o,u,t),du();break e}c=Error(M(426))}}else if(Se&&a.mode&1){var x=Gd(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),qd(x,i,a,o,t),Hc(Ir(c,a));break e}}o=c=Ir(c,a),Te!==4&&(Te=2),_s===null?_s=[o]:_s.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=dm(o,c,t);Bd(o,v);break e;case 1:a=c;var g=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Cn===null||!Cn.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=fm(o,a,t);Bd(o,_);break e}}o=o.return}while(o!==null)}Am(n)}catch(j){t=j,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(!0)}function Rm(){var e=Ci.current;return Ci.current=Si,e===null?Si:e}function du(){(Te===0||Te===3||Te===2)&&(Te=4),Be===null||!(er&268435455)&&!(Xi&268435455)||mn(Be,Ve)}function ji(e,t){var n=ue;ue|=2;var r=Rm();(Be!==e||Ve!==t)&&(Zt=null,Kn(e,t));do try{g0();break}catch(s){Nm(e,s)}while(!0);if(qc(),ue=n,Ci.current=r,Ie!==null)throw Error(M(261));return Be=null,Ve=0,Te}function g0(){for(;Ie!==null;)Dm(Ie)}function y0(){for(;Ie!==null&&!Uv();)Dm(Ie)}function Dm(e){var t=Im(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?Am(e):Ie=t,iu.current=null}function Am(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=u0(n,t),n!==null){n.flags&=32767,Ie=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Te=6,Ie=null;return}}else if(n=c0(n,t,pt),n!==null){Ie=n;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);Te===0&&(Te=5)}function $n(e,t,n){var r=me,s=Rt.transition;try{Rt.transition=null,me=1,v0(e,t,n,r)}finally{Rt.transition=s,me=r}return null}function v0(e,t,n,r){do jr();while(yn!==null);if(ue&6)throw Error(M(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Xv(e,o),e===Be&&(Ie=Be=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Oo||(Oo=!0,Om(ai,function(){return jr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Rt.transition,Rt.transition=null;var i=me;me=1;var a=ue;ue|=4,iu.current=null,f0(e,n),km(n,e),Mx(Fa),ui=!!La,Fa=La=null,e.current=n,p0(n),Wv(),ue=a,me=i,Rt.transition=o}else e.current=n;if(Oo&&(Oo=!1,yn=e,Ei=s),o=e.pendingLanes,o===0&&(Cn=null),Gv(n.stateNode),ct(e,De()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ki)throw ki=!1,e=rc,rc=null,e;return Ei&1&&e.tag!==0&&jr(),o=e.pendingLanes,o&1?e===sc?Ss++:(Ss=0,sc=e):Ss=0,Tn(),null}function jr(){if(yn!==null){var e=dh(Ei),t=Rt.transition,n=me;try{if(Rt.transition=null,me=16>e?16:e,yn===null)var r=!1;else{if(e=yn,yn=null,Ei=0,ue&6)throw Error(M(331));var s=ue;for(ue|=4,G=e.current;G!==null;){var o=G,i=o.child;if(G.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(G=u;G!==null;){var f=G;switch(f.tag){case 0:case 11:case 15:bs(8,f,o)}var d=f.child;if(d!==null)d.return=f,G=d;else for(;G!==null;){f=G;var p=f.sibling,h=f.return;if(_m(f),f===u){G=null;break}if(p!==null){p.return=h,G=p;break}G=h}}}var m=o.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}G=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,G=i;else e:for(;G!==null;){if(o=G,o.flags&2048)switch(o.tag){case 0:case 11:case 15:bs(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,G=v;break e}G=o.return}}var g=e.current;for(G=g;G!==null;){i=G;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,G=b;else e:for(i=g;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ji(9,a)}}catch(j){Re(a,a.return,j)}if(a===i){G=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,G=_;break e}G=a.return}}if(ue=s,Tn(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Wi,e)}catch{}r=!0}return r}finally{me=n,Rt.transition=t}}return!1}function lf(e,t,n){t=Ir(n,t),t=dm(e,t,1),e=Sn(e,t,1),t=tt(),e!==null&&(no(e,1,t),ct(e,t))}function Re(e,t,n){if(e.tag===3)lf(e,e,n);else for(;t!==null;){if(t.tag===3){lf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cn===null||!Cn.has(r))){e=Ir(n,e),e=fm(t,e,1),t=Sn(t,e,1),e=tt(),t!==null&&(no(t,1,e),ct(t,e));break}}t=t.return}}function x0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=tt(),e.pingedLanes|=e.suspendedLanes&n,Be===e&&(Ve&n)===n&&(Te===4||Te===3&&(Ve&130023424)===Ve&&500>De()-au?Kn(e,0):lu|=n),ct(e,t)}function Pm(e,t){t===0&&(e.mode&1?(t=Co,Co<<=1,!(Co&130023424)&&(Co=4194304)):t=1);var n=tt();e=ln(e,t),e!==null&&(no(e,t,n),ct(e,n))}function w0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Pm(e,n)}function b0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),Pm(e,n)}var Im;Im=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)it=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return it=!1,a0(e,t,n);it=!!(e.flags&131072)}else it=!1,Se&&t.flags&1048576&&Fh(t,yi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Jo(e,t),e=t.pendingProps;var s=Rr(t,Je.current);Er(t,n),s=tu(null,t,r,e,s,n);var o=nu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(r)?(o=!0,mi(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Yc(t),s.updater=Yi,t.stateNode=s,s._reactInternals=t,Ga(t,r,e,n),t=Qa(null,t,r,!0,o,n)):(t.tag=0,Se&&o&&Wc(t),et(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Jo(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=S0(r),e=Lt(r,e),s){case 0:t=Ka(null,t,r,e,n);break e;case 1:t=Yd(null,t,r,e,n);break e;case 11:t=Kd(null,t,r,e,n);break e;case 14:t=Qd(null,t,r,Lt(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lt(r,s),Ka(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lt(r,s),Yd(e,t,r,s,n);case 3:e:{if(gm(t),e===null)throw Error(M(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Wh(e,t),wi(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Ir(Error(M(423)),t),t=Jd(e,t,r,n,s);break e}else if(r!==s){s=Ir(Error(M(424)),t),t=Jd(e,t,r,n,s);break e}else for(ht=_n(t.stateNode.containerInfo.firstChild),gt=t,Se=!0,Mt=null,n=$h(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dr(),r===s){t=an(e,t,n);break e}et(e,t,r,n)}t=t.child}return t;case 5:return Vh(t),e===null&&Wa(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Ma(r,s)?i=null:o!==null&&Ma(r,o)&&(t.flags|=32),mm(e,t),et(e,t,i,n),t.child;case 6:return e===null&&Wa(t),null;case 13:return ym(e,t,n);case 4:return Jc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ar(t,null,r,n):et(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lt(r,s),Kd(e,t,r,s,n);case 7:return et(e,t,t.pendingProps,n),t.child;case 8:return et(e,t,t.pendingProps.children,n),t.child;case 12:return et(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,xe(vi,r._currentValue),r._currentValue=i,o!==null)if(Ut(o.value,i)){if(o.children===s.children&&!lt.current){t=an(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=rn(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Va(o.return,n,t),a.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(M(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Va(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}et(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Er(t,n),s=At(s),r=r(s),t.flags|=1,et(e,t,r,n),t.child;case 14:return r=t.type,s=Lt(r,t.pendingProps),s=Lt(r.type,s),Qd(e,t,r,s,n);case 15:return pm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Lt(r,s),Jo(e,t),t.tag=1,at(r)?(e=!0,mi(t)):e=!1,Er(t,n),um(t,r,s),Ga(t,r,s,n),Qa(null,t,r,!0,e,n);case 19:return vm(e,t,n);case 22:return hm(e,t,n)}throw Error(M(156,t.tag))};function Om(e,t){return lh(e,t)}function _0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,n,r){return new _0(e,t,n,r)}function fu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function S0(e){if(typeof e=="function")return fu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ac)return 11;if(e===Pc)return 14}return 2}function En(e,t){var n=e.alternate;return n===null?(n=jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ei(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")fu(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ur:return Qn(n.children,s,o,t);case Dc:i=8,s|=8;break;case ga:return e=jt(12,n,t,s|2),e.elementType=ga,e.lanes=o,e;case ya:return e=jt(13,n,t,s),e.elementType=ya,e.lanes=o,e;case va:return e=jt(19,n,t,s),e.elementType=va,e.lanes=o,e;case Vp:return Zi(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Up:i=10;break e;case Wp:i=9;break e;case Ac:i=11;break e;case Pc:i=14;break e;case fn:i=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=jt(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Qn(e,t,n,r){return e=jt(7,e,r,t),e.lanes=n,e}function Zi(e,t,n,r){return e=jt(22,e,r,t),e.elementType=Vp,e.lanes=n,e.stateNode={isHidden:!1},e}function Hl(e,t,n){return e=jt(6,e,null,t),e.lanes=n,e}function Gl(e,t,n){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function C0(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=El(0),this.expirationTimes=El(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=El(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function pu(e,t,n,r,s,o,i,a,c){return e=new C0(e,t,n,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=jt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yc(o),e}function k0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Tm(e){if(!e)return An;e=e._reactInternals;e:{if(ir(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(at(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(at(n))return Th(e,n,t)}return t}function Lm(e,t,n,r,s,o,i,a,c){return e=pu(n,r,!0,e,s,o,i,a,c),e.context=Tm(null),n=e.current,r=tt(),s=kn(n),o=rn(r,s),o.callback=t??null,Sn(n,o,s),e.current.lanes=s,no(e,s,r),ct(e,r),e}function el(e,t,n,r){var s=t.current,o=tt(),i=kn(s);return n=Tm(n),t.context===null?t.context=n:t.pendingContext=n,t=rn(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Sn(s,t,i),e!==null&&($t(e,s,i,o),Ko(e,s,i)),i}function Ni(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function af(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hu(e,t){af(e,t),(e=e.alternate)&&af(e,t)}function E0(){return null}var Fm=typeof reportError=="function"?reportError:function(e){console.error(e)};function mu(e){this._internalRoot=e}tl.prototype.render=mu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));el(e,t,null,null)};tl.prototype.unmount=mu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tr(function(){el(null,e,null,null)}),t[on]=null}};function tl(e){this._internalRoot=e}tl.prototype.unstable_scheduleHydration=function(e){if(e){var t=hh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<hn.length&&t!==0&&t<hn[n].priority;n++);hn.splice(n,0,e),n===0&&gh(e)}};function gu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cf(){}function j0(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Ni(i);o.call(u)}}var i=Lm(t,r,e,0,null,!1,!1,"",cf);return e._reactRootContainer=i,e[on]=i.current,Ls(e.nodeType===8?e.parentNode:e),tr(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Ni(c);a.call(u)}}var c=pu(e,0,!1,null,null,!1,!1,"",cf);return e._reactRootContainer=c,e[on]=c.current,Ls(e.nodeType===8?e.parentNode:e),tr(function(){el(t,c,n,r)}),c}function rl(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=Ni(i);a.call(c)}}el(t,i,e,s)}else i=j0(n,t,e,s,r);return Ni(i)}fh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ps(t.pendingLanes);n!==0&&(Tc(t,n|1),ct(t,De()),!(ue&6)&&(Or=De()+500,Tn()))}break;case 13:tr(function(){var r=ln(e,1);if(r!==null){var s=tt();$t(r,e,1,s)}}),hu(e,1)}};Lc=function(e){if(e.tag===13){var t=ln(e,134217728);if(t!==null){var n=tt();$t(t,e,134217728,n)}hu(e,134217728)}};ph=function(e){if(e.tag===13){var t=kn(e),n=ln(e,t);if(n!==null){var r=tt();$t(n,e,t,r)}hu(e,t)}};hh=function(){return me};mh=function(e,t){var n=me;try{return me=e,t()}finally{me=n}};Na=function(e,t,n){switch(t){case"input":if(ba(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=qi(r);if(!s)throw Error(M(90));Gp(r),ba(r,s)}}}break;case"textarea":Kp(e,n);break;case"select":t=n.value,t!=null&&_r(e,!!n.multiple,t,!1)}};th=cu;nh=tr;var N0={usingClientEntryPoint:!1,Events:[so,hr,qi,Zp,eh,cu]},is={findFiberByHostInstance:Vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R0={bundleType:is.bundleType,version:is.version,rendererPackageName:is.rendererPackageName,rendererConfig:is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=oh(e),e===null?null:e.stateNode},findFiberByHostInstance:is.findFiberByHostInstance||E0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var To=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!To.isDisabled&&To.supportsFiber)try{Wi=To.inject(R0),Kt=To}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N0;bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gu(t))throw Error(M(200));return k0(e,t,null,n)};bt.createRoot=function(e,t){if(!gu(e))throw Error(M(299));var n=!1,r="",s=Fm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=pu(e,1,!1,null,null,n,!1,r,s),e[on]=t.current,Ls(e.nodeType===8?e.parentNode:e),new mu(t)};bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=oh(t),e=e===null?null:e.stateNode,e};bt.flushSync=function(e){return tr(e)};bt.hydrate=function(e,t,n){if(!nl(t))throw Error(M(200));return rl(null,e,t,!0,n)};bt.hydrateRoot=function(e,t,n){if(!gu(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=Fm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Lm(t,null,e,1,n??null,s,!1,o,i),e[on]=t.current,Ls(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new tl(t)};bt.render=function(e,t,n){if(!nl(t))throw Error(M(200));return rl(null,e,t,!1,n)};bt.unmountComponentAtNode=function(e){if(!nl(e))throw Error(M(40));return e._reactRootContainer?(tr(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[on]=null})}),!0):!1};bt.unstable_batchedUpdates=cu;bt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nl(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return rl(e,t,n,!1,r)};bt.version="18.3.1-next-f1338f8080-20240426";function Mm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mm)}catch(e){console.error(e)}}Mm(),Mp.exports=bt;var sl=Mp.exports;const D0=$i(sl);var uf=sl;ha.createRoot=uf.createRoot,ha.hydrateRoot=uf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hs.apply(this,arguments)}var vn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(vn||(vn={}));const df="popstate";function A0(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:a}=r.location;return lc("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ri(s)}return I0(t,n,null,e)}function Ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Bm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function P0(){return Math.random().toString(36).substr(2,8)}function ff(e,t){return{usr:e.state,key:e.key,idx:t}}function lc(e,t,n,r){return n===void 0&&(n=null),Hs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ur(t):t,{state:n,key:t&&t.key||r||P0()})}function Ri(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ur(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function I0(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=vn.Pop,c=null,u=f();u==null&&(u=0,i.replaceState(Hs({},i.state,{idx:u}),""));function f(){return(i.state||{idx:null}).idx}function d(){a=vn.Pop;let x=f(),v=x==null?null:x-u;u=x,c&&c({action:a,location:y.location,delta:v})}function p(x,v){a=vn.Push;let g=lc(y.location,x,v);u=f()+1;let b=ff(g,u),_=y.createHref(g);try{i.pushState(b,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}o&&c&&c({action:a,location:y.location,delta:1})}function h(x,v){a=vn.Replace;let g=lc(y.location,x,v);u=f();let b=ff(g,u),_=y.createHref(g);i.replaceState(b,"",_),o&&c&&c({action:a,location:y.location,delta:0})}function m(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof x=="string"?x:Ri(x);return g=g.replace(/ $/,"%20"),Ae(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let y={get action(){return a},get location(){return e(s,i)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(df,d),c=x,()=>{s.removeEventListener(df,d),c=null}},createHref(x){return t(s,x)},createURL:m,encodeLocation(x){let v=m(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:h,go(x){return i.go(x)}};return y}var pf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(pf||(pf={}));function O0(e,t,n){return n===void 0&&(n="/"),T0(e,t,n)}function T0(e,t,n,r){let s=typeof t=="string"?Ur(t):t,o=yu(s.pathname||"/",n);if(o==null)return null;let i=zm(e);L0(i);let a=null;for(let c=0;a==null&&c<i.length;++c){let u=K0(o);a=H0(i[c],u)}return a}function zm(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Ae(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=jn([r,c.relativePath]),f=n.concat(c);o.children&&o.children.length>0&&(Ae(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),zm(o.children,t,f,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:W0(u,o.index),routesMeta:f})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let c of $m(o.path))s(o,i,c)}),t}function $m(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=$m(r.join("/")),a=[];return a.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&a.push(...i),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function L0(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:V0(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const F0=/^:[\w-]+$/,M0=3,B0=2,z0=1,$0=10,U0=-2,hf=e=>e==="*";function W0(e,t){let n=e.split("/"),r=n.length;return n.some(hf)&&(r+=U0),t&&(r+=B0),n.filter(s=>!hf(s)).reduce((s,o)=>s+(F0.test(o)?M0:o===""?z0:$0),r)}function V0(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function H0(e,t,n){let{routesMeta:r}=e,s={},o="/",i=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,f=o==="/"?t:t.slice(o.length)||"/",d=G0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),p=c.route;if(!d)return null;Object.assign(s,d.params),i.push({params:s,pathname:jn([o,d.pathname]),pathnameBase:X0(jn([o,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(o=jn([o,d.pathnameBase]))}return i}function G0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=q0(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,f,d)=>{let{paramName:p,isOptional:h}=f;if(p==="*"){let y=a[d]||"";i=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[d];return h&&!m?u[p]=void 0:u[p]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function q0(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Bm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function K0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Bm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function yu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Q0(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ur(e):e;return{pathname:n?n.startsWith("/")?n:Y0(n,t):t,search:Z0(r),hash:ew(s)}}function Y0(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ql(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function J0(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function vu(e,t){let n=J0(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function xu(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ur(e):(s=Hs({},e),Ae(!s.pathname||!s.pathname.includes("?"),ql("?","pathname","search",s)),Ae(!s.pathname||!s.pathname.includes("#"),ql("#","pathname","hash",s)),Ae(!s.search||!s.search.includes("#"),ql("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let d=t.length-1;if(!r&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),d-=1;s.pathname=p.join("/")}a=d>=0?t[d]:"/"}let c=Q0(s,a),u=i&&i!=="/"&&i.endsWith("/"),f=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const jn=e=>e.join("/").replace(/\/\/+/g,"/"),X0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Z0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ew=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Um=["post","put","patch","delete"];new Set(Um);const nw=["get",...Um];new Set(nw);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gs(){return Gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gs.apply(this,arguments)}const wu=w.createContext(null),rw=w.createContext(null),Ln=w.createContext(null),ol=w.createContext(null),un=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Wm=w.createContext(null);function sw(e,t){let{relative:n}=t===void 0?{}:t;Wr()||Ae(!1);let{basename:r,navigator:s}=w.useContext(Ln),{hash:o,pathname:i,search:a}=Hm(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:jn([r,i])),s.createHref({pathname:c,search:a,hash:o})}function Wr(){return w.useContext(ol)!=null}function io(){return Wr()||Ae(!1),w.useContext(ol).location}function Vm(e){w.useContext(Ln).static||w.useLayoutEffect(e)}function lo(){let{isDataRoute:e}=w.useContext(un);return e?xw():ow()}function ow(){Wr()||Ae(!1);let e=w.useContext(wu),{basename:t,future:n,navigator:r}=w.useContext(Ln),{matches:s}=w.useContext(un),{pathname:o}=io(),i=JSON.stringify(vu(s,n.v7_relativeSplatPath)),a=w.useRef(!1);return Vm(()=>{a.current=!0}),w.useCallback(function(u,f){if(f===void 0&&(f={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=xu(u,JSON.parse(i),o,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:jn([t,d.pathname])),(f.replace?r.replace:r.push)(d,f.state,f)},[t,r,i,o,e])}const iw=w.createContext(null);function lw(e){let t=w.useContext(un).outlet;return t&&w.createElement(iw.Provider,{value:e},t)}function Hm(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(Ln),{matches:s}=w.useContext(un),{pathname:o}=io(),i=JSON.stringify(vu(s,r.v7_relativeSplatPath));return w.useMemo(()=>xu(e,JSON.parse(i),o,n==="path"),[e,i,o,n])}function aw(e,t){return cw(e,t)}function cw(e,t,n,r){Wr()||Ae(!1);let{navigator:s}=w.useContext(Ln),{matches:o}=w.useContext(un),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=io(),f;if(t){var d;let x=typeof t=="string"?Ur(t):t;c==="/"||(d=x.pathname)!=null&&d.startsWith(c)||Ae(!1),f=x}else f=u;let p=f.pathname||"/",h=p;if(c!=="/"){let x=c.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let m=O0(e,{pathname:h}),y=hw(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:jn([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:jn([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return t&&y?w.createElement(ol.Provider,{value:{location:Gs({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:vn.Pop}},y):y}function uw(){let e=vw(),t=tw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:s},n):null,null)}const dw=w.createElement(uw,null);class fw extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(un.Provider,{value:this.props.routeContext},w.createElement(Wm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pw(e){let{routeContext:t,match:n,children:r}=e,s=w.useContext(wu);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(un.Provider,{value:t},r)}function hw(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let f=i.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);f>=0||Ae(!1),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<i.length;f++){let d=i[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:p,errors:h}=n,m=d.route.loader&&p[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||m){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,d,p)=>{let h,m=!1,y=null,x=null;n&&(h=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||dw,c&&(u<0&&p===0?(ww("route-fallback"),m=!0,x=null):u===p&&(m=!0,x=d.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,p+1)),g=()=>{let b;return h?b=y:m?b=x:d.route.Component?b=w.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=f,w.createElement(pw,{match:d,routeContext:{outlet:f,matches:v,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?w.createElement(fw,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var Gm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Gm||{}),qm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qm||{});function mw(e){let t=w.useContext(wu);return t||Ae(!1),t}function gw(e){let t=w.useContext(rw);return t||Ae(!1),t}function yw(e){let t=w.useContext(un);return t||Ae(!1),t}function Km(e){let t=yw(),n=t.matches[t.matches.length-1];return n.route.id||Ae(!1),n.route.id}function vw(){var e;let t=w.useContext(Wm),n=gw(),r=Km();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function xw(){let{router:e}=mw(Gm.UseNavigateStable),t=Km(qm.UseNavigateStable),n=w.useRef(!1);return Vm(()=>{n.current=!0}),w.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Gs({fromRouteId:t},o)))},[e,t])}const mf={};function ww(e,t,n){mf[e]||(mf[e]=!0)}function bw(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function _w(e){let{to:t,replace:n,state:r,relative:s}=e;Wr()||Ae(!1);let{future:o,static:i}=w.useContext(Ln),{matches:a}=w.useContext(un),{pathname:c}=io(),u=lo(),f=xu(t,vu(a,o.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(f);return w.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:s}),[u,d,s,n,r]),null}function Sw(e){return lw(e.context)}function Un(e){Ae(!1)}function Cw(e){let{basename:t="/",children:n=null,location:r,navigationType:s=vn.Pop,navigator:o,static:i=!1,future:a}=e;Wr()&&Ae(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:o,static:i,future:Gs({v7_relativeSplatPath:!1},a)}),[c,a,o,i]);typeof r=="string"&&(r=Ur(r));let{pathname:f="/",search:d="",hash:p="",state:h=null,key:m="default"}=r,y=w.useMemo(()=>{let x=yu(f,c);return x==null?null:{location:{pathname:x,search:d,hash:p,state:h,key:m},navigationType:s}},[c,f,d,p,h,m,s]);return y==null?null:w.createElement(Ln.Provider,{value:u},w.createElement(ol.Provider,{children:n,value:y}))}function kw(e){let{children:t,location:n}=e;return aw(ac(t),n)}new Promise(()=>{});function ac(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,s)=>{if(!w.isValidElement(r))return;let o=[...t,s];if(r.type===w.Fragment){n.push.apply(n,ac(r.props.children,o));return}r.type!==Un&&Ae(!1),!r.props.index||!r.props.children||Ae(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=ac(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cc(){return cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cc.apply(this,arguments)}function Ew(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function jw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Nw(e,t){return e.button===0&&(!t||t==="_self")&&!jw(e)}const Rw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Dw="6";try{window.__reactRouterVersion=Dw}catch{}const Aw="startTransition",gf=xv[Aw];function Pw(e){let{basename:t,children:n,future:r,window:s}=e,o=w.useRef();o.current==null&&(o.current=A0({window:s,v5Compat:!0}));let i=o.current,[a,c]=w.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},f=w.useCallback(d=>{u&&gf?gf(()=>c(d)):c(d)},[c,u]);return w.useLayoutEffect(()=>i.listen(f),[i,f]),w.useEffect(()=>bw(r),[r]),w.createElement(Cw,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}const Iw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ow=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qm=w.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:i,state:a,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,p=Ew(t,Rw),{basename:h}=w.useContext(Ln),m,y=!1;if(typeof u=="string"&&Ow.test(u)&&(m=u,Iw))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),j=yu(_.pathname,h);_.origin===b.origin&&j!=null?u=j+_.search+_.hash:y=!0}catch{}let x=sw(u,{relative:s}),v=Tw(u,{replace:i,state:a,target:c,preventScrollReset:f,relative:s,viewTransition:d});function g(b){r&&r(b),b.defaultPrevented||v(b)}return w.createElement("a",cc({},p,{href:m||x,onClick:y||o?r:g,ref:n,target:c}))});var yf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(yf||(yf={}));var vf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(vf||(vf={}));function Tw(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:a}=t===void 0?{}:t,c=lo(),u=io(),f=Hm(e,{relative:i});return w.useCallback(d=>{if(Nw(d,n)){d.preventDefault();let p=r!==void 0?r:Ri(u)===Ri(f);c(e,{replace:p,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[u,c,f,r,s,n,e,o,i,a])}function Ym(e,t){return function(){return e.apply(t,arguments)}}const{toString:Lw}=Object.prototype,{getPrototypeOf:bu}=Object,{iterator:il,toStringTag:Jm}=Symbol,ll=(e=>t=>{const n=Lw.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Wt=e=>(e=e.toLowerCase(),t=>ll(t)===e),al=e=>t=>typeof t===e,{isArray:Vr}=Array,Tr=al("undefined");function ao(e){return e!==null&&!Tr(e)&&e.constructor!==null&&!Tr(e.constructor)&&ut(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Xm=Wt("ArrayBuffer");function Fw(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Xm(e.buffer),t}const Mw=al("string"),ut=al("function"),Zm=al("number"),co=e=>e!==null&&typeof e=="object",Bw=e=>e===!0||e===!1,ti=e=>{if(ll(e)!=="object")return!1;const t=bu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Jm in e)&&!(il in e)},zw=e=>{if(!co(e)||ao(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},$w=Wt("Date"),Uw=Wt("File"),Ww=Wt("Blob"),Vw=Wt("FileList"),Hw=e=>co(e)&&ut(e.pipe),Gw=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ut(e.append)&&((t=ll(e))==="formdata"||t==="object"&&ut(e.toString)&&e.toString()==="[object FormData]"))},qw=Wt("URLSearchParams"),[Kw,Qw,Yw,Jw]=["ReadableStream","Request","Response","Headers"].map(Wt),Xw=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function uo(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Vr(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(ao(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let a;for(r=0;r<i;r++)a=o[r],t.call(null,e[a],a,e)}}function eg(e,t){if(ao(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const qn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tg=e=>!Tr(e)&&e!==qn;function uc(){const{caseless:e,skipUndefined:t}=tg(this)&&this||{},n={},r=(s,o)=>{const i=e&&eg(n,o)||o;ti(n[i])&&ti(s)?n[i]=uc(n[i],s):ti(s)?n[i]=uc({},s):Vr(s)?n[i]=s.slice():(!t||!Tr(s))&&(n[i]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&uo(arguments[s],r);return n}const Zw=(e,t,n,{allOwnKeys:r}={})=>(uo(t,(s,o)=>{n&&ut(s)?e[o]=Ym(s,n):e[o]=s},{allOwnKeys:r}),e),eb=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),tb=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},nb=(e,t,n,r)=>{let s,o,i;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)i=s[o],(!r||r(i,e,t))&&!a[i]&&(t[i]=e[i],a[i]=!0);e=n!==!1&&bu(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},rb=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},sb=e=>{if(!e)return null;if(Vr(e))return e;let t=e.length;if(!Zm(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},ob=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&bu(Uint8Array)),ib=(e,t)=>{const r=(e&&e[il]).call(e);let s;for(;(s=r.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},lb=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},ab=Wt("HTMLFormElement"),cb=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),xf=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),ub=Wt("RegExp"),ng=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};uo(n,(s,o)=>{let i;(i=t(s,o,e))!==!1&&(r[o]=i||s)}),Object.defineProperties(e,r)},db=e=>{ng(e,(t,n)=>{if(ut(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ut(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},fb=(e,t)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return Vr(e)?r(e):r(String(e).split(t)),n},pb=()=>{},hb=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function mb(e){return!!(e&&ut(e.append)&&e[Jm]==="FormData"&&e[il])}const gb=e=>{const t=new Array(10),n=(r,s)=>{if(co(r)){if(t.indexOf(r)>=0)return;if(ao(r))return r;if(!("toJSON"in r)){t[s]=r;const o=Vr(r)?[]:{};return uo(r,(i,a)=>{const c=n(i,s+1);!Tr(c)&&(o[a]=c)}),t[s]=void 0,o}}return r};return n(e,0)},yb=Wt("AsyncFunction"),vb=e=>e&&(co(e)||ut(e))&&ut(e.then)&&ut(e.catch),rg=((e,t)=>e?setImmediate:t?((n,r)=>(qn.addEventListener("message",({source:s,data:o})=>{s===qn&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),qn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ut(qn.postMessage)),xb=typeof queueMicrotask<"u"?queueMicrotask.bind(qn):typeof process<"u"&&process.nextTick||rg,wb=e=>e!=null&&ut(e[il]),P={isArray:Vr,isArrayBuffer:Xm,isBuffer:ao,isFormData:Gw,isArrayBufferView:Fw,isString:Mw,isNumber:Zm,isBoolean:Bw,isObject:co,isPlainObject:ti,isEmptyObject:zw,isReadableStream:Kw,isRequest:Qw,isResponse:Yw,isHeaders:Jw,isUndefined:Tr,isDate:$w,isFile:Uw,isBlob:Ww,isRegExp:ub,isFunction:ut,isStream:Hw,isURLSearchParams:qw,isTypedArray:ob,isFileList:Vw,forEach:uo,merge:uc,extend:Zw,trim:Xw,stripBOM:eb,inherits:tb,toFlatObject:nb,kindOf:ll,kindOfTest:Wt,endsWith:rb,toArray:sb,forEachEntry:ib,matchAll:lb,isHTMLForm:ab,hasOwnProperty:xf,hasOwnProp:xf,reduceDescriptors:ng,freezeMethods:db,toObjectSet:fb,toCamelCase:cb,noop:pb,toFiniteNumber:hb,findKey:eg,global:qn,isContextDefined:tg,isSpecCompliantForm:mb,toJSONObject:gb,isAsyncFn:yb,isThenable:vb,setImmediate:rg,asap:xb,isIterable:wb};function X(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}P.inherits(X,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const sg=X.prototype,og={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{og[e]={value:e}});Object.defineProperties(X,og);Object.defineProperty(sg,"isAxiosError",{value:!0});X.from=(e,t,n,r,s,o)=>{const i=Object.create(sg);P.toFlatObject(e,i,function(f){return f!==Error.prototype},u=>u!=="isAxiosError");const a=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return X.call(i,a,c,n,r,s),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};const bb=null;function dc(e){return P.isPlainObject(e)||P.isArray(e)}function ig(e){return P.endsWith(e,"[]")?e.slice(0,-2):e}function wf(e,t,n){return e?e.concat(t).map(function(s,o){return s=ig(s),!n&&o?"["+s+"]":s}).join(n?".":""):t}function _b(e){return P.isArray(e)&&!e.some(dc)}const Sb=P.toFlatObject(P,{},null,function(t){return/^is[A-Z]/.test(t)});function cl(e,t,n){if(!P.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=P.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!P.isUndefined(x[y])});const r=n.metaTokens,s=n.visitor||f,o=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(t);if(!P.isFunction(s))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(P.isDate(m))return m.toISOString();if(P.isBoolean(m))return m.toString();if(!c&&P.isBlob(m))throw new X("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(m)||P.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function f(m,y,x){let v=m;if(m&&!x&&typeof m=="object"){if(P.endsWith(y,"{}"))y=r?y:y.slice(0,-2),m=JSON.stringify(m);else if(P.isArray(m)&&_b(m)||(P.isFileList(m)||P.endsWith(y,"[]"))&&(v=P.toArray(m)))return y=ig(y),v.forEach(function(b,_){!(P.isUndefined(b)||b===null)&&t.append(i===!0?wf([y],_,o):i===null?y:y+"[]",u(b))}),!1}return dc(m)?!0:(t.append(wf(x,y,o),u(m)),!1)}const d=[],p=Object.assign(Sb,{defaultVisitor:f,convertValue:u,isVisitable:dc});function h(m,y){if(!P.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(m),P.forEach(m,function(v,g){(!(P.isUndefined(v)||v===null)&&s.call(t,v,P.isString(g)?g.trim():g,y,p))===!0&&h(v,y?y.concat(g):[g])}),d.pop()}}if(!P.isObject(e))throw new TypeError("data must be an object");return h(e),t}function bf(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function _u(e,t){this._pairs=[],e&&cl(e,this,t)}const lg=_u.prototype;lg.append=function(t,n){this._pairs.push([t,n])};lg.toString=function(t){const n=t?function(r){return t.call(this,r,bf)}:bf;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Cb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ag(e,t,n){if(!t)return e;const r=n&&n.encode||Cb;P.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(t,n):o=P.isURLSearchParams(t)?t.toString():new _u(t,n).toString(r),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class _f{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){P.forEach(this.handlers,function(r){r!==null&&t(r)})}}const cg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kb=typeof URLSearchParams<"u"?URLSearchParams:_u,Eb=typeof FormData<"u"?FormData:null,jb=typeof Blob<"u"?Blob:null,Nb={isBrowser:!0,classes:{URLSearchParams:kb,FormData:Eb,Blob:jb},protocols:["http","https","file","blob","url","data"]},Su=typeof window<"u"&&typeof document<"u",fc=typeof navigator=="object"&&navigator||void 0,Rb=Su&&(!fc||["ReactNative","NativeScript","NS"].indexOf(fc.product)<0),Db=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ab=Su&&window.location.href||"http://localhost",Pb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Su,hasStandardBrowserEnv:Rb,hasStandardBrowserWebWorkerEnv:Db,navigator:fc,origin:Ab},Symbol.toStringTag,{value:"Module"})),Ye={...Pb,...Nb};function Ib(e,t){return cl(e,new Ye.classes.URLSearchParams,{visitor:function(n,r,s,o){return Ye.isNode&&P.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function Ob(e){return P.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Tb(e){const t={},n=Object.keys(e);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],t[o]=e[o];return t}function ug(e){function t(n,r,s,o){let i=n[o++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),c=o>=n.length;return i=!i&&P.isArray(s)?s.length:i,c?(P.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!a):((!s[i]||!P.isObject(s[i]))&&(s[i]=[]),t(n,r,s[i],o)&&P.isArray(s[i])&&(s[i]=Tb(s[i])),!a)}if(P.isFormData(e)&&P.isFunction(e.entries)){const n={};return P.forEachEntry(e,(r,s)=>{t(Ob(r),s,n,0)}),n}return null}function Lb(e,t,n){if(P.isString(e))try{return(t||JSON.parse)(e),P.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const fo={transitional:cg,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=P.isObject(t);if(o&&P.isHTMLForm(t)&&(t=new FormData(t)),P.isFormData(t))return s?JSON.stringify(ug(t)):t;if(P.isArrayBuffer(t)||P.isBuffer(t)||P.isStream(t)||P.isFile(t)||P.isBlob(t)||P.isReadableStream(t))return t;if(P.isArrayBufferView(t))return t.buffer;if(P.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ib(t,this.formSerializer).toString();if((a=P.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return cl(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),Lb(t)):t}],transformResponse:[function(t){const n=this.transitional||fo.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(P.isResponse(t)||P.isReadableStream(t))return t;if(t&&P.isString(t)&&(r&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(a){if(i)throw a.name==="SyntaxError"?X.from(a,X.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ye.classes.FormData,Blob:Ye.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],e=>{fo.headers[e]={}});const Fb=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mb=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||t[n]&&Fb[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Sf=Symbol("internals");function ls(e){return e&&String(e).trim().toLowerCase()}function ni(e){return e===!1||e==null?e:P.isArray(e)?e.map(ni):String(e)}function Bb(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const zb=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Kl(e,t,n,r,s){if(P.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!P.isString(t)){if(P.isString(r))return t.indexOf(r)!==-1;if(P.isRegExp(r))return r.test(t)}}function $b(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Ub(e,t){const n=P.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,o,i){return this[r].call(this,t,s,o,i)},configurable:!0})})}let dt=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function o(a,c,u){const f=ls(c);if(!f)throw new Error("header name must be a non-empty string");const d=P.findKey(s,f);(!d||s[d]===void 0||u===!0||u===void 0&&s[d]!==!1)&&(s[d||c]=ni(a))}const i=(a,c)=>P.forEach(a,(u,f)=>o(u,f,c));if(P.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(P.isString(t)&&(t=t.trim())&&!zb(t))i(Mb(t),n);else if(P.isObject(t)&&P.isIterable(t)){let a={},c,u;for(const f of t){if(!P.isArray(f))throw TypeError("Object iterator must return a key-value pair");a[u=f[0]]=(c=a[u])?P.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}i(a,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=ls(t),t){const r=P.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return Bb(s);if(P.isFunction(n))return n.call(this,s,r);if(P.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ls(t),t){const r=P.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Kl(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function o(i){if(i=ls(i),i){const a=P.findKey(r,i);a&&(!n||Kl(r,r[a],a,n))&&(delete r[a],s=!0)}}return P.isArray(t)?t.forEach(o):o(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!t||Kl(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const n=this,r={};return P.forEach(this,(s,o)=>{const i=P.findKey(r,o);if(i){n[i]=ni(s),delete n[o];return}const a=t?$b(o):String(o).trim();a!==o&&delete n[o],n[a]=ni(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return P.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&P.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Sf]=this[Sf]={accessors:{}}).accessors,s=this.prototype;function o(i){const a=ls(i);r[a]||(Ub(s,i),r[a]=!0)}return P.isArray(t)?t.forEach(o):o(t),this}};dt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(dt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});P.freezeMethods(dt);function Ql(e,t){const n=this||fo,r=t||n,s=dt.from(r.headers);let o=r.data;return P.forEach(e,function(a){o=a.call(n,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function dg(e){return!!(e&&e.__CANCEL__)}function Hr(e,t,n){X.call(this,e??"canceled",X.ERR_CANCELED,t,n),this.name="CanceledError"}P.inherits(Hr,X,{__CANCEL__:!0});function fg(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new X("Request failed with status code "+n.status,[X.ERR_BAD_REQUEST,X.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Wb(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Vb(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,o=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),f=r[o];i||(i=u),n[s]=c,r[s]=u;let d=o,p=0;for(;d!==s;)p+=n[d++],d=d%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),u-i<t)return;const h=f&&u-f;return h?Math.round(p*1e3/h):void 0}}function Hb(e,t){let n=0,r=1e3/t,s,o;const i=(u,f=Date.now())=>{n=f,s=null,o&&(clearTimeout(o),o=null),e(...u)};return[(...u)=>{const f=Date.now(),d=f-n;d>=r?i(u,f):(s=u,o||(o=setTimeout(()=>{o=null,i(s)},r-d)))},()=>s&&i(s)]}const Di=(e,t,n=3)=>{let r=0;const s=Vb(50,250);return Hb(o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,c=i-r,u=s(c),f=i<=a;r=i;const d={loaded:i,total:a,progress:a?i/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&f?(a-i)/u:void 0,event:o,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},Cf=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},kf=e=>(...t)=>P.asap(()=>e(...t)),Gb=Ye.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ye.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ye.origin),Ye.navigator&&/(msie|trident)/i.test(Ye.navigator.userAgent)):()=>!0,qb=Ye.hasStandardBrowserEnv?{write(e,t,n,r,s,o,i){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];P.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),P.isString(r)&&a.push(`path=${r}`),P.isString(s)&&a.push(`domain=${s}`),o===!0&&a.push("secure"),P.isString(i)&&a.push(`SameSite=${i}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Kb(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Qb(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function pg(e,t,n){let r=!Kb(t);return e&&(r||n==!1)?Qb(e,t):t}const Ef=e=>e instanceof dt?{...e}:e;function nr(e,t){t=t||{};const n={};function r(u,f,d,p){return P.isPlainObject(u)&&P.isPlainObject(f)?P.merge.call({caseless:p},u,f):P.isPlainObject(f)?P.merge({},f):P.isArray(f)?f.slice():f}function s(u,f,d,p){if(P.isUndefined(f)){if(!P.isUndefined(u))return r(void 0,u,d,p)}else return r(u,f,d,p)}function o(u,f){if(!P.isUndefined(f))return r(void 0,f)}function i(u,f){if(P.isUndefined(f)){if(!P.isUndefined(u))return r(void 0,u)}else return r(void 0,f)}function a(u,f,d){if(d in t)return r(u,f);if(d in e)return r(void 0,u)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(u,f,d)=>s(Ef(u),Ef(f),d,!0)};return P.forEach(Object.keys({...e,...t}),function(f){const d=c[f]||s,p=d(e[f],t[f],f);P.isUndefined(p)&&d!==a||(n[f]=p)}),n}const hg=e=>{const t=nr({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:a}=t;if(t.headers=i=dt.from(i),t.url=ag(pg(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),P.isFormData(n)){if(Ye.hasStandardBrowserEnv||Ye.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(P.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([f,d])=>{u.includes(f.toLowerCase())&&i.set(f,d)})}}if(Ye.hasStandardBrowserEnv&&(r&&P.isFunction(r)&&(r=r(t)),r||r!==!1&&Gb(t.url))){const c=s&&o&&qb.read(o);c&&i.set(s,c)}return t},Yb=typeof XMLHttpRequest<"u",Jb=Yb&&function(e){return new Promise(function(n,r){const s=hg(e);let o=s.data;const i=dt.from(s.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=s,f,d,p,h,m;function y(){h&&h(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function v(){if(!x)return;const b=dt.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),j={data:!a||a==="text"||a==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:b,config:e,request:x};fg(function(D){n(D),y()},function(D){r(D),y()},j),x=null}"onloadend"in x?x.onloadend=v:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(v)},x.onabort=function(){x&&(r(new X("Request aborted",X.ECONNABORTED,e,x)),x=null)},x.onerror=function(_){const j=_&&_.message?_.message:"Network Error",N=new X(j,X.ERR_NETWORK,e,x);N.event=_||null,r(N),x=null},x.ontimeout=function(){let _=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||cg;s.timeoutErrorMessage&&(_=s.timeoutErrorMessage),r(new X(_,j.clarifyTimeoutError?X.ETIMEDOUT:X.ECONNABORTED,e,x)),x=null},o===void 0&&i.setContentType(null),"setRequestHeader"in x&&P.forEach(i.toJSON(),function(_,j){x.setRequestHeader(j,_)}),P.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),a&&a!=="json"&&(x.responseType=s.responseType),u&&([p,m]=Di(u,!0),x.addEventListener("progress",p)),c&&x.upload&&([d,h]=Di(c),x.upload.addEventListener("progress",d),x.upload.addEventListener("loadend",h)),(s.cancelToken||s.signal)&&(f=b=>{x&&(r(!b||b.type?new Hr(null,e,x):b),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const g=Wb(s.url);if(g&&Ye.protocols.indexOf(g)===-1){r(new X("Unsupported protocol "+g+":",X.ERR_BAD_REQUEST,e));return}x.send(o||null)})},Xb=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const o=function(u){if(!s){s=!0,a();const f=u instanceof Error?u:this.reason;r.abort(f instanceof X?f:new Hr(f instanceof Error?f.message:f))}};let i=t&&setTimeout(()=>{i=null,o(new X(`timeout ${t} of ms exceeded`,X.ETIMEDOUT))},t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>P.asap(a),c}},Zb=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},e_=async function*(e,t){for await(const n of t_(e))yield*Zb(n,t)},t_=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},jf=(e,t,n,r)=>{const s=e_(e,t);let o=0,i,a=c=>{i||(i=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:f}=await s.next();if(u){a(),c.close();return}let d=f.byteLength;if(n){let p=o+=d;n(p)}c.enqueue(new Uint8Array(f))}catch(u){throw a(u),u}},cancel(c){return a(c),s.return()}},{highWaterMark:2})},Nf=64*1024,{isFunction:Lo}=P,n_=(({Request:e,Response:t})=>({Request:e,Response:t}))(P.global),{ReadableStream:Rf,TextEncoder:Df}=P.global,Af=(e,...t)=>{try{return!!e(...t)}catch{return!1}},r_=e=>{e=P.merge.call({skipUndefined:!0},n_,e);const{fetch:t,Request:n,Response:r}=e,s=t?Lo(t):typeof fetch=="function",o=Lo(n),i=Lo(r);if(!s)return!1;const a=s&&Lo(Rf),c=s&&(typeof Df=="function"?(m=>y=>m.encode(y))(new Df):async m=>new Uint8Array(await new n(m).arrayBuffer())),u=o&&a&&Af(()=>{let m=!1;const y=new n(Ye.origin,{body:new Rf,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!y}),f=i&&a&&Af(()=>P.isReadableStream(new r("").body)),d={stream:f&&(m=>m.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!d[m]&&(d[m]=(y,x)=>{let v=y&&y[m];if(v)return v.call(y);throw new X(`Response type '${m}' is not supported`,X.ERR_NOT_SUPPORT,x)})});const p=async m=>{if(m==null)return 0;if(P.isBlob(m))return m.size;if(P.isSpecCompliantForm(m))return(await new n(Ye.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(P.isArrayBufferView(m)||P.isArrayBuffer(m))return m.byteLength;if(P.isURLSearchParams(m)&&(m=m+""),P.isString(m))return(await c(m)).byteLength},h=async(m,y)=>{const x=P.toFiniteNumber(m.getContentLength());return x??p(y)};return async m=>{let{url:y,method:x,data:v,signal:g,cancelToken:b,timeout:_,onDownloadProgress:j,onUploadProgress:N,responseType:D,headers:S,withCredentials:C="same-origin",fetchOptions:E}=hg(m),k=t||fetch;D=D?(D+"").toLowerCase():"text";let R=Xb([g,b&&b.toAbortSignal()],_),I=null;const B=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let W;try{if(N&&u&&x!=="get"&&x!=="head"&&(W=await h(S,v))!==0){let T=new n(y,{method:"POST",body:v,duplex:"half"}),F;if(P.isFormData(v)&&(F=T.headers.get("content-type"))&&S.setContentType(F),T.body){const[H,re]=Cf(W,Di(kf(N)));v=jf(T.body,Nf,H,re)}}P.isString(C)||(C=C?"include":"omit");const U=o&&"credentials"in n.prototype,V={...E,signal:R,method:x.toUpperCase(),headers:S.normalize().toJSON(),body:v,duplex:"half",credentials:U?C:void 0};I=o&&new n(y,V);let A=await(o?k(I,E):k(y,V));const O=f&&(D==="stream"||D==="response");if(f&&(j||O&&B)){const T={};["status","statusText","headers"].forEach(ae=>{T[ae]=A[ae]});const F=P.toFiniteNumber(A.headers.get("content-length")),[H,re]=j&&Cf(F,Di(kf(j),!0))||[];A=new r(jf(A.body,Nf,H,()=>{re&&re(),B&&B()}),T)}D=D||"text";let L=await d[P.findKey(d,D)||"text"](A,m);return!O&&B&&B(),await new Promise((T,F)=>{fg(T,F,{data:L,headers:dt.from(A.headers),status:A.status,statusText:A.statusText,config:m,request:I})})}catch(U){throw B&&B(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new X("Network Error",X.ERR_NETWORK,m,I),{cause:U.cause||U}):X.from(U,U&&U.code,m,I)}}},s_=new Map,mg=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,o=[r,s,n];let i=o.length,a=i,c,u,f=s_;for(;a--;)c=o[a],u=f.get(c),u===void 0&&f.set(c,u=a?new Map:r_(t)),f=u;return u};mg();const Cu={http:bb,xhr:Jb,fetch:{get:mg}};P.forEach(Cu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Pf=e=>`- ${e}`,o_=e=>P.isFunction(e)||e===null||e===!1;function i_(e,t){e=P.isArray(e)?e:[e];const{length:n}=e;let r,s;const o={};for(let i=0;i<n;i++){r=e[i];let a;if(s=r,!o_(r)&&(s=Cu[(a=String(r)).toLowerCase()],s===void 0))throw new X(`Unknown adapter '${a}'`);if(s&&(P.isFunction(s)||(s=s.get(t))))break;o[a||"#"+i]=s}if(!s){const i=Object.entries(o).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?i.length>1?`since :
`+i.map(Pf).join(`
`):" "+Pf(i[0]):"as no adapter specified";throw new X("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const gg={getAdapter:i_,adapters:Cu};function Yl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Hr(null,e)}function If(e){return Yl(e),e.headers=dt.from(e.headers),e.data=Ql.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),gg.getAdapter(e.adapter||fo.adapter,e)(e).then(function(r){return Yl(e),r.data=Ql.call(e,e.transformResponse,r),r.headers=dt.from(r.headers),r},function(r){return dg(r)||(Yl(e),r&&r.response&&(r.response.data=Ql.call(e,e.transformResponse,r.response),r.response.headers=dt.from(r.response.headers))),Promise.reject(r)})}const yg="1.13.1",ul={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ul[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Of={};ul.transitional=function(t,n,r){function s(o,i){return"[Axios v"+yg+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,a)=>{if(t===!1)throw new X(s(i," has been removed"+(n?" in "+n:"")),X.ERR_DEPRECATED);return n&&!Of[i]&&(Of[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,i,a):!0}};ul.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function l_(e,t,n){if(typeof e!="object")throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],i=t[o];if(i){const a=e[o],c=a===void 0||i(a,o,e);if(c!==!0)throw new X("option "+o+" must be "+c,X.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new X("Unknown option "+o,X.ERR_BAD_OPTION)}}const ri={assertOptions:l_,validators:ul},Ht=ri.validators;let Yn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new _f,response:new _f}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=nr(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&ri.assertOptions(r,{silentJSONParsing:Ht.transitional(Ht.boolean),forcedJSONParsing:Ht.transitional(Ht.boolean),clarifyTimeoutError:Ht.transitional(Ht.boolean)},!1),s!=null&&(P.isFunction(s)?n.paramsSerializer={serialize:s}:ri.assertOptions(s,{encode:Ht.function,serialize:Ht.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ri.assertOptions(n,{baseUrl:Ht.spelling("baseURL"),withXsrfToken:Ht.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&P.merge(o.common,o[n.method]);o&&P.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),n.headers=dt.concat(i,o);const a=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(c=c&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let f,d=0,p;if(!c){const m=[If.bind(this),void 0];for(m.unshift(...a),m.push(...u),p=m.length,f=Promise.resolve(n);d<p;)f=f.then(m[d++],m[d++]);return f}p=a.length;let h=n;for(;d<p;){const m=a[d++],y=a[d++];try{h=m(h)}catch(x){y.call(this,x);break}}try{f=If.call(this,h)}catch(m){return Promise.reject(m)}for(d=0,p=u.length;d<p;)f=f.then(u[d++],u[d++]);return f}getUri(t){t=nr(this.defaults,t);const n=pg(t.baseURL,t.url,t.allowAbsoluteUrls);return ag(n,t.params,t.paramsSerializer)}};P.forEach(["delete","get","head","options"],function(t){Yn.prototype[t]=function(n,r){return this.request(nr(r||{},{method:t,url:n,data:(r||{}).data}))}});P.forEach(["post","put","patch"],function(t){function n(r){return function(o,i,a){return this.request(nr(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}Yn.prototype[t]=n(),Yn.prototype[t+"Form"]=n(!0)});let a_=class vg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(a=>{r.subscribe(a),o=a}).then(s);return i.cancel=function(){r.unsubscribe(o)},i},t(function(o,i,a){r.reason||(r.reason=new Hr(o,i,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new vg(function(s){t=s}),cancel:t}}};function c_(e){return function(n){return e.apply(null,n)}}function u_(e){return P.isObject(e)&&e.isAxiosError===!0}const pc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(pc).forEach(([e,t])=>{pc[t]=e});function xg(e){const t=new Yn(e),n=Ym(Yn.prototype.request,t);return P.extend(n,Yn.prototype,t,{allOwnKeys:!0}),P.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return xg(nr(e,s))},n}const je=xg(fo);je.Axios=Yn;je.CanceledError=Hr;je.CancelToken=a_;je.isCancel=dg;je.VERSION=yg;je.toFormData=cl;je.AxiosError=X;je.Cancel=je.CanceledError;je.all=function(t){return Promise.all(t)};je.spread=c_;je.isAxiosError=u_;je.mergeConfig=nr;je.AxiosHeaders=dt;je.formToJSON=e=>ug(P.isHTMLForm(e)?new FormData(e):e);je.getAdapter=gg.getAdapter;je.HttpStatusCode=pc;je.default=je;const{Axios:XN,AxiosError:ZN,CanceledError:eR,isCancel:tR,CancelToken:nR,VERSION:rR,all:sR,Cancel:oR,isAxiosError:iR,spread:lR,toFormData:aR,AxiosHeaders:cR,HttpStatusCode:uR,formToJSON:dR,getAdapter:fR,mergeConfig:pR}=je;je.defaults.withCredentials=!0;const wg="https://my-tms-project-production.up.railway.app",Q=je.create({baseURL:wg,headers:{"Content-Type":"application/json"},withCredentials:!0});Q.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`,console.debug(" Request with token ",e.url)),e},e=>Promise.reject(e));let Jl=!1,hc=[];const Tf=(e,t=null)=>{hc.forEach(({resolve:n,reject:r})=>{e?r(e):n(t)}),hc=[]};Q.interceptors.response.use(e=>e,async e=>{var r,s;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){if(Jl)return new Promise((o,i)=>{hc.push({resolve:o,reject:i})}).then(o=>(t.headers.Authorization=`Bearer ${o}`,Q(t))).catch(o=>Promise.reject(o));t._retry=!0,Jl=!0;try{console.info(" Attempting token refresh...");const o=`${wg}/api/auth/refresh`,{data:i}=await je.post(o,{},{withCredentials:!0}),a=i.accessToken;if(!a)throw new Error("No token returned from refresh.");return localStorage.setItem("token",a),Q.defaults.headers.common.Authorization=`Bearer ${a}`,t.headers.Authorization=`Bearer ${a}`,window.dispatchEvent(new CustomEvent("token-refreshed",{detail:{accessToken:a}})),Tf(null,a),console.info(" Token refreshed successfully."),Q(t)}catch(o){return console.error(" Refresh token failed:",o),Tf(o,null),localStorage.removeItem("token"),window.dispatchEvent(new Event("auth-error")),Promise.reject(o)}finally{Jl=!1}}return((s=e.response)==null?void 0:s.status)===403&&(console.warn(" Forbidden (403)  forcing logout"),localStorage.removeItem("token"),window.dispatchEvent(new Event("auth-error"))),Promise.reject(e)});/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),f_=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Lf=e=>{const t=f_(e);return t.charAt(0).toUpperCase()+t.slice(1)},bg=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),p_=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var h_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},c)=>w.createElement("svg",{ref:c,...h_,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:bg("lucide",s),...!o&&!p_(a)&&{"aria-hidden":"true"},...a},[...i.map(([u,f])=>w.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(e,t)=>{const n=w.forwardRef(({className:r,...s},o)=>w.createElement(m_,{ref:o,iconNode:t,className:bg(`lucide-${d_(Lf(e))}`,`lucide-${e}`,r),...s}));return n.displayName=Lf(e),n};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],y_=oe("arrow-down-to-line",g_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],_g=oe("arrow-down",v_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]],w_=oe("arrow-up-from-line",x_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Sg=oe("arrow-up",b_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Xl=oe("briefcase",__);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Cg=oe("calendar",S_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],k_=oe("circle-alert",C_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ku=oe("circle-check-big",E_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ff=oe("circle-x",j_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Mf=oe("cloud-upload",N_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],po=oe("download",R_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],dl=oe("file-text",D_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],P_=oe("info",A_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Cs=oe("layout-grid",I_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],T_=oe("layout-dashboard",O_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],F_=oe("link-2",L_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],B_=oe("log-out",M_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],$_=oe("moon",z_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Eu=oe("package",U_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],V_=oe("play",W_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rr=oe("plus",H_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]],qs=oe("pound-sterling",G_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],kg=oe("printer",q_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Q_=oe("refresh-ccw",K_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ho=oe("refresh-cw",Y_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],X_=oe("save",J_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bf=oe("settings",Z_);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],mo=oe("square-pen",e1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],n1=oe("sun",t1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Gr=oe("trash-2",r1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ju=oe("triangle-alert",s1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Fo=oe("truck",o1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Nu=oe("upload",i1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Eg=oe("user",l1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zf=oe("users",a1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],ks=oe("weight",c1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wt=oe("x",u1),jg=w.createContext(),ve=()=>{const e=w.useContext(jg);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},d1=({message:e,type:t,onClose:n})=>{const r={success:l.jsx(ku,{}),error:l.jsx(k_,{}),warning:l.jsx(ju,{}),info:l.jsx(P_,{})};return l.jsxs("div",{className:`toast toast-${t}`,children:[l.jsx("div",{className:"toast-icon",children:r[t]}),l.jsx("p",{className:"toast-message",children:e}),l.jsx("button",{onClick:n,className:"toast-close-btn",children:l.jsx(wt,{size:18})})]})},f1=({children:e})=>{const[t,n]=w.useState([]),r=w.useCallback((o,i="success")=>{const a=Date.now();n(c=>[...c,{id:a,message:o,type:i}]),setTimeout(()=>{s(a)},5e3)},[]),s=o=>{n(i=>i.filter(a=>a.id!==o))};return l.jsxs(jg.Provider,{value:{showToast:r},children:[e,l.jsx("div",{className:"toast-container",children:t.map(o=>l.jsx(d1,{message:o.message,type:o.type,onClose:()=>s(o.id)},o.id))})]})},Ng=w.createContext(),qr=()=>{const e=w.useContext(Ng);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},p1=({children:e})=>{const[t,n]=w.useState(null),[r,s]=w.useState(!1),[o,i]=w.useState(!1),[a,c]=w.useState(!0),{showToast:u}=ve(),f=w.useCallback(async()=>{if(localStorage.getItem("token"))try{const{data:y}=await Q.get("/api/auth/me");n(y.user)}catch(y){console.warn(" Failed to fetch user info:",y),n(null)}},[]),d=w.useCallback(async(m,y)=>{i(!0);try{const{data:x}=await Q.post("/api/auth/login",{email:m,password:y});localStorage.setItem("token",x.accessToken),n(x.user),s(!0),u("Login successful","success")}catch(x){throw x}finally{i(!1)}},[u]),p=w.useCallback(async m=>{i(!0);try{await Q.post("/api/auth/register",m),u("Registration successful! You can now log in.","success")}catch(y){throw y}finally{i(!1)}},[u]),h=w.useCallback(async()=>{try{await Q.post("/api/auth/logout")}catch{console.warn("Logout failed on API, clearing local session anyway.")}finally{localStorage.removeItem("token"),n(null),s(!1),u("You have been logged out.","info")}},[u]);return w.useEffect(()=>{const m=x=>{var g;const v=(g=x.detail)==null?void 0:g.accessToken;v&&(localStorage.setItem("token",v),console.log(" Token updated in AuthContext."))},y=()=>{console.warn(" Auth error received  logging out user."),h()};return window.addEventListener("token-refreshed",m),window.addEventListener("auth-error",y),()=>{window.removeEventListener("token-refreshed",m),window.removeEventListener("auth-error",y)}},[h]),w.useEffect(()=>{(async()=>{if(!localStorage.getItem("token")){c(!1);return}try{const{data:x}=await Q.get("/api/auth/me");n(x.user),s(!0)}catch(x){console.error("Session validation failed:",x),localStorage.removeItem("token"),s(!1)}finally{c(!1)}})()},[]),l.jsx(Ng.Provider,{value:{user:t,isAuthenticated:r,isLoading:a,loading:o,login:d,logout:h,register:p,setUser:n,fetchUser:f},children:!a&&e})};let br=class extends le.Component{constructor(n){super(n);ed(this,"handleReset",()=>{this.retryTimer&&clearInterval(this.retryTimer),this.props.onReset?this.props.onReset():this.setState({hasError:!1,error:null,errorInfo:null,autoRetryCountdown:null})});this.state={hasError:!1,error:null,errorInfo:null,autoRetryCountdown:null},this.retryTimer=null}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error(" Component Error Caught:",n,r),this.setState({errorInfo:r});const s={message:n==null?void 0:n.toString(),stack:r==null?void 0:r.componentStack,timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent};localStorage.setItem("lastError",JSON.stringify(s)),Q.post("/api/feedback/report-bug",{description:(n==null?void 0:n.message)||"React component crash",context:s}).catch(()=>{});const o=this.props.autoRetry??0;if(o>0){let i=o;this.setState({autoRetryCountdown:i}),this.retryTimer=setInterval(()=>{i-=1,i<=0?(clearInterval(this.retryTimer),this.handleReset()):this.setState({autoRetryCountdown:i})},1e3)}}componentWillUnmount(){this.retryTimer&&clearInterval(this.retryTimer)}render(){const{hasError:n,error:r,errorInfo:s,autoRetryCountdown:o}=this.state;return n?l.jsxs("div",{className:"card",style:{textAlign:"center",padding:"2rem"},children:[l.jsx("h2",{children:" Something went wrong!"}),l.jsx("p",{children:"Were sorry  an unexpected error occurred."}),o!==null&&l.jsxs("p",{style:{color:"gray",marginTop:"0.5rem"},children:["Retrying automatically in ",o,"s..."]}),l.jsxs("details",{style:{whiteSpace:"pre-wrap",textAlign:"left",background:"#f8d7da",border:"1px solid #f5c6cb",padding:"1rem",borderRadius:"8px",marginTop:"1rem"},children:[l.jsx("summary",{children:"Error details"}),l.jsx("p",{children:"Technical details hidden in production mode."})]}),l.jsx("button",{onClick:this.handleReset,className:"btn-primary",style:{marginTop:"1rem"},children:"Try Again Now"})]}):this.props.children}};const st=(e,t="resource")=>{const[n,r]=w.useState([]),[s,o]=w.useState(!1),[i,a]=w.useState(null),[c,u]=w.useState(null),f=w.useRef(r);w.useEffect(()=>{f.current=r},[]);const d=w.useRef(e),p=w.useRef(t),h=w.useRef(null);w.useEffect(()=>{d.current=e,p.current=t},[e,t]);const m=w.useCallback(async()=>{var D,S;const _=d.current,j=p.current;if(!_)return;h.current&&h.current.abort();const N=new AbortController;h.current=N,o(!0),a(null);try{const C=await Q.get(_,{signal:N.signal}),E=Array.isArray(C.data)?C.data:[];return f.current(E),u(Date.now()),E}catch(C){if(C.name==="CanceledError")return;const E=((S=(D=C.response)==null?void 0:D.data)==null?void 0:S.error)||`Failed to fetch ${j}.`;a(E),f.current([])}finally{o(!1)}},[]);w.useEffect(()=>(e?m():r([]),()=>{h.current&&h.current.abort()}),[e,m]);const y=w.useCallback(async(_,j)=>{var C,E;const N=d.current,D=p.current;let S=null;if(j){S=`temp-${Date.now()}`;const k=j(_,S);f.current(R=>[...R,k])}o(!0),a(null);try{const R=(await Q.post(N,_)).data;return f.current(I=>j?I.map(B=>B.id===S?R:B):[...I,R]),R}catch(k){j&&f.current(I=>I.filter(B=>B.id!==S));const R=((E=(C=k.response)==null?void 0:C.data)==null?void 0:E.error)||`Failed to create ${D}.`;return a(R),null}finally{o(!1)}},[]),x=w.useCallback(async(_,j)=>{var C,E;const N=d.current,D=p.current;let S;f.current(k=>(S=k,k.map(R=>R.id===_?{...R,...j}:R))),o(!0),a(null);try{const R=(await Q.put(`${N}/${_}`,j)).data;return f.current(I=>I.map(B=>B.id===_?R:B)),R}catch(k){S&&f.current(S);const R=((E=(C=k.response)==null?void 0:C.data)==null?void 0:E.error)||`Failed to update ${D}.`;return a(R),null}finally{o(!1)}},[]),v=w.useCallback(async _=>{var S,C;const j=d.current,N=p.current;let D=null;f.current(E=>{const k=E.findIndex(R=>R.id===_);return k===-1?E:(D=E[k],E.filter(R=>R.id!==_))}),o(!0),a(null);try{await Q.delete(`${j}/${_}`)}catch(E){D&&f.current(R=>[...R,D]);const k=((C=(S=E.response)==null?void 0:S.data)==null?void 0:C.error)||`Failed to delete ${N}.`;a(k)}finally{o(!1)}},[]),g=w.useCallback(async _=>{var D,S;const j=d.current,N=p.current;o(!0),a(null);try{const C=await Q.post(`${j}/bulk`,_);return await m(),{success:!0,message:C.data.message||`${N} created successfully.`}}catch(C){const E=((S=(D=C.response)==null?void 0:D.data)==null?void 0:S.error)||`Failed to bulk create ${N}.`;return a(E),{success:!1,message:E}}finally{o(!1)}},[m]),b=w.useCallback(_=>{r(Array.isArray(_)?_:[])},[]);return{data:n,isLoading:s,error:i,lastFetched:c,fetchData:m,createResource:y,updateResource:x,deleteResource:v,bulkCreate:g,setData:b}},h1=(e="tms_state_sync",t={})=>{const{onMessage:n,debounceMs:r=0}=t,s=w.useRef(n);w.useEffect(()=>{s.current=n},[n]);const o=w.useRef(null);o.current||(o.current=new BroadcastChannel(e));const i=w.useRef(null);w.useEffect(()=>{const f=p=>{var m;if(!s.current)return;const h=p.data;r>0?(clearTimeout(i.current),i.current=setTimeout(()=>{var y;(y=s.current)==null||y.call(s,h)},r)):(m=s.current)==null||m.call(s,h)},d=o.current;return d.addEventListener("message",f),()=>{clearTimeout(i.current),d.removeEventListener("message",f)}},[r]);const a=w.useCallback(f=>{var d;try{(d=o.current)==null||d.postMessage(f)}catch(p){console.error("BroadcastChannel postMessage error:",p)}},[]),c=w.useCallback(f=>{s.current=f},[]),u=w.useCallback(()=>{var f;try{(f=o.current)==null||f.close()}catch(d){console.warn("Error closing BroadcastChannel:",d)}},[]);return{postMessage:a,onMessage:c,close:u}},Rg={drivers:{title:"Import Drivers",apiEndpoint:"/api/drivers/import",postDataKey:"drivers",dataMappingFn:e=>({first_name:e.first_name,last_name:e.last_name,phone_number:e.phone_number,license_number:e.license_number}),previewColumns:[{key:"first_name",header:"First Name"},{key:"last_name",header:"Last Name"},{key:"phone_number",header:"Phone"}]}},m1=()=>{const[e,t]=w.useState("orders"),[n,r]=w.useState(!1),[s,o]=w.useState(null),[i,a]=w.useState(null),[c,u]=w.useState({isOpen:!1,message:"",onConfirm:()=>{}}),[f,d]=w.useState(()=>localStorage.getItem("globalAutoRefresh")==="true"),p=w.useCallback(_=>{localStorage.setItem("globalAutoRefresh",_),d(_)},[]),h=w.useCallback(_=>{t(_),r(!1),o(null),a(null)},[]),m=w.useCallback(_=>{o(_),r(!0),a(null)},[]),y=w.useCallback(()=>{r(!1),o(null)},[]),x=w.useCallback(_=>a(Rg[_]),[]),v=w.useCallback(()=>a(null),[]),g=w.useCallback((_,j)=>{u({isOpen:!0,message:_,onConfirm:async()=>{await j(),u({isOpen:!1,message:"",onConfirm:()=>{}})}})},[]),b=w.useCallback(()=>u({isOpen:!1,message:"",onConfirm:()=>{}}),[]);return{currentView:e,showForm:n,itemToEdit:s,importerConfig:i,modalState:c,globalAutoRefresh:f,setGlobalAutoRefresh:p,handleViewChange:h,handleEditClick:m,handleCancelForm:y,handleShowImporter:x,handleHideImporter:v,handleDeleteRequest:g,handleCloseModal:b,setShowForm:r,setItemToEdit:o}},g1=e=>{const{isAuthenticated:t}=qr(),n=e==="admin",r=e==="dispatcher",s=w.useMemo(()=>({orders:st(t?"/api/orders":null),drivers:st(t&&n?"/api/drivers":null),trucks:st(t&&n?"/api/trucks":null),trailers:st(t&&n?"/api/trailers":null),users:st(t&&n?"/api/users":null),assignments:st(t?"/api/assignments":null),customers:st(t&&(n||r)?"/api/customers":null),zones:st(t&&(n||r)?"/api/zones":null),surcharges:st(t&&n?"/api/surcharge-types":null),invoices:st(t&&n?"/api/invoices":null),runs:st(t?"/api/runs":null,{initialFetch:!1})}),[t,n,r]),o=w.useCallback(()=>{Object.values(s).forEach(d=>{var p;return(p=d.fetchData)==null?void 0:p.call(d)})},[s]);h1("tms_state_sync",{onMessage:d=>{var p,h;(d==null?void 0:d.type)==="REFRESH_ALL"?o():(d==null?void 0:d.type)==="REFRESH_VIEW"&&d.view&&s[d.view]&&((h=(p=s[d.view]).fetchData)==null||h.call(p))},debounceMs:300});const i=w.useCallback(d=>{var p,h;return(h=(p=s[d])==null?void 0:p.fetchData)==null?void 0:h.call(p)},[s]),a=w.useMemo(()=>Object.fromEntries(Object.entries(s).map(([d,p])=>[d,p.data||[]])),[s,...Object.values(s).map(d=>d.data)]),c=w.useMemo(()=>Object.values(s).some(d=>d.isLoading&&!d.data),[s,...Object.values(s).map(d=>d.isLoading)]),u=w.useMemo(()=>{var d;return((d=Object.values(s).find(p=>p.error))==null?void 0:d.error)??null},[s,...Object.values(s).map(d=>d.error)]),f=w.useMemo(()=>Object.fromEntries(Object.entries(s).map(([d,p])=>[d,{create:p.createResource,update:p.updateResource,delete:p.deleteResource,bulkCreate:p.bulkCreate}])),[s]);return{data:a,isLoading:c,anyError:u,handleRefresh:i,refreshAll:o,actions:f}},Mo=(e,t)=>{if(e===t)return!0;if(!e||!t||typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n)if(e[s]!==t[s])return!1;return!0},Fn=({initialState:e,validate:t,onSubmit:n,itemToEdit:r=null})=>{const s=w.useRef(e),[o,i]=w.useState(s.current),[a,c]=w.useState({}),[u,f]=w.useState(!1);w.useEffect(()=>{const m=e??s.current;if(r){const y={...m,...r};if(y.cargo_details){const x=y.cargo_details.pallets;x&&typeof x=="object"&&!Array.isArray(x)?y.cargo_details.pallets=Object.entries(x).map(([v,g])=>({type:v,quantity:Number((g==null?void 0:g.quantity)??(g==null?void 0:g.count)??0)||0,spaces:Number((g==null?void 0:g.spaces)??0)||0,weight:Number((g==null?void 0:g.weight)??0)||0})).filter(v=>v.quantity>0):Array.isArray(x)||(y.cargo_details.pallets=[])}i(x=>Mo(x,y)?x:y)}else m&&i(y=>Mo(y,m)?y:m);c({})},[r,e]);const d=w.useCallback(m=>{const{name:y,value:x,type:v,checked:g}=m.target,b=v==="checkbox"?g:x;i(_=>{const j={..._,[y]:b};return Mo(_,j)?_:j}),a[y]&&c(_=>({..._,[y]:null}))},[a]),p=w.useCallback((m,y)=>{const{name:x,value:v}=y.target;i(g=>{const b={...g,[m]:{...g[m]??{},[x]:v}};return Mo(g,b)?g:b})},[]),h=w.useCallback(async m=>{m.preventDefault();const y=t?t(o):{};if(c(y),!Object.values(y).some(v=>typeof v=="object"&&v!==null?Object.keys(v).length>0:!!v)){f(!0);try{await n(o)}catch(v){console.error(" Form submission error:",v)}finally{f(!1)}}},[o,n,t]);return{formData:o,setFormData:i,errors:a,loading:u,handleChange:d,handleNestedChange:p,handleSubmit:h}},$f={run_date:new Date().toISOString().split("T")[0],type:"delivery",driver_id:"",truck_id:"",trailer_id:""},Dg=({onSuccess:e,onCancel:t,itemToEdit:n,drivers:r=[],trucks:s=[],trailers:o=[]})=>{const i=!!n,{showToast:a}=ve(),c=y=>{const x={};return y.run_date||(x.run_date="Run date is required."),y.driver_id||(x.driver_id="Driver is required."),y.truck_id||(x.truck_id="Truck is required."),x},u=async y=>{try{await e(y)}catch(x){throw a(x.message||`Failed to ${i?"update":"create"} run.`,"error"),x}},{formData:f,errors:d,loading:p,handleChange:h,handleSubmit:m}=Fn({initialState:$f,validate:c,onSubmit:u,itemToEdit:w.useMemo(()=>n?{...n,run_date:n.run_date?new Date(n.run_date).toISOString().split("T")[0]:$f.run_date,driver_id:n.driver_id||"",truck_id:n.truck_id||"",trailer_id:n.trailer_id||""}:null,[n])});return l.jsxs("div",{className:"card",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1010,width:"400px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:i?"Edit Run":"Add New Run"}),l.jsx("button",{type:"button",onClick:t,className:"btn-icon","aria-label":"Close add run form",children:l.jsx(wt,{size:20})})]}),l.jsxs("form",{onSubmit:m,className:"form",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Run Date"}),l.jsx("input",{type:"date",name:"run_date",value:f.run_date,onChange:h,required:!0,className:d.run_date?"input-error":""}),d.run_date&&l.jsx("span",{className:"error-text",children:d.run_date})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Driver"}),l.jsxs("select",{name:"driver_id",value:f.driver_id,onChange:h,required:!0,className:d.driver_id?"input-error":"",children:[l.jsx("option",{value:"",children:"Select a driver..."}),r.map(y=>l.jsxs("option",{value:y.id,children:[y.first_name," ",y.last_name]},y.id))]}),d.driver_id&&l.jsx("span",{className:"error-text",children:d.driver_id})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Truck"}),l.jsxs("select",{name:"truck_id",value:f.truck_id,onChange:h,required:!0,className:d.truck_id?"input-error":"",children:[l.jsx("option",{value:"",children:"Select a truck..."}),s.map(y=>l.jsx("option",{value:y.id,children:y.registration_plate},y.id))]}),d.truck_id&&l.jsx("span",{className:"error-text",children:d.truck_id})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Trailer (optional)"}),l.jsxs("select",{name:"trailer_id",value:f.trailer_id,onChange:h,children:[l.jsx("option",{value:"",children:"Select a trailer..."}),o.map(y=>l.jsx("option",{value:y.id,children:y.registration_plate},y.id))]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:p,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:p,children:p?"Saving...":i?"Save Changes":"Add Run"})]})]})]})};var Ag={exports:{}},y1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",v1=y1,x1=v1;function Pg(){}function Ig(){}Ig.resetWarningCache=Pg;var w1=function(){function e(r,s,o,i,a,c){if(c!==x1){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ig,resetWarningCache:Pg};return n.PropTypes=n,n};Ag.exports=w1();var b1=Ag.exports;const Pe=$i(b1),_1=({columns:e=[],hasActions:t,rows:n=1})=>{const r=Array.isArray(e)?e:[];return l.jsx(l.Fragment,{children:Array.from({length:n}).map((s,o)=>l.jsxs("tr",{"aria-busy":"true","aria-label":"Loading data",children:[r.map(i=>l.jsx("td",{children:l.jsx("div",{className:"skeleton-cell shimmer"})},`${i.key}-${o}`)),t&&l.jsx("td",{className:"actions-cell",children:l.jsx("div",{className:"skeleton-cell shimmer"})})]},o))})},Zl=(e,t)=>{if(!(!t||!e))try{return t.split(".").reduce((n,r)=>n?n[r]:void 0,e)}catch{return}},ea=(e=[],{initialSortKey:t=null,filterKeys:n=[],debug:r=!1}={})=>{const[s,o]=w.useState({key:t,direction:"ascending"}),[i,a]=w.useState(""),c=(...p)=>{r&&console.log(" useTableData:",...p)},u=w.useMemo(()=>{const p=Array.isArray(e)?[...e]:[],{key:h,direction:m}=s;if(!h)return p;const y=m==="ascending",x=p.sort((v,g)=>{const b=Zl(v,h),_=Zl(g,h),j=typeof b=="string"?b.toLowerCase():b??"",N=typeof _=="string"?_.toLowerCase():_??"";return j<N?y?-1:1:j>N?y?1:-1:0});return c("Sorted",{key:h,direction:m,count:x.length}),x},[e,s]),f=w.useCallback(p=>{o(h=>({key:p,direction:h.key===p&&h.direction==="ascending"?"descending":"ascending"}))},[]),d=w.useMemo(()=>{if(!Array.isArray(u))return[];if(!i)return u;const p=i.toLowerCase(),h=u.filter(m=>Array.isArray(n)&&n.some(y=>{const x=Zl(m,y);return x&&String(x).toLowerCase().includes(p)}));return c("Filtered",{filterText:i,resultCount:h.length}),h},[u,i,n]);return{sortedAndFilteredData:Array.isArray(d)?d:[],sortConfig:s||{key:null,direction:"ascending"},filterText:typeof i=="string"?i:"",setFilterText:typeof a=="function"?a:()=>{},handleSort:typeof f=="function"?f:()=>{}}},S1=(e,t)=>{if(!(!e||!t||typeof e!="object"))try{return t.split(".").reduce((n,r)=>n&&n[r],e)}catch(n){console.warn("Error accessing nested value:",{path:t,obj:e,error:n});return}},Yt=({items:e=[],columns:t=[],onRefresh:n,onEdit:r,onDelete:s,title:o="",customActions:i=[],filterPlaceholder:a="Search...",initialSortKey:c,filterKeys:u=[],currentUser:f,isLoading:d=!1,loadingText:p="Loading...",onContextMenu:h,footerData:m={},autoRefreshEnabled:y=!1})=>{if(!Array.isArray(t))return console.error("DataTable: columns must be an array"),null;const x=Array.isArray(e)?e:[],v=Array.isArray(t)?t:[],{sortedAndFilteredData:g=[],sortConfig:b={},filterText:_="",setFilterText:j=()=>{},handleSort:N=()=>{}}=(ea==null?void 0:ea(x,{initialSortKey:c,filterKeys:u}))||{},D=Array.isArray(g)?g:[];console.log(" DataTable debug:",{itemsType:typeof e,itemsIsArray:Array.isArray(e),safeSortedDataLength:D.length,columnsLength:Array.isArray(t)?t.length:" not array"});const[S,C]=w.useState(_);w.useEffect(()=>{const k=setTimeout(()=>{j(S)},300);return()=>clearTimeout(k)},[S,j]),w.useEffect(()=>{if(!y||!n)return;const k=setInterval(()=>{console.log(" Auto refresh triggered"),n()},3e4);return()=>clearInterval(k)},[y,n]);const E=k=>b.key===k?b.direction==="ascending"?l.jsx(Sg,{size:14}):l.jsx(_g,{size:14}):null;return l.jsxs("div",{style:{display:"flex",flexDirection:"column",flexGrow:1},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("h2",{children:[o," (",(D==null?void 0:D.length)??0,")"]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx("input",{type:"text",placeholder:a,value:S,onChange:k=>C(k.target.value),className:"filter-input"}),n&&l.jsx("button",{onClick:n,className:"btn-icon",title:"Refresh now",disabled:d,children:l.jsx(Q_,{size:18,className:d?"animate-spin":""})})]})]}),l.jsxs("div",{className:"table-wrapper",children:[l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[v.map(k=>l.jsx("th",{onClick:k.sortable?()=>N(k.key):void 0,"aria-sort":b.key===k.key?b.direction==="ascending"?"ascending":"descending":"none",children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[k.icon,l.jsx("span",{children:k.header}),k.sortable&&E(k.key)]})},k.key)),(r||s||Array.isArray(i)&&i.length>0)&&l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:d?Array.from({length:10}).map((k,R)=>l.jsx(_1,{columns:v,hasActions:r||s||Array.isArray(i)&&i.length>0},R)):(D==null?void 0:D.length)>0?D.map(k=>l.jsxs("tr",{onContextMenu:h?R=>h(R,k):void 0,style:h?{cursor:"context-menu"}:{},children:[v.map(R=>l.jsx("td",{children:R.render?R.render(k):S1(k,R.key)},`${k.id}-${R==null?void 0:R.key}`)),(r||s||Array.isArray(i)&&i.length>0)&&l.jsxs("td",{className:"actions-cell",children:[f&&f.id===k.id?l.jsx("span",{className:"text-muted","aria-label":"Current user",children:"This is you"}):l.jsxs(l.Fragment,{children:[r&&l.jsx("button",{onClick:()=>r(k),className:"btn-icon",title:"Edit",children:l.jsx(mo,{size:16})}),s&&l.jsx("button",{onClick:()=>s(k),className:"btn-icon btn-danger",title:"Delete",children:l.jsx(Gr,{size:16})})]}),i.map((R,I)=>l.jsx("button",{onClick:()=>R.onClick(k),className:"btn-icon",title:R.title,children:R.icon},I))]})]},k.id)):null}),m&&l.jsx("tfoot",{children:l.jsxs("tr",{children:[v.map(k=>l.jsx("td",{children:m!=null&&m[k.key]?l.jsx("strong",{children:m[k.key]}):null},`footer-${k.key}`)),(r||s||Array.isArray(i)&&i.length>0)&&l.jsx("td",{})]})})]}),!d&&D.length===0&&l.jsx("p",{className:"no-results-message","aria-live":"polite",children:_?"No results match the search criteria.":"No data in the database."})]})]})};Yt.propTypes={items:Pe.array,columns:Pe.arrayOf(Pe.shape({key:Pe.string.isRequired,header:Pe.string.isRequired,sortable:Pe.bool,render:Pe.func,icon:Pe.node})),onEdit:Pe.func,onDelete:Pe.func,onRefresh:Pe.func,title:Pe.string,customActions:Pe.array,filterPlaceholder:Pe.string,initialSortKey:Pe.string,filterKeys:Pe.array,currentUser:Pe.object,onContextMenu:Pe.func,footerData:Pe.object,autoRefreshEnabled:Pe.bool};const C1=({runs:e=[],trucks:t=[],trailers:n=[],drivers:r=[],onDataRefresh:s,runActions:o})=>{const[i,a]=w.useState(!1),[c,u]=w.useState(null),{showToast:f}=ve(),d=Array.isArray(e)?e:[],p=Array.isArray(t)?t:[],h=Array.isArray(n)?n:[],m=Array.isArray(r)?r:[],y=w.useCallback(()=>{u(null),a(!0)},[]),x=w.useCallback(C=>{u(C),a(!0)},[]),v=w.useCallback(()=>{a(!1),u(null)},[]),g=w.useCallback(async C=>{var E,k;try{c?await o.update(c.id,C):await o.create(C),f("Run saved successfully!","success")}catch(R){f(((k=(E=R.response)==null?void 0:E.data)==null?void 0:k.error)||"Failed to save run.","error")}v()},[s,v]),b=w.useMemo(()=>new Map(m.map(C=>[C.id,`${C.first_name} ${C.last_name}`])),[m]),_=w.useMemo(()=>new Map(p.map(C=>[C.id,C.registration_plate])),[p]),j=w.useMemo(()=>new Map(h.map(C=>[C.id,C.registration_plate])),[h]),N=w.useMemo(()=>d.map(C=>({...C,driverName:b.get(C.driver_id)||"N/A",truckPlate:_.get(C.truck_id)||"N/A",trailerPlate:C.trailer_id?j.get(C.trailer_id):"N/A"})),[d,b,_,j]),D=[{key:"run_date",header:"Date",sortable:!0,render:C=>new Date(C.run_date).toLocaleDateString()},{key:"driverName",header:"Driver",sortable:!0},{key:"truckPlate",header:"Truck",sortable:!0},{key:"trailerPlate",header:"Trailer",sortable:!0},{key:"type",header:"Type",sortable:!0,render:C=>l.jsx("span",{style:{textTransform:"capitalize"},children:C.type})}],S=w.useCallback(async C=>{var I,B;const E=N.find(W=>W.id===C.id),k=(E==null?void 0:E.driverName)||"N/A",R=new Date(C.run_date).toLocaleDateString();if(window.confirm(`Are you sure you want to delete run for ${k} on ${R}?`))try{await o.delete(C.id),f("Run deleted successfully.","success")}catch(W){f(((B=(I=W.response)==null?void 0:I.data)==null?void 0:B.error)||"Failed to delete run.","error")}},[o,f,N]);return l.jsxs("div",{className:"card",children:[i&&l.jsx("div",{className:"modal-overlay",children:l.jsx(Dg,{onSuccess:g,onCancel:v,itemToEdit:c,drivers:m,trucks:p,trailers:h})}),l.jsxs("div",{className:"card-header",children:[l.jsx("h3",{children:"Run Management"}),l.jsxs("button",{onClick:y,className:"btn-primary",children:[l.jsx(rr,{size:16})," Add New Run"]})]}),l.jsx(Yt,{items:N,columns:D,onEdit:x,onDelete:S,filterPlaceholder:"Filter runs...",filterKeys:["run_date","driverName","truckPlate","trailerPlate","type"],initialSortKey:"run_date",initialSortOrder:"desc"})]})};function Ze(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var k1=typeof Symbol=="function"&&Symbol.observable||"@@observable",Uf=k1,Wf=()=>Math.random().toString(36).substring(7).split("").join("."),E1={INIT:`@@redux/INIT${Wf()}`,REPLACE:`@@redux/REPLACE${Wf()}`},Vf=E1;function j1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Og(e,t,n){if(typeof e!="function")throw new Error(Ze(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ze(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ze(1));return n(Og)(e,t)}let r=e,s=t,o=new Map,i=o,a=0,c=!1;function u(){i===o&&(i=new Map,o.forEach((x,v)=>{i.set(v,x)}))}function f(){if(c)throw new Error(Ze(3));return s}function d(x){if(typeof x!="function")throw new Error(Ze(4));if(c)throw new Error(Ze(5));let v=!0;u();const g=a++;return i.set(g,x),function(){if(v){if(c)throw new Error(Ze(6));v=!1,u(),i.delete(g),o=null}}}function p(x){if(!j1(x))throw new Error(Ze(7));if(typeof x.type>"u")throw new Error(Ze(8));if(typeof x.type!="string")throw new Error(Ze(17));if(c)throw new Error(Ze(9));try{c=!0,s=r(s,x)}finally{c=!1}return(o=i).forEach(g=>{g()}),x}function h(x){if(typeof x!="function")throw new Error(Ze(10));r=x,p({type:Vf.REPLACE})}function m(){const x=d;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Ze(11));function g(){const _=v;_.next&&_.next(f())}return g(),{unsubscribe:x(g)}},[Uf](){return this}}}return p({type:Vf.INIT}),{dispatch:p,subscribe:d,getState:f,replaceReducer:h,[Uf]:m}}function Hf(e,t){return function(...n){return t(e.apply(this,n))}}function Gf(e,t){if(typeof e=="function")return Hf(e,t);if(typeof e!="object"||e===null)throw new Error(Ze(16));const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=Hf(s,t))}return n}function Tg(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function N1(...e){return t=>(n,r)=>{const s=t(n,r);let o=()=>{throw new Error(Ze(15))};const i={getState:s.getState,dispatch:(c,...u)=>o(c,...u)},a=e.map(c=>c(i));return o=Tg(...a)(s.dispatch),{...s,dispatch:o}}}var R1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var go=w;function D1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var A1=typeof Object.is=="function"?Object.is:D1,P1=go.useSyncExternalStore,I1=go.useRef,O1=go.useEffect,T1=go.useMemo,L1=go.useDebugValue;R1.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var o=I1(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=T1(function(){function c(h){if(!u){if(u=!0,f=h,h=r(h),s!==void 0&&i.hasValue){var m=i.value;if(s(m,h))return d=m}return d=h}if(m=d,A1(f,h))return m;var y=r(h);return s!==void 0&&s(m,y)?(f=h,m):(f=h,d=y)}var u=!1,f,d,p=n===void 0?null:n;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,n,r,s]);var a=P1(e,o[0],o[1]);return O1(function(){i.hasValue=!0,i.value=a},[a]),L1(a),a};var F1=w.version.startsWith("19"),M1=Symbol.for(F1?"react.transitional.element":"react.element"),B1=Symbol.for("react.portal"),z1=Symbol.for("react.fragment"),$1=Symbol.for("react.strict_mode"),U1=Symbol.for("react.profiler"),W1=Symbol.for("react.consumer"),V1=Symbol.for("react.context"),Lg=Symbol.for("react.forward_ref"),H1=Symbol.for("react.suspense"),G1=Symbol.for("react.suspense_list"),Ru=Symbol.for("react.memo"),q1=Symbol.for("react.lazy"),K1=Lg,Q1=Ru;function Y1(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case M1:switch(e=e.type,e){case z1:case U1:case $1:case H1:case G1:return e;default:switch(e=e&&e.$$typeof,e){case V1:case Lg:case q1:case Ru:return e;case W1:return e;default:return t}}case B1:return t}}}function J1(e){return Y1(e)===Ru}function X1(e,t,n,r,{areStatesEqual:s,areOwnPropsEqual:o,areStatePropsEqual:i}){let a=!1,c,u,f,d,p;function h(g,b){return c=g,u=b,f=e(c,u),d=t(r,u),p=n(f,d,u),a=!0,p}function m(){return f=e(c,u),t.dependsOnOwnProps&&(d=t(r,u)),p=n(f,d,u),p}function y(){return e.dependsOnOwnProps&&(f=e(c,u)),t.dependsOnOwnProps&&(d=t(r,u)),p=n(f,d,u),p}function x(){const g=e(c,u),b=!i(g,f);return f=g,b&&(p=n(f,d,u)),p}function v(g,b){const _=!o(b,u),j=!s(g,c,b,u);return c=g,u=b,_&&j?m():_?y():j?x():p}return function(b,_){return a?v(b,_):h(b,_)}}function Z1(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...s}){const o=t(e,s),i=n(e,s),a=r(e,s);return X1(o,i,a,e,s)}function eS(e,t){const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=(...o)=>t(s(...o)))}return n}function mc(e){return function(n){const r=e(n);function s(){return r}return s.dependsOnOwnProps=!1,s}}function qf(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function Fg(e,t){return function(r,{displayName:s}){const o=function(a,c){return o.dependsOnOwnProps?o.mapToProps(a,c):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,c){o.mapToProps=e,o.dependsOnOwnProps=qf(e);let u=o(a,c);return typeof u=="function"&&(o.mapToProps=u,o.dependsOnOwnProps=qf(u),u=o(a,c)),u},o}}function Du(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function tS(e){return e&&typeof e=="object"?mc(t=>eS(e,t)):e?typeof e=="function"?Fg(e):Du(e,"mapDispatchToProps"):mc(t=>({dispatch:t}))}function nS(e){return e?typeof e=="function"?Fg(e):Du(e,"mapStateToProps"):mc(()=>({}))}function rS(e,t,n){return{...n,...e,...t}}function sS(e){return function(n,{displayName:r,areMergedPropsEqual:s}){let o=!1,i;return function(c,u,f){const d=e(c,u,f);return o?s(d,i)||(i=d):(o=!0,i=d),i}}}function oS(e){return e?typeof e=="function"?sS(e):Du(e,"mergeProps"):()=>rS}function iS(e){e()}function lS(){let e=null,t=null;return{clear(){e=null,t=null},notify(){iS(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var Kf={notify(){},get:()=>[]};function Mg(e,t){let n,r=Kf,s=0,o=!1;function i(y){f();const x=r.subscribe(y);let v=!1;return()=>{v||(v=!0,x(),d())}}function a(){r.notify()}function c(){m.onStateChange&&m.onStateChange()}function u(){return o}function f(){s++,n||(n=t?t.addNestedSub(c):e.subscribe(c),r=lS())}function d(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=Kf)}function p(){o||(o=!0,f())}function h(){o&&(o=!1,d())}const m={addNestedSub:i,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:u,trySubscribe:p,tryUnsubscribe:h,getListeners:()=>r};return m}var aS=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cS=aS(),uS=()=>typeof navigator<"u"&&navigator.product==="ReactNative",dS=uS(),fS=()=>cS||dS?w.useLayoutEffect:w.useEffect,Ai=fS();function Qf(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function ta(e,t){if(Qf(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(t,n[s])||!Qf(e[n[s]],t[n[s]]))return!1;return!0}var pS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},hS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},mS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Bg={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},gS={[K1]:mS,[Q1]:Bg};function Yf(e){return J1(e)?Bg:gS[e.$$typeof]||pS}var yS=Object.defineProperty,vS=Object.getOwnPropertyNames,Jf=Object.getOwnPropertySymbols,xS=Object.getOwnPropertyDescriptor,wS=Object.getPrototypeOf,Xf=Object.prototype;function gc(e,t){if(typeof t!="string"){if(Xf){const o=wS(t);o&&o!==Xf&&gc(e,o)}let n=vS(t);Jf&&(n=n.concat(Jf(t)));const r=Yf(e),s=Yf(t);for(let o=0;o<n.length;++o){const i=n[o];if(!hS[i]&&!(s&&s[i])&&!(r&&r[i])){const a=xS(t,i);try{yS(e,i,a)}catch{}}}}return e}var na=Symbol.for("react-redux-context"),ra=typeof globalThis<"u"?globalThis:{};function bS(){if(!w.createContext)return{};const e=ra[na]??(ra[na]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var zg=bS(),_S=[null,null];function SS(e,t,n){Ai(()=>e(...t),n)}function CS(e,t,n,r,s,o){e.current=r,n.current=!1,s.current&&(s.current=null,o())}function kS(e,t,n,r,s,o,i,a,c,u,f){if(!e)return()=>{};let d=!1,p=null;const h=()=>{if(d||!a.current)return;const y=t.getState();let x,v;try{x=r(y,s.current)}catch(g){v=g,p=g}v||(p=null),x===o.current?i.current||u():(o.current=x,c.current=x,i.current=!0,f())};return n.onStateChange=h,n.trySubscribe(),h(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,p)throw p}}function ES(e,t){return e===t}function jS(e,t,n,{pure:r,areStatesEqual:s=ES,areOwnPropsEqual:o=ta,areStatePropsEqual:i=ta,areMergedPropsEqual:a=ta,forwardRef:c=!1,context:u=zg}={}){const f=u,d=nS(e),p=tS(t),h=oS(n),m=!!e;return x=>{const v=x.displayName||x.name||"Component",g=`Connect(${v})`,b={shouldHandleStateChanges:m,displayName:g,wrappedComponentName:v,WrappedComponent:x,initMapStateToProps:d,initMapDispatchToProps:p,initMergeProps:h,areStatesEqual:s,areStatePropsEqual:i,areOwnPropsEqual:o,areMergedPropsEqual:a};function _(D){const[S,C,E]=w.useMemo(()=>{const{reactReduxForwardedRef:ee,...ge}=D;return[D.context,ee,ge]},[D]),k=w.useMemo(()=>{let ee=f;return S!=null&&S.Consumer,ee},[S,f]),R=w.useContext(k),I=!!D.store&&!!D.store.getState&&!!D.store.dispatch,B=!!R&&!!R.store,W=I?D.store:R.store,U=B?R.getServerState:W.getState,V=w.useMemo(()=>Z1(W.dispatch,b),[W]),[A,O]=w.useMemo(()=>{if(!m)return _S;const ee=Mg(W,I?void 0:R.subscription),ge=ee.notifyNestedSubs.bind(ee);return[ee,ge]},[W,I,R]),L=w.useMemo(()=>I?R:{...R,subscription:A},[I,R,A]),T=w.useRef(void 0),F=w.useRef(E),H=w.useRef(void 0),re=w.useRef(!1),ae=w.useRef(!1),de=w.useRef(void 0);Ai(()=>(ae.current=!0,()=>{ae.current=!1}),[]);const we=w.useMemo(()=>()=>H.current&&E===F.current?H.current:V(W.getState(),E),[W,E]),J=w.useMemo(()=>ge=>A?kS(m,W,A,V,F,T,re,ae,H,O,ge):()=>{},[A]);SS(CS,[F,T,re,E,H,O]);let ne;try{ne=w.useSyncExternalStore(J,we,U?()=>V(U(),E):we)}catch(ee){throw de.current&&(ee.message+=`
The error may be correlated with this previous error:
${de.current.stack}

`),ee}Ai(()=>{de.current=void 0,H.current=void 0,T.current=ne});const he=w.useMemo(()=>w.createElement(x,{...ne,ref:C}),[C,x,ne]);return w.useMemo(()=>m?w.createElement(k.Provider,{value:L},he):he,[k,he,L])}const N=w.memo(_);if(N.WrappedComponent=x,N.displayName=_.displayName=g,c){const S=w.forwardRef(function(E,k){return w.createElement(N,{...E,reactReduxForwardedRef:k})});return S.displayName=g,S.WrappedComponent=x,gc(S,x)}return gc(N,x)}}var $g=jS;function NS(e){const{children:t,context:n,serverState:r,store:s}=e,o=w.useMemo(()=>{const c=Mg(s);return{store:s,subscription:c,getServerState:r?()=>r:void 0}},[s,r]),i=w.useMemo(()=>s.getState(),[s]);Ai(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,i]);const a=n||zg;return w.createElement(a.Provider,{value:o},t)}var RS=NS,DS="Invariant failed";function AS(e,t){throw new Error(DS)}var Bt=function(t){var n=t.top,r=t.right,s=t.bottom,o=t.left,i=r-o,a=s-n,c={top:n,right:r,bottom:s,left:o,width:i,height:a,x:o,y:n,center:{x:(r+o)/2,y:(s+n)/2}};return c},Au=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},Zf=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},PS=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},sa={top:0,right:0,bottom:0,left:0},Pu=function(t){var n=t.borderBox,r=t.margin,s=r===void 0?sa:r,o=t.border,i=o===void 0?sa:o,a=t.padding,c=a===void 0?sa:a,u=Bt(Au(n,s)),f=Bt(Zf(n,i)),d=Bt(Zf(f,c));return{marginBox:u,borderBox:Bt(n),paddingBox:f,contentBox:d,margin:s,border:i,padding:c}},Ct=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var s=Number(n);return isNaN(s)&&AS(),s},IS=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Pi=function(t,n){var r=t.borderBox,s=t.border,o=t.margin,i=t.padding,a=PS(r,n);return Pu({borderBox:a,border:s,margin:o,padding:i})},Ii=function(t,n){return n===void 0&&(n=IS()),Pi(t,n)},Ug=function(t,n){var r={top:Ct(n.marginTop),right:Ct(n.marginRight),bottom:Ct(n.marginBottom),left:Ct(n.marginLeft)},s={top:Ct(n.paddingTop),right:Ct(n.paddingRight),bottom:Ct(n.paddingBottom),left:Ct(n.paddingLeft)},o={top:Ct(n.borderTopWidth),right:Ct(n.borderRightWidth),bottom:Ct(n.borderBottomWidth),left:Ct(n.borderLeftWidth)};return Pu({borderBox:t,margin:r,padding:s,border:o})},Wg=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return Ug(n,r)},Ks=function(t){var n=[],r=null,s=function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];n=a,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return s.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},s};function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oi.apply(null,arguments)}function Vg(e,t){}Vg.bind(null,"warn");Vg.bind(null,"error");function Nn(){}function OS(e,t){return{...e,...t}}function Nt(e,t,n){const r=t.map(s=>{const o=OS(n,s.options);return e.addEventListener(s.eventName,s.fn,o),function(){e.removeEventListener(s.eventName,s.fn,o)}});return function(){r.forEach(o=>{o()})}}const TS="Invariant failed";class Ti extends Error{}Ti.prototype.toString=function(){return this.message};function $(e,t){throw new Ti(TS)}class LS extends le.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Nn,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Ti&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Nt(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Ti){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const FS=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Li=e=>e+1,MS=e=>`
  You have lifted an item in position ${Li(e.source.index)}
`,Hg=(e,t)=>{const n=e.droppableId===t.droppableId,r=Li(e.index),s=Li(t.index);return n?`
      You have moved the item from position ${r}
      to position ${s}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${s}
  `},Gg=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,BS=e=>{const t=e.destination;if(t)return Hg(e.source,t);const n=e.combine;return n?Gg(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},ep=e=>`
  The item has returned to its starting position
  of ${Li(e.index)}
`,zS=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${ep(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${Hg(e.source,t)}
    `:n?`
      You have dropped the item.
      ${Gg(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${ep(e.source)}
  `},si={dragHandleUsageInstructions:FS,onDragStart:MS,onDragUpdate:BS,onDragEnd:zS};function $S(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function qg(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!$S(e[n],t[n]))return!1;return!0}function ce(e,t){const n=w.useState(()=>({inputs:t,result:e()}))[0],r=w.useRef(!0),s=w.useRef(n),i=r.current||!!(t&&s.current.inputs&&qg(t,s.current.inputs))?s.current:{inputs:t,result:e()};return w.useEffect(()=>{r.current=!1,s.current=i},[i]),i.result}function q(e,t){return ce(()=>e,t)}const $e={x:0,y:0},We=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),mt=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Rn=(e,t)=>e.x===t.x&&e.y===t.y,Kr=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),sr=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Qs=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),tp=(e,t)=>Math.min(...t.map(n=>Qs(e,n))),Kg=e=>t=>({x:e(t.x),y:e(t.y)});var US=(e,t)=>{const n=Bt({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const yo=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),np=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],WS={top:0,right:0,bottom:0,left:0},VS=(e,t)=>t?yo(e,t.scroll.diff.displacement):e,HS=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,GS=(e,t)=>t&&t.shouldClipSubject?US(t.pageMarginBox,e):Bt(e);var Lr=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const s=VS(e.marginBox,r),o=HS(s,n,t),i=GS(o,r);return{page:e,withPlaceholder:t,active:i}},Iu=(e,t)=>{e.frame||$();const n=e.frame,r=mt(t,n.scroll.initial),s=Kr(r),o={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:s},max:n.scroll.max}},i=Lr({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:i}};function ze(e,t=qg){let n=null;function r(...s){if(n&&n.lastThis===this&&t(s,n.lastArgs))return n.lastResult;const o=e.apply(this,s);return n={lastResult:o,lastArgs:s,lastThis:this},o}return r.clear=function(){n=null},r}const Qg=ze(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),Yg=ze(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),fl=ze(e=>Object.values(e)),qS=ze(e=>Object.values(e));var Qr=ze((e,t)=>qS(t).filter(r=>e===r.descriptor.droppableId).sort((r,s)=>r.descriptor.index-s.descriptor.index));function Ou(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function pl(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var hl=ze((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),KS=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:s})=>{if(!n.isCombineEnabled||!Ou(s))return null;function i(h){const m={type:"COMBINE",combine:{draggableId:h,droppableId:n.descriptor.id}};return{...s,at:m}}const a=s.displaced.all,c=a.length?a[0]:null;if(e)return c?i(c):null;const u=hl(t,r);if(!c){if(!u.length)return null;const h=u[u.length-1];return i(h.descriptor.id)}const f=u.findIndex(h=>h.descriptor.id===c);f===-1&&$();const d=f-1;if(d<0)return null;const p=u[d];return i(p.descriptor.id)},Yr=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const Jg={point:$e,value:0},Ys={invisible:{},visible:{},all:[]},QS={displaced:Ys,displacedBy:Jg,at:null};var Dt=(e,t)=>n=>e<=n&&n<=t,Xg=e=>{const t=Dt(e.top,e.bottom),n=Dt(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const o=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(o&&i)return!0;const c=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right;return c&&u?!0:c&&i||u&&o}},YS=e=>{const t=Dt(e.top,e.bottom),n=Dt(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const Tu={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Zg={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var JS=e=>t=>{const n=Dt(t.top,t.bottom),r=Dt(t.left,t.right);return s=>e===Tu?n(s.top)&&n(s.bottom):r(s.left)&&r(s.right)};const XS=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:$e;return yo(e,n)},ZS=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,eC=(e,t,n)=>n(t)(e),Lu=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:s})=>{const o=r?XS(e,t):e;return ZS(o,t,s)&&eC(o,n,s)},tC=e=>Lu({...e,isVisibleThroughFrameFn:Xg}),ey=e=>Lu({...e,isVisibleThroughFrameFn:YS}),nC=e=>Lu({...e,isVisibleThroughFrameFn:JS(e.destination.axis)}),rC=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:s}=t;if(r[e])return!1;const o=s[e];return o?o.shouldAnimate:!0};function sC(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Bt(Au(n,r))}function Js({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:s,last:o}){return e.reduce(function(a,c){const u=sC(c,n),f=c.descriptor.id;if(a.all.push(f),!tC({target:u,destination:t,viewport:r,withDroppableDisplacement:!0}))return a.invisible[c.descriptor.id]=!0,a;const p=rC(f,o,s),h={draggableId:f,shouldAnimate:p};return a.visible[f]=h,a},{all:[],visible:{},invisible:{}})}function oC(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function rp({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const s=oC(e,{inHomeList:t});return{displaced:Ys,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Fi({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:s,last:o,index:i,forceShouldAnimate:a}){const c=Yr(e,n);if(i==null)return rp({insideDestination:t,inHomeList:c,displacedBy:s,destination:n});const u=t.find(m=>m.descriptor.index===i);if(!u)return rp({insideDestination:t,inHomeList:c,displacedBy:s,destination:n});const f=hl(e,t),d=t.indexOf(u),p=f.slice(d);return{displaced:Js({afterDragging:p,destination:n,displacedBy:s,last:o,viewport:r.frame,forceShouldAnimate:a}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:i}}}}function Pn(e,t){return!!t.effected[e]}var iC=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:s})=>{if(!t.isCombineEnabled)return null;const o=r.draggableId,a=n[o].descriptor.index;return Pn(o,s)?e?a:a-1:e?a+1:a},lC=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const s=r.index,o=e?s+1:s-1,i=n[0].descriptor.index,a=n[n.length-1].descriptor.index,c=t?a:a+1;return o<i||o>c?null:o},aC=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:s,insideDestination:o,previousImpact:i,viewport:a,afterCritical:c})=>{const u=i.at;if(u||$(),u.type==="REORDER"){const d=lC({isMovingForward:e,isInHomeList:t,location:u.destination,insideDestination:o});return d==null?null:Fi({draggable:n,insideDestination:o,destination:s,viewport:a,last:i.displaced,displacedBy:i.displacedBy,index:d})}const f=iC({isMovingForward:e,destination:s,displaced:i.displaced,draggables:r,combine:u.combine,afterCritical:c});return f==null?null:Fi({draggable:n,insideDestination:o,destination:s,viewport:a,last:i.displaced,displacedBy:i.displacedBy,index:f})},cC=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const s=!!(e.visible[n]||e.invisible[n]);return Pn(n,t)?s?$e:Kr(r.point):s?r.point:$e},uC=({afterCritical:e,impact:t,draggables:n})=>{const r=pl(t);r||$();const s=r.draggableId,o=n[s].page.borderBox.center,i=cC({displaced:t.displaced,afterCritical:e,combineWith:s,displacedBy:t.displacedBy});return We(o,i)};const ty=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,dC=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,Fu=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,sp=({axis:e,moveRelativeTo:t,isMoving:n})=>sr(e.line,t.marginBox[e.end]+ty(e,n),Fu(e,t.marginBox,n)),op=({axis:e,moveRelativeTo:t,isMoving:n})=>sr(e.line,t.marginBox[e.start]-dC(e,n),Fu(e,t.marginBox,n)),fC=({axis:e,moveInto:t,isMoving:n})=>sr(e.line,t.contentBox[e.start]+ty(e,n),Fu(e,t.contentBox,n));var pC=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:s})=>{const o=Qr(r.descriptor.id,n),i=t.page,a=r.axis;if(!o.length)return fC({axis:a,moveInto:r.page,isMoving:i});const{displaced:c,displacedBy:u}=e,f=c.all[0];if(f){const p=n[f];if(Pn(f,s))return op({axis:a,moveRelativeTo:p.page,isMoving:i});const h=Pi(p.page,u.point);return op({axis:a,moveRelativeTo:h,isMoving:i})}const d=o[o.length-1];if(d.descriptor.id===t.descriptor.id)return i.borderBox.center;if(Pn(d.descriptor.id,s)){const p=Pi(d.page,Kr(s.displacedBy.point));return sp({axis:a,moveRelativeTo:p,isMoving:i})}return sp({axis:a,moveRelativeTo:d.page,isMoving:i})},yc=(e,t)=>{const n=e.frame;return n?We(t,n.scroll.diff.displacement):t};const hC=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:s})=>{const o=t.page.borderBox.center,i=e.at;return!n||!i?o:i.type==="REORDER"?pC({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s}):uC({impact:e,draggables:r,afterCritical:s})};var ml=e=>{const t=hC(e),n=e.droppable;return n?yc(n,t):t},ny=(e,t)=>{const n=mt(t,e.scroll.initial),r=Kr(n);return{frame:Bt({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function ip(e,t){return e.map(n=>t[n])}function mC(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var gC=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:s})=>{const o=ny(t,We(t.scroll.current,s)),i=n.frame?Iu(n,We(n.frame.scroll.current,s)):n,a=e.displaced,c=Js({afterDragging:ip(a.all,r),destination:n,displacedBy:e.displacedBy,viewport:o.frame,last:a,forceShouldAnimate:!1}),u=Js({afterDragging:ip(a.all,r),destination:i,displacedBy:e.displacedBy,viewport:t.frame,last:a,forceShouldAnimate:!1}),f={},d={},p=[a,c,u];return a.all.forEach(m=>{const y=mC(m,p);if(y){d[m]=y;return}f[m]=!0}),{...e,displaced:{all:a.all,invisible:f,visible:d}}},yC=(e,t)=>We(e.scroll.diff.displacement,t),Mu=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=yC(n,e),s=mt(r,t.page.borderBox.center);return We(t.client.borderBox.center,s)},ry=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:s,onlyOnMainAxis:o=!1})=>{const i=mt(n,e.page.borderBox.center),c={target:yo(e.page.borderBox,i),destination:t,withDroppableDisplacement:s,viewport:r};return o?nC(c):ey(c)},vC=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:s,viewport:o,previousPageBorderBoxCenter:i,previousClientSelection:a,afterCritical:c})=>{if(!n.isEnabled)return null;const u=Qr(n.descriptor.id,r),f=Yr(t,n),d=KS({isMovingForward:e,draggable:t,destination:n,insideDestination:u,previousImpact:s})||aC({isMovingForward:e,isInHomeList:f,draggable:t,draggables:r,destination:n,insideDestination:u,previousImpact:s,viewport:o,afterCritical:c});if(!d)return null;const p=ml({impact:d,draggable:t,droppable:n,draggables:r,afterCritical:c});if(ry({draggable:t,destination:n,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Mu({pageBorderBoxCenter:p,draggable:t,viewport:o}),impact:d,scrollJumpRequest:null};const m=mt(p,i),y=gC({impact:d,viewport:o,destination:n,draggables:r,maxScrollChange:m});return{clientSelection:a,impact:y,scrollJumpRequest:m}};const Xe=e=>{const t=e.subject.active;return t||$(),t};var xC=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:s})=>{const o=n.subject.active;if(!o)return null;const i=n.axis,a=Dt(o[i.start],o[i.end]),c=fl(r).filter(f=>f!==n).filter(f=>f.isEnabled).filter(f=>!!f.subject.active).filter(f=>Xg(s.frame)(Xe(f))).filter(f=>{const d=Xe(f);return e?o[i.crossAxisEnd]<d[i.crossAxisEnd]:d[i.crossAxisStart]<o[i.crossAxisStart]}).filter(f=>{const d=Xe(f),p=Dt(d[i.start],d[i.end]);return a(d[i.start])||a(d[i.end])||p(o[i.start])||p(o[i.end])}).sort((f,d)=>{const p=Xe(f)[i.crossAxisStart],h=Xe(d)[i.crossAxisStart];return e?p-h:h-p}).filter((f,d,p)=>Xe(f)[i.crossAxisStart]===Xe(p[0])[i.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const u=c.filter(f=>Dt(Xe(f)[i.start],Xe(f)[i.end])(t[i.line]));return u.length===1?u[0]:u.length>1?u.sort((f,d)=>Xe(f)[i.start]-Xe(d)[i.start])[0]:c.sort((f,d)=>{const p=tp(t,np(Xe(f))),h=tp(t,np(Xe(d)));return p!==h?p-h:Xe(f)[i.start]-Xe(d)[i.start]})[0]};const lp=(e,t)=>{const n=e.page.borderBox.center;return Pn(e.descriptor.id,t)?mt(n,t.displacedBy.point):n},wC=(e,t)=>{const n=e.page.borderBox;return Pn(e.descriptor.id,t)?yo(n,Kr(t.displacedBy.point)):n};var bC=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:s})=>r.filter(i=>ey({target:wC(i,s),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((i,a)=>{const c=Qs(e,yc(n,lp(i,s))),u=Qs(e,yc(n,lp(a,s)));return c<u?-1:u<c?1:i.descriptor.index-a.descriptor.index})[0]||null,vo=ze(function(t,n){const r=n[t.line];return{value:r,point:sr(t.line,r)}});const _C=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return sr(r.line,t[r.line]);const s=e.subject.page.contentBox[r.size],c=Qr(e.descriptor.id,n).reduce((u,f)=>u+f.client.marginBox[r.size],0)+t[r.line]-s;return c<=0?null:sr(r.line,c)},sy=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),oy=(e,t,n)=>{const r=e.frame;Yr(t,e)&&$(),e.subject.withPlaceholder&&$();const s=vo(e.axis,t.displaceBy).point,o=_C(e,s,n),i={placeholderSize:s,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const f=Lr({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame});return{...e,subject:f}}const a=o?We(r.scroll.max,o):r.scroll.max,c=sy(r,a),u=Lr({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:c});return{...e,subject:u,frame:c}},SC=e=>{const t=e.subject.withPlaceholder;t||$();const n=e.frame;if(!n){const i=Lr({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:i}}const r=t.oldFrameMaxScroll;r||$();const s=sy(n,r),o=Lr({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return{...e,subject:o,frame:s}};var CC=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:s,destination:o,viewport:i,afterCritical:a})=>{if(!t){if(n.length)return null;const d={displaced:Ys,displacedBy:Jg,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},p=ml({impact:d,draggable:r,droppable:o,draggables:s,afterCritical:a}),h=Yr(r,o)?o:oy(o,r,s);return ry({draggable:r,destination:h,newPageBorderBoxCenter:p,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?d:null}const c=e[o.axis.line]<=t.page.borderBox.center[o.axis.line],u=(()=>{const d=t.descriptor.index;return t.descriptor.id===r.descriptor.id||c?d:d+1})(),f=vo(o.axis,r.displaceBy);return Fi({draggable:r,insideDestination:n,destination:o,viewport:i,displacedBy:f,last:Ys,index:u})},kC=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:s,droppables:o,viewport:i,afterCritical:a})=>{const c=xC({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:o,viewport:i});if(!c)return null;const u=Qr(c.descriptor.id,s),f=bC({pageBorderBoxCenter:t,viewport:i,destination:c,insideDestination:u,afterCritical:a}),d=CC({previousPageBorderBoxCenter:t,destination:c,draggable:n,draggables:s,moveRelativeTo:f,insideDestination:u,viewport:i,afterCritical:a});if(!d)return null;const p=ml({impact:d,draggable:n,droppable:c,draggables:s,afterCritical:a});return{clientSelection:Mu({pageBorderBoxCenter:p,draggable:n,viewport:i}),impact:d,scrollJumpRequest:null}},yt=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const EC=(e,t)=>{const n=yt(e);return n?t[n]:null};var jC=({state:e,type:t})=>{const n=EC(e.impact,e.dimensions.droppables),r=!!n,s=e.dimensions.droppables[e.critical.droppable.id],o=n||s,i=o.axis.direction,a=i==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||i==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(a&&!r)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,{draggables:d,droppables:p}=e.dimensions;return a?vC({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:u,destination:o,draggables:d,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):kC({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:u,isOver:o,draggables:d,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function Wn(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function iy(e){const t=Dt(e.top,e.bottom),n=Dt(e.left,e.right);return function(s){return t(s.y)&&n(s.x)}}function NC(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function RC({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,s=n.map(o=>{const i=o.axis,a=sr(o.axis.line,e.center[i.line],o.page.borderBox.center[i.crossAxisLine]);return{id:o.descriptor.id,distance:Qs(r,a)}}).sort((o,i)=>i.distance-o.distance);return s[0]?s[0].id:null}function DC({pageBorderBox:e,draggable:t,droppables:n}){const r=fl(n).filter(s=>{if(!s.isEnabled)return!1;const o=s.subject.active;if(!o||!NC(e,o))return!1;if(iy(o)(e.center))return!0;const i=s.axis,a=o.center[i.crossAxisLine],c=e[i.crossAxisStart],u=e[i.crossAxisEnd],f=Dt(o[i.crossAxisStart],o[i.crossAxisEnd]),d=f(c),p=f(u);return!d&&!p?!0:d?c<a:u>a});return r.length?r.length===1?r[0].descriptor.id:RC({pageBorderBox:e,draggable:t,candidates:r}):null}const ly=(e,t)=>Bt(yo(e,t));var AC=(e,t)=>{const n=e.frame;return n?ly(t,n.scroll.diff.value):t};function ay({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function PC({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var IC=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:s,viewport:o,afterCritical:i})=>{const a=n.axis,c=vo(n.axis,t.displaceBy),u=c.value,f=e[a.start],d=e[a.end],h=hl(t,r).find(y=>{const x=y.descriptor.id,v=y.page.borderBox.center[a.line],g=Pn(x,i),b=ay({displaced:s,id:x});return g?b?d<=v:f<v-u:b?d<=v+u:f<v})||null,m=PC({draggable:t,closest:h,inHomeList:Yr(t,n)});return Fi({draggable:t,insideDestination:r,destination:n,viewport:o,last:s,displacedBy:c,index:m})};const OC=4;var TC=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:s,afterCritical:o})=>{if(!r.isCombineEnabled)return null;const i=r.axis,a=vo(r.axis,e.displaceBy),c=a.value,u=t[i.start],f=t[i.end],p=hl(e,s).find(m=>{const y=m.descriptor.id,x=m.page.borderBox,g=x[i.size]/OC,b=Pn(y,o),_=ay({displaced:n.displaced,id:y});return b?_?f>x[i.start]+g&&f<x[i.end]-g:u>x[i.start]-c+g&&u<x[i.end]-c-g:_?f>x[i.start]+c+g&&f<x[i.end]+c-g:u>x[i.start]+g&&u<x[i.end]-g});return p?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:r.descriptor.id}}}:null},cy=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:s,viewport:o,afterCritical:i})=>{const a=ly(t.page.borderBox,e),c=DC({pageBorderBox:a,draggable:t,droppables:r});if(!c)return QS;const u=r[c],f=Qr(u.descriptor.id,n),d=AC(u,a);return TC({pageBorderBoxWithDroppableScroll:d,draggable:t,previousImpact:s,destination:u,insideDestination:f,afterCritical:i})||IC({pageBorderBoxWithDroppableScroll:d,draggable:t,destination:u,insideDestination:f,last:s.displaced,viewport:o,afterCritical:i})},Bu=(e,t)=>({...e,[t.descriptor.id]:t});const LC=({previousImpact:e,impact:t,droppables:n})=>{const r=yt(e),s=yt(t);if(!r||r===s)return n;const o=n[r];if(!o.subject.withPlaceholder)return n;const i=SC(o);return Bu(n,i)};var FC=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:s})=>{const o=LC({previousImpact:r,impact:s,droppables:n}),i=yt(s);if(!i)return o;const a=n[i];if(Yr(e,a)||a.subject.withPlaceholder)return o;const c=oy(a,e,t);return Bu(o,c)},Es=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:s,scrollJumpRequest:o})=>{const i=r||e.viewport,a=n||e.dimensions,c=t||e.current.client.selection,u=mt(c,e.initial.client.selection),f={offset:u,selection:c,borderBoxCenter:We(e.initial.client.borderBoxCenter,u)},d={selection:We(f.selection,i.scroll.current),borderBoxCenter:We(f.borderBoxCenter,i.scroll.current),offset:We(f.offset,i.scroll.diff.value)},p={client:f,page:d};if(e.phase==="COLLECTING")return{...e,dimensions:a,viewport:i,current:p};const h=a.draggables[e.critical.draggable.id],m=s||cy({pageOffset:d.offset,draggable:h,draggables:a.draggables,droppables:a.droppables,previousImpact:e.impact,viewport:i,afterCritical:e.afterCritical}),y=FC({draggable:h,impact:m,previousImpact:e.impact,draggables:a.draggables,droppables:a.droppables});return{...e,current:p,dimensions:{draggables:a.draggables,droppables:y},impact:m,viewport:i,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function MC(e,t){return e.map(n=>t[n])}var uy=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:s})=>{const o=e.displaced,i=MC(o.all,n),a=Js({afterDragging:i,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:s,last:o});return{...e,displaced:a}},dy=({impact:e,draggable:t,droppable:n,draggables:r,viewport:s,afterCritical:o})=>{const i=ml({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o});return Mu({pageBorderBoxCenter:i,draggable:t,viewport:s})},fy=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&$();const r=e.impact,s=n||e.viewport,o=t||e.dimensions,{draggables:i,droppables:a}=o,c=i[e.critical.draggable.id],u=yt(r);u||$();const f=a[u],d=uy({impact:r,viewport:s,destination:f,draggables:i}),p=dy({impact:d,draggable:c,droppable:f,draggables:i,viewport:s,afterCritical:e.afterCritical});return Es({impact:d,clientSelection:p,state:e,dimensions:o,viewport:s})},BC=e=>({index:e.index,droppableId:e.droppableId}),py=({draggable:e,home:t,draggables:n,viewport:r})=>{const s=vo(t.axis,e.displaceBy),o=Qr(t.descriptor.id,n),i=o.indexOf(e);i===-1&&$();const a=o.slice(i+1),c=a.reduce((p,h)=>(p[h.descriptor.id]=!0,p),{}),u={inVirtualList:t.descriptor.mode==="virtual",displacedBy:s,effected:c};return{impact:{displaced:Js({afterDragging:a,destination:t,displacedBy:s,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:BC(e.descriptor)}},afterCritical:u}},zC=(e,t)=>({draggables:e.draggables,droppables:Bu(e.droppables,t)}),$C=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Pi(e.client,t),s=Ii(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:s}},UC=e=>{const t=e.frame;return t||$(),t},WC=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(s=>{const o=s.descriptor.droppableId,i=t[o],c=UC(i).scroll.diff.value,u=We(r,c);return $C({draggable:s,offset:u,initialWindowScroll:n.scroll.initial})})},VC=({state:e,published:t})=>{const n=t.modified.map(v=>{const g=e.dimensions.droppables[v.droppableId];return Iu(g,v.scroll)}),r={...e.dimensions.droppables,...Qg(n)},s=Yg(WC({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),o={...e.dimensions.draggables,...s};t.removals.forEach(v=>{delete o[v]});const i={droppables:r,draggables:o},a=yt(e.impact),c=a?i.droppables[a]:null,u=i.draggables[e.critical.draggable.id],f=i.droppables[e.critical.droppable.id],{impact:d,afterCritical:p}=py({draggable:u,home:f,draggables:o,viewport:e.viewport}),h=c&&c.isCombineEnabled?e.impact:d,m=cy({pageOffset:e.current.page.offset,draggable:i.draggables[e.critical.draggable.id],draggables:i.draggables,droppables:i.droppables,previousImpact:h,viewport:e.viewport,afterCritical:p}),y={...e,phase:"DRAGGING",impact:m,onLiftImpact:d,dimensions:i,afterCritical:p,forceShouldAnimate:!1};return e.phase==="COLLECTING"?y:{...y,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const vc=e=>e.movementMode==="SNAP",oa=(e,t,n)=>{const r=zC(e.dimensions,t);return!vc(e)||n?Es({state:e,dimensions:r}):fy({state:e,dimensions:r})};function ia(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const ap={phase:"IDLE",completed:null,shouldFlush:!1};var HC=(e=ap,t)=>{if(t.type==="FLUSH")return{...ap,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&$();const{critical:n,clientSelection:r,viewport:s,dimensions:o,movementMode:i}=t.payload,a=o.draggables[n.draggable.id],c=o.droppables[n.droppable.id],u={selection:r,borderBoxCenter:a.client.borderBox.center,offset:$e},f={client:u,page:{selection:We(u.selection,s.scroll.initial),borderBoxCenter:We(u.selection,s.scroll.initial),offset:We(u.selection,s.scroll.diff.value)}},d=fl(o.droppables).every(y=>!y.isFixedOnPage),{impact:p,afterCritical:h}=py({draggable:a,home:c,draggables:o.draggables,viewport:s});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:i,dimensions:o,initial:f,current:f,isWindowScrollAllowed:d,impact:p,afterCritical:h,onLiftImpact:p,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&$(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||$(),VC({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Wn(e)||$();const{client:n}=t.payload;return Rn(n,e.current.client.selection)?e:Es({state:e,clientSelection:n,impact:vc(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return ia(e);Wn(e)||$();const{id:n,newScroll:r}=t.payload,s=e.dimensions.droppables[n];if(!s)return e;const o=Iu(s,r);return oa(e,o,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Wn(e)||$();const{id:n,isEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||$(),s.isEnabled===r&&$();const o={...s,isEnabled:r};return oa(e,o,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Wn(e)||$();const{id:n,isCombineEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||$(),s.isCombineEnabled===r&&$();const o={...s,isCombineEnabled:r};return oa(e,o,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Wn(e)||$(),e.isWindowScrollAllowed||$();const n=t.payload.newScroll;if(Rn(e.viewport.scroll.current,n))return ia(e);const r=ny(e.viewport,n);return vc(e)?fy({state:e,viewport:r}):Es({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Wn(e))return e;const n=t.payload.maxScroll;if(Rn(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&$();const n=jC({state:e,type:t.type});return n?Es({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&$(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:s}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||$(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:s,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function pe(e,t){return e instanceof Object&&"type"in e&&e.type===t}const GC=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),qC=e=>({type:"LIFT",payload:e}),KC=e=>({type:"INITIAL_PUBLISH",payload:e}),QC=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),YC=()=>({type:"COLLECTION_STARTING",payload:null}),JC=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),XC=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),ZC=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),hy=e=>({type:"MOVE",payload:e}),ek=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),tk=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),nk=()=>({type:"MOVE_UP",payload:null}),rk=()=>({type:"MOVE_DOWN",payload:null}),sk=()=>({type:"MOVE_RIGHT",payload:null}),ok=()=>({type:"MOVE_LEFT",payload:null}),zu=()=>({type:"FLUSH",payload:null}),ik=e=>({type:"DROP_ANIMATE",payload:e}),$u=e=>({type:"DROP_COMPLETE",payload:e}),my=e=>({type:"DROP",payload:e}),lk=e=>({type:"DROP_PENDING",payload:e}),gy=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var ak=e=>({getState:t,dispatch:n})=>r=>s=>{if(!pe(s,"LIFT")){r(s);return}const{id:o,clientSelection:i,movementMode:a}=s.payload,c=t();c.phase==="DROP_ANIMATING"&&n($u({completed:c.completed})),t().phase!=="IDLE"&&$(),n(zu()),n(GC({draggableId:o,movementMode:a}));const f={draggableId:o,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:d,dimensions:p,viewport:h}=e.startPublishing(f);n(KC({critical:d,dimensions:p,clientSelection:i,movementMode:a,viewport:h}))},ck=e=>()=>t=>n=>{pe(n,"INITIAL_PUBLISH")&&e.dragging(),pe(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(pe(n,"FLUSH")||pe(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const Uu={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Xs={opacity:{drop:0,combining:.7},scale:{drop:.75}},yy={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Bn=`${yy.outOfTheWay}s ${Uu.outOfTheWay}`,js={fluid:`opacity ${Bn}`,snap:`transform ${Bn}, opacity ${Bn}`,drop:e=>{const t=`${e}s ${Uu.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Bn}`,placeholder:`height ${Bn}, width ${Bn}, margin ${Bn}`},cp=e=>Rn(e,$e)?void 0:`translate(${e.x}px, ${e.y}px)`,xc={moveTo:cp,drop:(e,t)=>{const n=cp(e);if(n)return t?`${n} scale(${Xs.scale.drop})`:n}},{minDropTime:wc,maxDropTime:vy}=yy,uk=vy-wc,up=1500,dk=.6;var fk=({current:e,destination:t,reason:n})=>{const r=Qs(e,t);if(r<=0)return wc;if(r>=up)return vy;const s=r/up,o=wc+uk*s,i=n==="CANCEL"?o*dk:o;return Number(i.toFixed(2))},pk=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:s})=>{const{draggables:o,droppables:i}=n,a=yt(e),c=a?i[a]:null,u=i[t.descriptor.droppableId],f=dy({impact:e,draggable:t,draggables:o,afterCritical:s,droppable:c||u,viewport:r});return mt(f,t.client.borderBox.center)},hk=({draggables:e,reason:t,lastImpact:n,home:r,viewport:s,onLiftImpact:o})=>!n.at||t!=="DROP"?{impact:uy({draggables:e,impact:o,destination:r,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Ys},didDropInsideDroppable:!0};const mk=({getState:e,dispatch:t})=>n=>r=>{if(!pe(r,"DROP")){n(r);return}const s=e(),o=r.payload.reason;if(s.phase==="COLLECTING"){t(lk({reason:o}));return}if(s.phase==="IDLE")return;s.phase==="DROP_PENDING"&&s.isWaiting&&$(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||$();const a=s.critical,c=s.dimensions,u=c.draggables[s.critical.draggable.id],{impact:f,didDropInsideDroppable:d}=hk({reason:o,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),p=d?Ou(f):null,h=d?pl(f):null,m={index:a.draggable.index,droppableId:a.droppable.id},y={draggableId:u.descriptor.id,type:u.descriptor.type,source:m,reason:o,mode:s.movementMode,destination:p,combine:h},x=pk({impact:f,draggable:u,dimensions:c,viewport:s.viewport,afterCritical:s.afterCritical}),v={critical:s.critical,afterCritical:s.afterCritical,result:y,impact:f};if(!(!Rn(s.current.client.offset,x)||!!y.combine)){t($u({completed:v}));return}const b=fk({current:s.current.client.offset,destination:x,reason:o});t(ik({newHomeClientOffset:x,dropDuration:b,completed:v}))};var xy=()=>({x:window.pageXOffset,y:window.pageYOffset});function gk(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function yk({onWindowScroll:e}){function t(){e(xy())}const n=Ks(t),r=gk(n);let s=Nn;function o(){return s!==Nn}function i(){o()&&$(),s=Nt(window,[r])}function a(){o()||$(),n.cancel(),s(),s=Nn}return{start:i,stop:a,isActive:o}}const vk=e=>pe(e,"DROP_COMPLETE")||pe(e,"DROP_ANIMATE")||pe(e,"FLUSH"),xk=e=>{const t=yk({onWindowScroll:n=>{e.dispatch(ek({newScroll:n}))}});return n=>r=>{!t.isActive()&&pe(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&vk(r)&&t.stop(),n(r)}};var wk=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),s=o=>{t||n||(t=!0,e(o),clearTimeout(r))};return s.wasCalled=()=>t,s},bk=()=>{const e=[],t=s=>{const o=e.findIndex(a=>a.timerId===s);o===-1&&$();const[i]=e.splice(o,1);i.callback()};return{add:s=>{const o=setTimeout(()=>t(o)),i={timerId:o,callback:s};e.push(i)},flush:()=>{if(!e.length)return;const s=[...e];e.length=0,s.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const _k=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,Sk=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,Ck=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},as=(e,t)=>{t()},Bo=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function la(e,t,n,r){if(!e){n(r(t));return}const s=wk(n);e(t,{announce:s}),s.wasCalled()||n(r(t))}var kk=(e,t)=>{const n=bk();let r=null;const s=(d,p)=>{r&&$(),as("onBeforeCapture",()=>{const h=e().onBeforeCapture;h&&h({draggableId:d,mode:p})})},o=(d,p)=>{r&&$(),as("onBeforeDragStart",()=>{const h=e().onBeforeDragStart;h&&h(Bo(d,p))})},i=(d,p)=>{r&&$();const h=Bo(d,p);r={mode:p,lastCritical:d,lastLocation:h.source,lastCombine:null},n.add(()=>{as("onDragStart",()=>la(e().onDragStart,h,t,si.onDragStart))})},a=(d,p)=>{const h=Ou(p),m=pl(p);r||$();const y=!Ck(d,r.lastCritical);y&&(r.lastCritical=d);const x=!_k(r.lastLocation,h);x&&(r.lastLocation=h);const v=!Sk(r.lastCombine,m);if(v&&(r.lastCombine=m),!y&&!x&&!v)return;const g={...Bo(d,r.mode),combine:m,destination:h};n.add(()=>{as("onDragUpdate",()=>la(e().onDragUpdate,g,t,si.onDragUpdate))})},c=()=>{r||$(),n.flush()},u=d=>{r||$(),r=null,as("onDragEnd",()=>la(e().onDragEnd,d,t,si.onDragEnd))};return{beforeCapture:s,beforeStart:o,start:i,update:a,flush:c,drop:u,abort:()=>{if(!r)return;const d={...Bo(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(d)}}},Ek=(e,t)=>{const n=kk(e,t);return r=>s=>o=>{if(pe(o,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(pe(o,"INITIAL_PUBLISH")){const a=o.payload.critical;n.beforeStart(a,o.payload.movementMode),s(o),n.start(a,o.payload.movementMode);return}if(pe(o,"DROP_COMPLETE")){const a=o.payload.completed.result;n.flush(),s(o),n.drop(a);return}if(s(o),pe(o,"FLUSH")){n.abort();return}const i=r.getState();i.phase==="DRAGGING"&&n.update(i.critical,i.impact)}};const jk=e=>t=>n=>{if(!pe(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&$(),e.dispatch($u({completed:r.completed}))},Nk=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return s=>o=>{if((pe(o,"FLUSH")||pe(o,"DROP_COMPLETE")||pe(o,"DROP_ANIMATION_FINISHED"))&&r(),s(o),!pe(o,"DROP_ANIMATE"))return;const i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(gy())}};n=requestAnimationFrame(()=>{n=null,t=Nt(window,[i])})}};var Rk=e=>()=>t=>n=>{(pe(n,"DROP_COMPLETE")||pe(n,"FLUSH")||pe(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},Dk=e=>{let t=!1;return()=>n=>r=>{if(pe(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(pe(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(pe(r,"DROP_COMPLETE")){t=!1;const s=r.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const Ak=e=>pe(e,"DROP_COMPLETE")||pe(e,"DROP_ANIMATE")||pe(e,"FLUSH");var Pk=e=>t=>n=>r=>{if(Ak(r)){e.stop(),n(r);return}if(pe(r,"INITIAL_PUBLISH")){n(r);const s=t.getState();s.phase!=="DRAGGING"&&$(),e.start(s);return}n(r),e.scroll(t.getState())};const Ik=e=>t=>n=>{if(t(n),!pe(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(my({reason:r.reason})))},Ok=Tg;var Tk=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:s,autoScroller:o})=>Og(HC,Ok(N1(ck(n),Rk(e),ak(e),mk,jk,Nk,Ik,Pk(o),xk,Dk(t),Ek(r,s))));const aa=()=>({additions:{},removals:{},modified:{}});function Lk({registry:e,callbacks:t}){let n=aa(),r=null;const s=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:u,modified:f}=n,d=Object.keys(c).map(m=>e.draggable.getById(m).getDimension($e)).sort((m,y)=>m.descriptor.index-y.descriptor.index),p=Object.keys(f).map(m=>{const x=e.droppable.getById(m).callbacks.getScrollWhileDragging();return{droppableId:m,scroll:x}}),h={additions:d,removals:Object.keys(u),modified:p};n=aa(),t.publish(h)}))};return{add:c=>{const u=c.descriptor.id;n.additions[u]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],s()},remove:c=>{const u=c.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],s()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=aa())}}}var wy=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const s=mt({x:t,y:e},{x:r,y:n});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},by=()=>{const e=document.documentElement;return e||$(),e},_y=()=>{const e=by();return wy({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Fk=()=>{const e=xy(),t=_y(),n=e.y,r=e.x,s=by(),o=s.clientWidth,i=s.clientHeight,a=r+o,c=n+i;return{frame:Bt({top:n,left:r,right:a,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:$e,displacement:$e}}}},Mk=({critical:e,scrollOptions:t,registry:n})=>{const r=Fk(),s=r.scroll.current,o=e.droppable,i=n.droppable.getAllByType(o.type).map(f=>f.callbacks.getDimensionAndWatchScroll(s,t)),a=n.draggable.getAllByType(e.draggable.type).map(f=>f.getDimension(s));return{dimensions:{draggables:Yg(a),droppables:Qg(i)},critical:e,viewport:r}};function dp(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var Bk=(e,t)=>{let n=null;const r=Lk({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=(p,h)=>{e.droppable.exists(p)||$(),n&&t.updateDroppableIsEnabled({id:p,isEnabled:h})},o=(p,h)=>{n&&(e.droppable.exists(p)||$(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:h}))},i=(p,h)=>{n&&(e.droppable.exists(p)||$(),t.updateDroppableScroll({id:p,newScroll:h}))},a=(p,h)=>{n&&e.droppable.getById(p).callbacks.scroll(h)},c=()=>{if(!n)return;r.stop();const p=n.critical.droppable;e.droppable.getAllByType(p.type).forEach(h=>h.callbacks.dragStopped()),n.unsubscribe(),n=null},u=p=>{n||$();const h=n.critical.draggable;p.type==="ADDITION"&&dp(e,h,p.value)&&r.add(p.value),p.type==="REMOVAL"&&dp(e,h,p.value)&&r.remove(p.value)};return{updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:i,startPublishing:p=>{n&&$();const h=e.draggable.getById(p.draggableId),m=e.droppable.getById(h.descriptor.droppableId),y={draggable:h.descriptor,droppable:m.descriptor},x=e.subscribe(u);return n={critical:y,unsubscribe:x},Mk({critical:y,registry:e,scrollOptions:p.scrollOptions})},stopPublishing:c}},Sy=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",zk=e=>{window.scrollBy(e.x,e.y)};const $k=ze(e=>fl(e).filter(t=>!(!t.isEnabled||!t.frame))),Uk=(e,t)=>$k(t).find(r=>(r.frame||$(),iy(r.frame.pageMarginBox)(e)))||null;var Wk=({center:e,destination:t,droppables:n})=>{if(t){const s=n[t];return s.frame?s:null}return Uk(e,n)};const Zs={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Vk=(e,t,n=()=>Zs)=>{const r=n(),s=e[t.size]*r.startFromPercentage,o=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:s,maxScrollValueAt:o}},Cy=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},Wu=1,Hk=(e,t,n=()=>Zs)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return Wu;const o=1-Cy({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=r.maxPixelScroll*r.ease(o);return Math.ceil(i)},Gk=(e,t,n)=>{const r=n(),s=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,i=t,a=o,u=Date.now()-i;if(u>=o)return e;if(u<s)return Wu;const f=Cy({startOfRange:s,endOfRange:a,current:u}),d=e*r.ease(f);return Math.ceil(d)},fp=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const o=Hk(e,t,s);return o===0?0:r?Math.max(Gk(o,n,s),Wu):o},pp=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const i=Vk(e,r,o);return t[r.end]<t[r.start]?fp({distanceToEdge:t[r.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o}):-1*fp({distanceToEdge:t[r.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o})},qk=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,s=t.width>e.width;return!s&&!r?n:s&&r?null:{x:s?0:n.x,y:r?0:n.y}};const Kk=Kg(e=>e===0?0:e);var ky=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const i={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},a=pp({container:t,distanceToEdges:i,dragStartTime:e,axis:Tu,shouldUseTimeDampening:s,getAutoScrollerOptions:o}),c=pp({container:t,distanceToEdges:i,dragStartTime:e,axis:Zg,shouldUseTimeDampening:s,getAutoScrollerOptions:o}),u=Kk({x:c,y:a});if(Rn(u,$e))return null;const f=qk({container:t,subject:n,proposedScroll:u});return f?Rn(f,$e)?null:f:null};const Qk=Kg(e=>e===0?0:e>0?1:-1),Vu=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const s=We(t,r),o={x:e(s.x,n.x),y:e(s.y,n.y)};return Rn(o,$e)?null:o}})(),Ey=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},s=Qk(n),o=Vu({max:r,current:t,change:s});return!o||s.x!==0&&o.x===0||s.y!==0&&o.y===0},Hu=(e,t)=>Ey({current:e.scroll.current,max:e.scroll.max,change:t}),Yk=(e,t)=>{if(!Hu(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Vu({current:r,max:n,change:t})},Gu=(e,t)=>{const n=e.frame;return n?Ey({current:n.scroll.current,max:n.scroll.max,change:t}):!1},Jk=(e,t)=>{const n=e.frame;return!n||!Gu(e,t)?null:Vu({current:n.scroll.current,max:n.scroll.max,change:t})};var Xk=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const i=ky({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o});return i&&Hu(e,i)?i:null},Zk=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const i=e.frame;if(!i)return null;const a=ky({dragStartTime:r,container:i.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o});return a&&Gu(e,a)?a:null},hp=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:s,getAutoScrollerOptions:o})=>{const i=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const d=e.viewport,p=Xk({dragStartTime:t,viewport:d,subject:c,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:o});if(p){r(p);return}}const u=Wk({center:i,destination:yt(e.impact),droppables:e.dimensions.droppables});if(!u)return;const f=Zk({dragStartTime:t,droppable:u,subject:c,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:o});f&&s(u.descriptor.id,f)},eE=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Zs})=>{const r=Ks(e),s=Ks(t);let o=null;const i=u=>{o||$();const{shouldUseTimeDampening:f,dragStartTime:d}=o;hp({state:u,scrollWindow:r,scrollDroppable:s,dragStartTime:d,shouldUseTimeDampening:f,getAutoScrollerOptions:n})};return{start:u=>{o&&$();const f=Date.now();let d=!1;const p=()=>{d=!0};hp({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p,getAutoScrollerOptions:n}),o={dragStartTime:f,shouldUseTimeDampening:d},d&&i(u)},stop:()=>{o&&(r.cancel(),s.cancel(),o=null)},scroll:i}},tE=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(a,c)=>{const u=We(a.current.client.selection,c);e({client:u})},s=(a,c)=>{if(!Gu(a,c))return c;const u=Jk(a,c);if(!u)return t(a.descriptor.id,c),null;const f=mt(c,u);return t(a.descriptor.id,f),mt(c,f)},o=(a,c,u)=>{if(!a||!Hu(c,u))return u;const f=Yk(c,u);if(!f)return n(u),null;const d=mt(u,f);return n(d),mt(u,d)};return a=>{const c=a.scrollJumpRequest;if(!c)return;const u=yt(a.impact);u||$();const f=s(a.dimensions.droppables[u],c);if(!f)return;const d=a.viewport,p=o(a.isWindowScrollAllowed,d,f);p&&r(a,p)}},nE=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const s=eE({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),o=tE({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){s.scroll(c);return}c.scrollJumpRequest&&o(c)}},start:s.start,stop:s.stop}};const Fr="data-rfd",Mr=(()=>{const e=`${Fr}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),bc=(()=>{const e=`${Fr}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),rE=(()=>{const e=`${Fr}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),mp={contextId:`${Fr}-scroll-container-context-id`},sE=e=>t=>`[${t}="${e}"]`,cs=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),oE="pointer-events: none;";var iE=e=>{const t=sE(e),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Mr.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:oE,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${js.outOfTheWay};
    `;return{selector:t(bc.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),s={selector:t(rE.contextId),styles:{always:"overflow-anchor: none;"}},i=[r,n,s,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:cs(i,"always"),resting:cs(i,"resting"),dragging:cs(i,"dragging"),dropAnimating:cs(i,"dropAnimating"),userCancel:cs(i,"userCancel")}};const vt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect,ca=()=>{const e=document.querySelector("head");return e||$(),e},gp=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function lE(e,t){const n=ce(()=>iE(e),[e]),r=w.useRef(null),s=w.useRef(null),o=q(ze(d=>{const p=s.current;p||$(),p.textContent=d}),[]),i=q(d=>{const p=r.current;p||$(),p.textContent=d},[]);vt(()=>{!r.current&&!s.current||$();const d=gp(t),p=gp(t);return r.current=d,s.current=p,d.setAttribute(`${Fr}-always`,e),p.setAttribute(`${Fr}-dynamic`,e),ca().appendChild(d),ca().appendChild(p),i(n.always),o(n.resting),()=>{const h=m=>{const y=m.current;y||$(),ca().removeChild(y),m.current=null};h(r),h(s)}},[t,i,o,n.always,n.resting,e]);const a=q(()=>o(n.dragging),[o,n.dragging]),c=q(d=>{if(d==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),u=q(()=>{s.current&&o(n.resting)},[o,n.resting]);return ce(()=>({dragging:a,dropping:c,resting:u}),[a,c,u])}function jy(e,t){return Array.from(e.querySelectorAll(t))}var Ny=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function gl(e){return e instanceof Ny(e).HTMLElement}function aE(e,t){const n=`[${Mr.contextId}="${e}"]`,r=jy(document,n);if(!r.length)return null;const s=r.find(o=>o.getAttribute(Mr.draggableId)===t);return!s||!gl(s)?null:s}function cE(e){const t=w.useRef({}),n=w.useRef(null),r=w.useRef(null),s=w.useRef(!1),o=q(function(p,h){const m={id:p,focus:h};return t.current[p]=m,function(){const x=t.current;x[p]!==m&&delete x[p]}},[]),i=q(function(p){const h=aE(e,p);h&&h!==document.activeElement&&h.focus()},[e]),a=q(function(p,h){n.current===p&&(n.current=h)},[]),c=q(function(){r.current||s.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const p=n.current;p&&i(p)}))},[i]),u=q(function(p){n.current=null;const h=document.activeElement;h&&h.getAttribute(Mr.draggableId)===p&&(n.current=p)},[]);return vt(()=>(s.current=!0,function(){s.current=!1;const p=r.current;p&&cancelAnimationFrame(p)}),[]),ce(()=>({register:o,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:a}),[o,u,c,a])}function uE(){const e={draggables:{},droppables:{}},t=[];function n(d){return t.push(d),function(){const h=t.indexOf(d);h!==-1&&t.splice(h,1)}}function r(d){t.length&&t.forEach(p=>p(d))}function s(d){return e.draggables[d]||null}function o(d){const p=s(d);return p||$(),p}const i={register:d=>{e.draggables[d.descriptor.id]=d,r({type:"ADDITION",value:d})},update:(d,p)=>{const h=e.draggables[p.descriptor.id];h&&h.uniqueId===d.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[d.descriptor.id]=d)},unregister:d=>{const p=d.descriptor.id,h=s(p);h&&d.uniqueId===h.uniqueId&&(delete e.draggables[p],e.droppables[d.descriptor.droppableId]&&r({type:"REMOVAL",value:d}))},getById:o,findById:s,exists:d=>!!s(d),getAllByType:d=>Object.values(e.draggables).filter(p=>p.descriptor.type===d)};function a(d){return e.droppables[d]||null}function c(d){const p=a(d);return p||$(),p}const u={register:d=>{e.droppables[d.descriptor.id]=d},unregister:d=>{const p=a(d.descriptor.id);p&&d.uniqueId===p.uniqueId&&delete e.droppables[d.descriptor.id]},getById:c,findById:a,exists:d=>!!a(d),getAllByType:d=>Object.values(e.droppables).filter(p=>p.descriptor.type===d)};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:i,droppable:u,subscribe:n,clean:f}}function dE(){const e=ce(uE,[]);return w.useEffect(()=>function(){e.clean()},[e]),e}var qu=le.createContext(null),Mi=()=>{const e=document.body;return e||$(),e};const fE={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},pE=e=>`rfd-announcement-${e}`;function hE(e){const t=ce(()=>pE(e),[e]),n=w.useRef(null);return w.useEffect(function(){const o=document.createElement("div");return n.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),Oi(o.style,fE),Mi().appendChild(o),function(){setTimeout(function(){const c=Mi();c.contains(o)&&c.removeChild(o),o===n.current&&(n.current=null)})}},[t]),q(s=>{const o=n.current;if(o){o.textContent=s;return}},[])}const mE={separator:"::"};function Ku(e,t=mE){const n=le.useId();return ce(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function gE({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function yE({contextId:e,text:t}){const n=Ku("hidden-text",{separator:"-"}),r=ce(()=>gE({contextId:e,uniqueId:n}),[n,e]);return w.useEffect(function(){const o=document.createElement("div");return o.id=r,o.textContent=t,o.style.display="none",Mi().appendChild(o),function(){const a=Mi();a.contains(o)&&a.removeChild(o)}},[r,t]),r}var yl=le.createContext(null);function Ry(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),t}function vE(){let e=null;function t(){return!!e}function n(i){return i===e}function r(i){e&&$();const a={abandon:i};return e=a,a}function s(){e||$(),e=null}function o(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:n,claim:r,release:s,tryAbandon:o}}function eo(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const xE=9,wE=13,Qu=27,Dy=32,bE=33,_E=34,SE=35,CE=36,kE=37,EE=38,jE=39,NE=40,RE={[wE]:!0,[xE]:!0};var Ay=e=>{RE[e.keyCode]&&e.preventDefault()};const vl=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),Py=0,yp=5;function DE(e,t){return Math.abs(t.x-e.x)>=yp||Math.abs(t.y-e.y)>=yp}const vp={type:"IDLE"};function AE({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:s=>{const{button:o,clientX:i,clientY:a}=s;if(o!==Py)return;const c={x:i,y:a},u=n();if(u.type==="DRAGGING"){s.preventDefault(),u.actions.move(c);return}u.type!=="PENDING"&&$();const f=u.point;if(!DE(f,c))return;s.preventDefault();const d=u.actions.fluidLift(c);r({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:s=>{const o=n();if(o.type!=="DRAGGING"){e();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:s=>{n().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:s=>{if(n().type==="PENDING"){e();return}if(s.keyCode===Qu){s.preventDefault(),e();return}Ay(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:s=>{const o=n();if(o.type==="IDLE"&&$(),o.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:vl,fn:e}]}function PE(e){const t=w.useRef(vp),n=w.useRef(Nn),r=ce(()=>({eventName:"mousedown",fn:function(d){if(d.defaultPrevented||d.button!==Py||d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)return;const p=e.findClosestDraggableId(d);if(!p)return;const h=e.tryGetLock(p,i,{sourceEvent:d});if(!h)return;d.preventDefault();const m={x:d.clientX,y:d.clientY};n.current(),u(h,m)}}),[e]),s=ce(()=>({eventName:"webkitmouseforcewillbegin",fn:f=>{if(f.defaultPrevented)return;const d=e.findClosestDraggableId(f);if(!d)return;const p=e.findOptionsForDraggable(d);p&&(p.shouldRespectForcePress||e.canGetLock(d)&&f.preventDefault())}}),[e]),o=q(function(){const d={passive:!1,capture:!0};n.current=Nt(window,[s,r],d)},[s,r]),i=q(()=>{t.current.type!=="IDLE"&&(t.current=vp,n.current(),o())},[o]),a=q(()=>{const f=t.current;i(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[i]),c=q(function(){const d={capture:!0,passive:!1},p=AE({cancel:a,completed:i,getPhase:()=>t.current,setPhase:h=>{t.current=h}});n.current=Nt(window,p,d)},[a,i]),u=q(function(d,p){t.current.type!=="IDLE"&&$(),t.current={type:"PENDING",point:p,actions:d},c()},[c]);vt(function(){return o(),function(){n.current()}},[o])}function IE(){}const OE={[_E]:!0,[bE]:!0,[CE]:!0,[SE]:!0};function TE(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:s=>{if(s.keyCode===Qu){s.preventDefault(),n();return}if(s.keyCode===Dy){s.preventDefault(),r();return}if(s.keyCode===NE){s.preventDefault(),e.moveDown();return}if(s.keyCode===EE){s.preventDefault(),e.moveUp();return}if(s.keyCode===jE){s.preventDefault(),e.moveRight();return}if(s.keyCode===kE){s.preventDefault(),e.moveLeft();return}if(OE[s.keyCode]){s.preventDefault();return}Ay(s)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:vl,fn:n}]}function LE(e){const t=w.useRef(IE),n=ce(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==Dy)return;const i=e.findClosestDraggableId(o);if(!i)return;const a=e.tryGetLock(i,f,{sourceEvent:o});if(!a)return;o.preventDefault();let c=!0;const u=a.snapLift();t.current();function f(){c||$(),c=!1,t.current(),r()}t.current=Nt(window,TE(u,f),{capture:!0,passive:!1})}}),[e]),r=q(function(){const o={passive:!1,capture:!0};t.current=Nt(window,[n],o)},[n]);vt(function(){return r(),function(){t.current()}},[r])}const ua={type:"IDLE"},FE=120,ME=.15;function BE({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===Qu&&n.preventDefault(),e()}},{eventName:vl,fn:e}]}function zE({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const s=n();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;const{clientX:o,clientY:i}=r.touches[0],a={x:o,y:i};r.preventDefault(),s.actions.move(a)}},{eventName:"touchend",fn:r=>{const s=n();if(s.type!=="DRAGGING"){e();return}r.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const s=n();s.type==="IDLE"&&$();const o=r.touches[0];if(!o||!(o.force>=ME))return;const a=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){a&&e();return}if(a){if(s.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:vl,fn:e}]}function $E(e){const t=w.useRef(ua),n=w.useRef(Nn),r=q(function(){return t.current},[]),s=q(function(h){t.current=h},[]),o=ce(()=>({eventName:"touchstart",fn:function(h){if(h.defaultPrevented)return;const m=e.findClosestDraggableId(h);if(!m)return;const y=e.tryGetLock(m,a,{sourceEvent:h});if(!y)return;const x=h.touches[0],{clientX:v,clientY:g}=x,b={x:v,y:g};n.current(),d(y,b)}}),[e]),i=q(function(){const h={capture:!0,passive:!1};n.current=Nt(window,[o],h)},[o]),a=q(()=>{const p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),s(ua),n.current(),i())},[i,s]),c=q(()=>{const p=t.current;a(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[a]),u=q(function(){const h={capture:!0,passive:!1},m={cancel:c,completed:a,getPhase:r},y=Nt(window,zE(m),h),x=Nt(window,BE(m),h);n.current=function(){y(),x()}},[c,r,a]),f=q(function(){const h=r();h.type!=="PENDING"&&$();const m=h.actions.fluidLift(h.point);s({type:"DRAGGING",actions:m,hasMoved:!1})},[r,s]),d=q(function(h,m){r().type!=="IDLE"&&$();const y=setTimeout(f,FE);s({type:"PENDING",point:m,actions:h,longPressTimerId:y}),u()},[u,r,s,f]);vt(function(){return i(),function(){n.current();const m=r();m.type==="PENDING"&&(clearTimeout(m.longPressTimerId),s(ua))}},[r,i,s]),vt(function(){return Nt(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const UE=["input","button","textarea","select","option","optgroup","video","audio"];function Iy(e,t){if(t==null)return!1;if(UE.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:Iy(e,t.parentElement)}function WE(e,t){const n=t.target;return gl(n)?Iy(e,n):!1}var VE=e=>Bt(e.getBoundingClientRect()).center;function HE(e){return e instanceof Ny(e).Element}const GE=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function Oy(e,t){return e==null?null:e[GE](t)?e:Oy(e.parentElement,t)}function qE(e,t){return e.closest?e.closest(t):Oy(e,t)}function KE(e){return`[${Mr.contextId}="${e}"]`}function QE(e,t){const n=t.target;if(!HE(n))return null;const r=KE(e),s=qE(n,r);return!s||!gl(s)?null:s}function YE(e,t){const n=QE(e,t);return n?n.getAttribute(Mr.draggableId):null}function JE(e,t){const n=`[${bc.contextId}="${e}"]`,s=jy(document,n).find(o=>o.getAttribute(bc.id)===t);return!s||!gl(s)?null:s}function XE(e){e.preventDefault()}function zo({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function Ty({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const s=n.draggable.findById(r);return!(!s||!s.options.isEnabled||!Sy(t.getState(),r))}function ZE({lockAPI:e,contextId:t,store:n,registry:r,draggableId:s,forceSensorStop:o,sourceEvent:i}){if(!Ty({lockAPI:e,store:n,registry:r,draggableId:s}))return null;const c=r.draggable.getById(s),u=JE(t,c.descriptor.id);if(!u||i&&!c.options.canDragInteractiveElements&&WE(u,i))return null;const f=e.claim(o||Nn);let d="PRE_DRAG";function p(){return c.options.shouldRespectForcePress}function h(){return e.isActive(f)}function m(j,N){zo({expected:j,phase:d,isLockActive:h,shouldWarn:!0})&&n.dispatch(N())}const y=m.bind(null,"DRAGGING");function x(j){function N(){e.release(),d="COMPLETED"}d!=="PRE_DRAG"&&(N(),$()),n.dispatch(qC(j.liftActionArgs)),d="DRAGGING";function D(S,C={shouldBlockNextClick:!1}){if(j.cleanup(),C.shouldBlockNextClick){const E=Nt(window,[{eventName:"click",fn:XE,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(E)}N(),n.dispatch(my({reason:S}))}return{isActive:()=>zo({expected:"DRAGGING",phase:d,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:p,drop:S=>D("DROP",S),cancel:S=>D("CANCEL",S),...j.actions}}function v(j){const N=Ks(S=>{y(()=>hy({client:S}))});return{...x({liftActionArgs:{id:s,clientSelection:j,movementMode:"FLUID"},cleanup:()=>N.cancel(),actions:{move:N}}),move:N}}function g(){const j={moveUp:()=>y(nk),moveRight:()=>y(sk),moveDown:()=>y(rk),moveLeft:()=>y(ok)};return x({liftActionArgs:{id:s,clientSelection:VE(u),movementMode:"SNAP"},cleanup:Nn,actions:j})}function b(){zo({expected:"PRE_DRAG",phase:d,isLockActive:h,shouldWarn:!0})&&e.release()}return{isActive:()=>zo({expected:"PRE_DRAG",phase:d,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:p,fluidLift:v,snapLift:g,abort:b}}const ej=[PE,LE,$E];function tj({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:s}){const o=[...s?ej:[],...r||[]],i=w.useState(()=>vE())[0],a=q(function(x,v){eo(x)&&!eo(v)&&i.tryAbandon()},[i]);vt(function(){let x=t.getState();return t.subscribe(()=>{const g=t.getState();a(x,g),x=g})},[i,t,a]),vt(()=>i.tryAbandon,[i.tryAbandon]);const c=q(y=>Ty({lockAPI:i,registry:n,store:t,draggableId:y}),[i,n,t]),u=q((y,x,v)=>ZE({lockAPI:i,registry:n,contextId:e,store:t,draggableId:y,forceSensorStop:x||null,sourceEvent:v&&v.sourceEvent?v.sourceEvent:null}),[e,i,n,t]),f=q(y=>YE(e,y),[e]),d=q(y=>{const x=n.draggable.findById(y);return x?x.options:null},[n.draggable]),p=q(function(){i.isClaimed()&&(i.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(zu()))},[i,t]),h=q(()=>i.isClaimed(),[i]),m=ce(()=>({canGetLock:c,tryGetLock:u,findClosestDraggableId:f,findOptionsForDraggable:d,tryReleaseLock:p,isLockClaimed:h}),[c,u,f,d,p,h]);for(let y=0;y<o.length;y++)o[y](m)}const nj=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};sl.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),rj=e=>({...Zs,...e.autoScrollerOptions,durationDampening:{...Zs.durationDampening,...e.autoScrollerOptions}});function us(e){return e.current||$(),e.current}function sj(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:s,dragHandleUsageInstructions:o}=e,i=w.useRef(null),a=Ry(e),c=q(()=>nj(a.current),[a]),u=q(()=>rj(a.current),[a]),f=hE(t),d=yE({contextId:t,text:o}),p=lE(t,s),h=q(E=>{us(i).dispatch(E)},[]),m=ce(()=>Gf({publishWhileDragging:QC,updateDroppableScroll:JC,updateDroppableIsEnabled:XC,updateDroppableIsCombineEnabled:ZC,collectionStarting:YC},h),[h]),y=dE(),x=ce(()=>Bk(y,m),[y,m]),v=ce(()=>nE({scrollWindow:zk,scrollDroppable:x.scrollDroppable,getAutoScrollerOptions:u,...Gf({move:hy},h)}),[x.scrollDroppable,h,u]),g=cE(t),b=ce(()=>Tk({announce:f,autoScroller:v,dimensionMarshal:x,focusMarshal:g,getResponders:c,styleMarshal:p}),[f,v,x,g,c,p]);i.current=b;const _=q(()=>{const E=us(i);E.getState().phase!=="IDLE"&&E.dispatch(zu())},[]),j=q(()=>{const E=us(i).getState();return E.phase==="DROP_ANIMATING"?!0:E.phase==="IDLE"?!1:E.isDragging},[]),N=ce(()=>({isDragging:j,tryAbort:_}),[j,_]);n(N);const D=q(E=>Sy(us(i).getState(),E),[]),S=q(()=>Wn(us(i).getState()),[]),C=ce(()=>({marshal:x,focus:g,contextId:t,canLift:D,isMovementAllowed:S,dragHandleUsageInstructionsId:d,registry:y}),[t,x,d,g,D,S,y]);return tj({contextId:t,store:b,registry:y,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),w.useEffect(()=>_,[_]),le.createElement(yl.Provider,{value:C},le.createElement(RS,{context:qu,store:b},e.children))}function oj(){return le.useId()}function Ly(e){const t=oj(),n=e.dragHandleUsageInstructions||si.dragHandleUsageInstructions;return le.createElement(LS,null,r=>le.createElement(sj,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const xp={dragging:5e3,dropAnimating:4500},ij=(e,t)=>t?js.drop(t.duration):e?js.snap:js.fluid,lj=(e,t)=>{if(e)return t?Xs.opacity.drop:Xs.opacity.combining},aj=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function cj(e){const n=e.dimension.client,{offset:r,combineWith:s,dropping:o}=e,i=!!s,a=aj(e),c=!!o,u=c?xc.drop(r,i):xc.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:ij(a,o),transform:u,opacity:lj(i,c),zIndex:c?xp.dropAnimating:xp.dragging,pointerEvents:"none"}}function uj(e){return{transform:xc.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function dj(e){return e.type==="DRAGGING"?cj(e):uj(e)}function fj(e,t,n=$e){const r=window.getComputedStyle(t),s=t.getBoundingClientRect(),o=Ug(s,r),i=Ii(o,n),a={client:o,tagName:t.tagName.toLowerCase(),display:r.display},c={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:e,placeholder:a,displaceBy:c,client:o,page:i}}function pj(e){const t=Ku("draggable"),{descriptor:n,registry:r,getDraggableRef:s,canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:a}=e,c=ce(()=>({canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:a}),[o,a,i]),u=q(h=>{const m=s();return m||$(),fj(n,m,h)},[n,s]),f=ce(()=>({uniqueId:t,descriptor:n,options:c,getDimension:u}),[n,u,c,t]),d=w.useRef(f),p=w.useRef(!0);vt(()=>(r.draggable.register(d.current),()=>r.draggable.unregister(d.current)),[r.draggable]),vt(()=>{if(p.current){p.current=!1;return}const h=d.current;d.current=f,r.draggable.update(f,h)},[f,r.draggable])}var Yu=le.createContext(null);function Bi(e){const t=w.useContext(e);return t||$(),t}function hj(e){e.preventDefault()}const mj=e=>{const t=w.useRef(null),n=q((N=null)=>{t.current=N},[]),r=q(()=>t.current,[]),{contextId:s,dragHandleUsageInstructionsId:o,registry:i}=Bi(yl),{type:a,droppableId:c}=Bi(Yu),u=ce(()=>({id:e.draggableId,index:e.index,type:a,droppableId:c}),[e.draggableId,e.index,a,c]),{children:f,draggableId:d,isEnabled:p,shouldRespectForcePress:h,canDragInteractiveElements:m,isClone:y,mapped:x,dropAnimationFinished:v}=e;if(!y){const N=ce(()=>({descriptor:u,registry:i,getDraggableRef:r,canDragInteractiveElements:m,shouldRespectForcePress:h,isEnabled:p}),[u,i,r,m,h,p]);pj(N)}const g=ce(()=>p?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":d,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:hj}:null,[s,o,d,p]),b=q(N=>{x.type==="DRAGGING"&&x.dropping&&N.propertyName==="transform"&&sl.flushSync(v)},[v,x]),_=ce(()=>{const N=dj(x),D=x.type==="DRAGGING"&&x.dropping?b:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":d,style:N,onTransitionEnd:D},dragHandleProps:g}},[s,g,d,x,b,n]),j=ce(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return le.createElement(le.Fragment,null,f(_,x.snapshot,j))};var Fy=(e,t)=>e===t,My=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const gj=e=>e.combine?e.combine.draggableId:null,yj=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function vj(){const e=ze((s,o)=>({x:s,y:o})),t=ze((s,o,i=null,a=null,c=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:i,combineWith:a,combineTargetFor:null})),n=ze((s,o,i,a,c=null,u=null,f=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:o,offset:s,dimension:i,forceShouldAnimate:f,snapshot:t(o,a,c,u,null)}}));return(s,o)=>{if(eo(s)){if(s.critical.draggable.id!==o.draggableId)return null;const i=s.current.client.offset,a=s.dimensions.draggables[o.draggableId],c=yt(s.impact),u=yj(s.impact),f=s.forceShouldAnimate;return n(e(i.x,i.y),s.movementMode,a,o.isClone,c,u,f)}if(s.phase==="DROP_ANIMATING"){const i=s.completed;if(i.result.draggableId!==o.draggableId)return null;const a=o.isClone,c=s.dimensions.draggables[o.draggableId],u=i.result,f=u.mode,d=My(u),p=gj(u),m={duration:s.dropDuration,curve:Uu.drop,moveTo:s.newHomeClientOffset,opacity:p?Xs.opacity.drop:null,scale:p?Xs.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:c,dropping:m,draggingOver:d,combineWith:p,mode:f,forceShouldAnimate:null,snapshot:t(f,a,d,p,m)}}}return null}}function By(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const xj={mapped:{type:"SECONDARY",offset:$e,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:By(null)}};function wj(){const e=ze((i,a)=>({x:i,y:a})),t=ze(By),n=ze((i,a=null,c)=>({mapped:{type:"SECONDARY",offset:i,combineTargetFor:a,shouldAnimateDisplacement:c,snapshot:t(a)}})),r=i=>i?n($e,i,!0):null,s=(i,a,c,u)=>{const f=c.displaced.visible[i],d=!!(u.inVirtualList&&u.effected[i]),p=pl(c),h=p&&p.draggableId===i?a:null;if(!f){if(!d)return r(h);if(c.displaced.invisible[i])return null;const x=Kr(u.displacedBy.point),v=e(x.x,x.y);return n(v,h,!0)}if(d)return r(h);const m=c.displacedBy.point,y=e(m.x,m.y);return n(y,h,f.shouldAnimate)};return(i,a)=>{if(eo(i))return i.critical.draggable.id===a.draggableId?null:s(a.draggableId,i.critical.draggable.id,i.impact,i.afterCritical);if(i.phase==="DROP_ANIMATING"){const c=i.completed;return c.result.draggableId===a.draggableId?null:s(a.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const bj=()=>{const e=vj(),t=wj();return(r,s)=>e(r,s)||t(r,s)||xj},_j={dropAnimationFinished:gy},Sj=$g(bj,_j,null,{context:qu,areStatePropsEqual:Fy})(mj);function zy(e){return Bi(Yu).isUsingCloneFor===e.draggableId&&!e.isClone?null:le.createElement(Sj,e)}function Ju(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return le.createElement(zy,Oi({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const $y=e=>t=>e===t,Cj=$y("scroll"),kj=$y("auto"),wp=(e,t)=>t(e.overflowX)||t(e.overflowY),Ej=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return wp(n,Cj)||wp(n,kj)},jj=()=>!1,Uy=e=>e==null?null:e===document.body?jj()?e:null:e===document.documentElement?null:Ej(e)?e:Uy(e.parentElement);var _c=e=>({x:e.scrollLeft,y:e.scrollTop});const Wy=e=>e?window.getComputedStyle(e).position==="fixed"?!0:Wy(e.parentElement):!1;var Nj=e=>{const t=Uy(e),n=Wy(e);return{closestScrollable:t,isFixedOnPage:n}},Rj=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:s,client:o,page:i,closest:a})=>{const c=(()=>{if(!a)return null;const{scrollSize:p,client:h}=a,m=wy({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:h.paddingBox.height,width:h.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:h,scrollSize:p,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:m,diff:{value:$e,displacement:$e}}}})(),u=s==="vertical"?Tu:Zg,f=Lr({page:i,withPlaceholder:null,axis:u,frame:c});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:t,client:o,page:i,frame:c,subject:f}};const Dj=(e,t)=>{const n=Wg(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,s=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,i=s+t.scrollWidth,c=Au({top:r,right:i,bottom:o,left:s},n.border);return Pu({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var Aj=({ref:e,descriptor:t,env:n,windowScroll:r,direction:s,isDropDisabled:o,isCombineEnabled:i,shouldClipSubject:a})=>{const c=n.closestScrollable,u=Dj(e,c),f=Ii(u,r),d=(()=>{if(!c)return null;const h=Wg(c),m={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:h,page:Ii(h,r),scroll:_c(c),scrollSize:m,shouldClipSubject:a}})();return Rj({descriptor:t,isEnabled:!o,isCombineEnabled:i,isFixedOnPage:n.isFixedOnPage,direction:s,client:u,page:f,closest:d})};const Pj={passive:!1},Ij={passive:!0};var bp=e=>e.shouldPublishImmediately?Pj:Ij;const $o=e=>e&&e.env.closestScrollable||null;function Oj(e){const t=w.useRef(null),n=Bi(yl),r=Ku("droppable"),{registry:s,marshal:o}=n,i=Ry(e),a=ce(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=w.useRef(a),u=ce(()=>ze((_,j)=>{t.current||$();const N={x:_,y:j};o.updateDroppableScroll(a.id,N)}),[a.id,o]),f=q(()=>{const _=t.current;return!_||!_.env.closestScrollable?$e:_c(_.env.closestScrollable)},[]),d=q(()=>{const _=f();u(_.x,_.y)},[f,u]),p=ce(()=>Ks(d),[d]),h=q(()=>{const _=t.current,j=$o(_);if(_&&j||$(),_.scrollOptions.shouldPublishImmediately){d();return}p()},[p,d]),m=q((_,j)=>{t.current&&$();const N=i.current,D=N.getDroppableRef();D||$();const S=Nj(D),C={ref:D,descriptor:a,env:S,scrollOptions:j};t.current=C;const E=Aj({ref:D,descriptor:a,env:S,windowScroll:_,direction:N.direction,isDropDisabled:N.isDropDisabled,isCombineEnabled:N.isCombineEnabled,shouldClipSubject:!N.ignoreContainerClipping}),k=S.closestScrollable;return k&&(k.setAttribute(mp.contextId,n.contextId),k.addEventListener("scroll",h,bp(C.scrollOptions))),E},[n.contextId,a,h,i]),y=q(()=>{const _=t.current,j=$o(_);return _&&j||$(),_c(j)},[]),x=q(()=>{const _=t.current;_||$();const j=$o(_);t.current=null,j&&(p.cancel(),j.removeAttribute(mp.contextId),j.removeEventListener("scroll",h,bp(_.scrollOptions)))},[h,p]),v=q(_=>{const j=t.current;j||$();const N=$o(j);N||$(),N.scrollTop+=_.y,N.scrollLeft+=_.x},[]),g=ce(()=>({getDimensionAndWatchScroll:m,getScrollWhileDragging:y,dragStopped:x,scroll:v}),[x,m,y,v]),b=ce(()=>({uniqueId:r,descriptor:a,callbacks:g}),[g,a,r]);vt(()=>(c.current=b.descriptor,s.droppable.register(b),()=>{t.current&&x(),s.droppable.unregister(b)}),[g,a,x,b,o,s.droppable]),vt(()=>{t.current&&o.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),vt(()=>{t.current&&o.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function da(){}const _p={width:0,height:0,margin:WS},Tj=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?_p:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},Lj=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=Tj({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?js.placeholder:null}},Fj=e=>{const t=w.useRef(null),n=q(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:s,onClose:o,contextId:i}=e,[a,c]=w.useState(e.animate==="open");w.useEffect(()=>a?r!=="open"?(n(),c(!1),da):t.current?da:(t.current=setTimeout(()=>{t.current=null,c(!1)}),n):da,[r,a,n]);const u=q(d=>{d.propertyName==="height"&&(s(),r==="close"&&o())},[r,o,s]),f=Lj({isAnimatingOpenOnMount:a,animate:e.animate,placeholder:e.placeholder});return le.createElement(e.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":i,onTransitionEnd:u,ref:e.innerRef})};var Mj=le.memo(Fj);class Bj extends le.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const zj=e=>{const t=w.useContext(yl);t||$();const{contextId:n,isMovementAllowed:r}=t,s=w.useRef(null),o=w.useRef(null),{children:i,droppableId:a,type:c,mode:u,direction:f,ignoreContainerClipping:d,isDropDisabled:p,isCombineEnabled:h,snapshot:m,useClone:y,updateViewportMaxScroll:x,getContainerForClone:v}=e,g=q(()=>s.current,[]),b=q((k=null)=>{s.current=k},[]);q(()=>o.current,[]);const _=q((k=null)=>{o.current=k},[]),j=q(()=>{r()&&x({maxScroll:_y()})},[r,x]);Oj({droppableId:a,type:c,mode:u,direction:f,isDropDisabled:p,isCombineEnabled:h,ignoreContainerClipping:d,getDroppableRef:g});const N=ce(()=>le.createElement(Bj,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:k,data:R,animate:I})=>le.createElement(Mj,{placeholder:R,onClose:k,innerRef:_,animate:I,contextId:n,onTransitionEnd:j})),[n,j,e.placeholder,e.shouldAnimatePlaceholder,_]),D=ce(()=>({innerRef:b,placeholder:N,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,N,b]),S=y?y.dragging.draggableId:null,C=ce(()=>({droppableId:a,type:c,isUsingCloneFor:S}),[a,S,c]);function E(){if(!y)return null;const{dragging:k,render:R}=y,I=le.createElement(zy,{draggableId:k.draggableId,index:k.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(B,W)=>R(B,W,k));return D0.createPortal(I,v())}return le.createElement(Yu.Provider,{value:C},i(D,m),E())};function $j(){return document.body||$(),document.body}const Sp={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:$j},Vy=e=>{let t={...e},n;for(n in Sp)e[n]===void 0&&(t={...t,[n]:Sp[n]});return t},fa=(e,t)=>e===t.droppable.type,Cp=(e,t)=>t.draggables[e.draggable.id],Uj=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=ze(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),r=ze((o,i,a,c,u,f)=>{const d=u.descriptor.id;if(u.descriptor.droppableId===o){const m=f?{render:f,dragging:n(u.descriptor)}:null,y={isDraggingOver:a,draggingOverWith:a?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:m}}if(!i)return t;if(!c)return e;const h={isDraggingOver:a,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}});return(o,i)=>{const a=Vy(i),c=a.droppableId,u=a.type,f=!a.isDropDisabled,d=a.renderClone;if(eo(o)){const p=o.critical;if(!fa(u,p))return t;const h=Cp(p,o.dimensions),m=yt(o.impact)===c;return r(c,f,m,m,h,d)}if(o.phase==="DROP_ANIMATING"){const p=o.completed;if(!fa(u,p.critical))return t;const h=Cp(p.critical,o.dimensions);return r(c,f,My(p.result)===c,yt(p.impact)===c,h,d)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const p=o.completed;if(!fa(u,p.critical))return t;const h=yt(p.impact)===c,m=!!(p.impact.at&&p.impact.at.type==="COMBINE"),y=p.critical.droppable.id===c;return h?m?e:t:y?e:t}return t}},Wj={updateViewportMaxScroll:tk},xl=$g(Uj,Wj,(e,t,n)=>({...Vy(n),...e,...t}),{context:qu,areStatePropsEqual:Fy})(zj),Vj="tms_state_sync";let pa=null;function Hj(){return pa||(pa=new BroadcastChannel(Vj)),pa}function Hy(e,t=null){Hj().postMessage(t?{type:e,view:t}:{type:e})}function Gj(){Hy("REFRESH_ALL")}function ar(e){if(!e){console.warn("[broadcastRefreshView] View name is required");return}Hy("REFRESH_VIEW",e)}const qj=({initialAssignments:e=[],orders:t=[],enrichedRuns:n=[],onDataRefresh:r,autoRefreshInterval:s=0})=>{console.log(" useAssignments called with:",{initialAssignments:e,orders:t,enrichedRuns:n});const{data:o,error:i,fetchData:a,createResource:c,deleteResource:u,setData:f}=st("/api/assignments","assignment"),d=w.useRef(r);w.useEffect(()=>{d.current=r},[r]),w.useEffect(()=>{e!=null&&e.length?f(e):f([])},[e,f]),w.useEffect(()=>{if(!s||s<=0)return;const v=setInterval(()=>{console.log(` Auto-refresh assignments (${s} ms)`),a(),d.current&&d.current()},s);return()=>clearInterval(v)},[s,a]);const p=w.useMemo(()=>o.length?o.map(v=>{var _;const g=t.find(j=>j.id===v.order_id),b=n.find(j=>j.id===v.run_id);return{...v,order_number:(g==null?void 0:g.order_number)||(g==null?void 0:g.customer_reference)||`ID: ${g==null?void 0:g.id}`,run_text:(b==null?void 0:b.displayText)||"N/A",recipient_name:((_=g==null?void 0:g.recipient_details)==null?void 0:_.name)||"N/A"}}):[],[o,t,n]),h=w.useMemo(()=>{const v=new Set(o.map(g=>g.order_id));return t.filter(g=>g.status==="nowe"&&!v.has(g.id))},[t,o]),m=w.useCallback(async v=>{const{source:g,destination:b,draggableId:_}=v;if(!(!b||g.droppableId===b.droppableId)&&g.droppableId==="orders"&&b.droppableId!=="orders"){const j=_.startsWith("order-")?_.slice(6):_,N=Number(j);if(Number.isNaN(N))return;const D=b.droppableId.startsWith("run-active-")?Number(b.droppableId.replace("run-active-","")):Number(b.droppableId),S=t.find(C=>C.id===N);if(!S)return;try{await c({order_id:N,run_id:D},(C,E)=>{var R;const k=n.find(I=>I.id===C.run_id);return{...C,id:E,order_number:S.customer_reference||`ID: ${S.id}`,run_text:(k==null?void 0:k.displayText)||"N/A",recipient_name:((R=S.recipient_details)==null?void 0:R.name)||"N/A"}}),d.current&&d.current(),ar("assignments"),ar("orders")}catch(C){console.error(" Failed to create assignment:",C)}}},[c,t,n]),y=w.useCallback(async v=>{console.log(" Deleting assignment:",v);try{await u(v),ar("assignments"),ar("orders"),console.log(" Assignment deleted successfully")}catch(g){console.error(" Error deleting assignment:",g)}},[u]),x=w.useCallback(async(v,g)=>{var b,_;try{return await Q.post("/api/assignments/bulk",{run_id:v,order_ids:g}),d.current&&d.current(),ar("assignments"),ar("orders"),{success:!0,message:`${g.length} orders assigned successfully.`}}catch(j){return console.error("Bulk assign failed:",j),{success:!1,message:((_=(b=j.response)==null?void 0:b.data)==null?void 0:_.error)||"Failed to bulk assign orders."}}},[]);return{assignments:p,availableOrders:h,handleDragEnd:m,handleDeleteAssignment:y,bulkAssignOrders:x,error:i}},Gy=w.createContext(null),qy=()=>{const e=w.useContext(Gy);if(!e)throw new Error("usePlanIt must be used within a PlanItProvider");return e},Kj=({children:e,initialData:t={},runActions:n,onAssignmentCreated:r,onDeleteRequest:s,bulkAssignOrders:o})=>{const{showToast:i}=ve(),{orders:a=[],runs:c=[],drivers:u=[],trucks:f=[],trailers:d=[],pallets:p=[],assignments:h=[],zones:m=[]}=t,[y,x]=w.useState(()=>new Date().toISOString().split("T")[0]),[v,g]=w.useState(null),[b,_]=w.useState(null),[j,N]=w.useState(!1),[D,S]=w.useState([]),[C,E]=w.useState({visible:!1,x:0,y:0}),[k,R]=w.useState(()=>{const z=localStorage.getItem("autoRefreshEnabled");return z?JSON.parse(z):!0}),[I,B]=w.useState(!1),W=w.useRef(!1),U=w.useCallback(async()=>{if(!W.current){W.current=!0,B(!0);try{r&&await r()}catch(z){console.error(" Error during manual refresh:",z),i("Failed to refresh data.","error")}finally{setTimeout(()=>{B(!1),W.current=!1},500)}}},[r,i]);w.useEffect(()=>{if(localStorage.setItem("autoRefreshEnabled",JSON.stringify(k)),!k)return;const K=setInterval(()=>{console.log(" Auto-refresh triggered..."),U()},3e4);return()=>clearInterval(K)},[k,U]);const V=w.useMemo(()=>new Map(u.map(z=>[z.id,z])),[u]),A=w.useMemo(()=>new Map(f.map(z=>[z.id,z])),[f]),O=w.useMemo(()=>new Map(d.map(z=>[z.id,z])),[d]),L=w.useMemo(()=>new Map(a.map(z=>[z.id,z])),[a]),T=w.useMemo(()=>{const z=new Map;for(const K of h)z.has(K.run_id)||z.set(K.run_id,[]),z.get(K.run_id).push(K);return z},[h]),F=w.useMemo(()=>c.filter(z=>{var K;return(K=z.run_date)==null?void 0:K.startsWith(y)}).map(z=>{const K=V.get(z.driver_id),Y=A.get(z.truck_id),ie=z.trailer_id?O.get(z.trailer_id):null,Mn=(T.get(z.id)||[]).map(Jt=>L.get(Jt.order_id)).filter(Boolean),{totalKilos:Fe,totalSpaces:St}=Mn.reduce((Jt,Jr)=>{var Xt,ft;return Jt.totalKilos+=((Xt=Jr.cargo_details)==null?void 0:Xt.total_kilos)||0,Jt.totalSpaces+=((ft=Jr.cargo_details)==null?void 0:ft.total_spaces)||0,Jt},{totalKilos:0,totalSpaces:0}),Ne=(Y==null?void 0:Y.type_of_truck)==="rigid"||(Y==null?void 0:Y.type_of_truck)==="tractor"&&ie,Ge=Ne&&((Y==null?void 0:Y.type_of_truck)==="rigid"?Y.max_payload_kg:ie==null?void 0:ie.max_payload_kg),Ot=Ne&&((Y==null?void 0:Y.type_of_truck)==="rigid"?Y.pallet_capacity:ie==null?void 0:ie.max_spaces);return{...z,displayText:`${K?`${K.first_name} ${K.last_name}`:"No Driver"} - ${Y?Y.registration_plate:"No Truck"} ${ie?`+ ${ie.registration_plate}`:""}`,totalKilos:Fe,totalSpaces:St,maxPayload:Ge,maxPallets:Ot,hasCapacity:Ne}}),[c,y,V,A,O,T,L]),{assignments:H,availableOrders:re,handleDragEnd:ae,handleDeleteAssignment:de,error:we}=qj({initialAssignments:h,orders:a,enrichedRuns:F,onDataRefresh:U});w.useEffect(()=>{we&&(console.error(" useAssignments error:",we),i(we,"error"))},[we,i]);const J=w.useMemo(()=>F.find(z=>z.id===v)||null,[v,F]),ne=w.useMemo(()=>J?H.filter(z=>z.run_id===J.id).map(z=>{const K=L.get(z.order_id);return K?{...K,assignmentId:z.id}:null}).filter(Boolean):[],[J,H,L]),he=w.useCallback(z=>{_(z),N(!0)},[]),Z=w.useCallback(()=>{_(null),N(!0)},[]),ee=w.useCallback(async z=>{var K,Y;try{const ie={...z,trailer_id:z.trailer_id||null};b?(await n.update(b.id,ie),i("Run updated successfully!","success")):(await n.create(ie),i("Run created successfully!","success")),N(!1),_(null),U(),ie!=null&&ie.run_date&&ie.run_date!==y&&(x(ie.run_date),g(null))}catch(ie){console.error(" Error saving run:",ie),i(`Failed to save run: ${((Y=(K=ie==null?void 0:ie.response)==null?void 0:K.data)==null?void 0:Y.message)||ie.message}`,"error")}},[b,n,i,U,y]),ge=w.useCallback(z=>{s(`Are you sure you want to delete run: ${z.displayText}?`,async()=>{var K,Y;try{await n.delete(z.id),i(`Run "${z.displayText}" deleted.`,"success"),U()}catch(ie){console.error(" Error deleting run:",ie),i(((Y=(K=ie.response)==null?void 0:K.data)==null?void 0:Y.error)||"Failed to delete run.","error")}})},[n,s,i,U]),ye=w.useCallback(async z=>{try{await de(z),U()}catch(K){console.error(" Error during assignment deletion:",K)}},[de,U]),fe=w.useCallback(async()=>{if(!v)return i("Please select an active run first.","error");if(D.length===0)return i("No orders selected for assignment.","error");try{const K=await o({run_id:v,order_ids:D});K.success?(i(K.message,"success"),S([]),U()):i(K.message,"error")}catch(z){console.error(" Bulk assign failed:",z),i("Unexpected error during bulk assignment.","error")}},[v,D,o,i,U]),te=w.useCallback(()=>{if(D.length===0)return i("No orders selected for deletion.","error");const z=async()=>{var K,Y;try{await Q.delete("/api/orders/bulk",{data:{ids:D}}),i(`${D.length} orders deleted.`,"success"),S([]),U()}catch(ie){console.error(" Bulk delete failed:",ie),i(((Y=(K=ie.response)==null?void 0:K.data)==null?void 0:Y.error)||"Failed to delete orders.","error")}};s(`Are you sure you want to delete ${D.length} orders? This action cannot be undone.`,z)},[D,s,i,U]),Le=w.useMemo(()=>({selectedDate:y,activeRunId:v,editingRun:b,isFormVisible:j,selectedOrderIds:D,contextMenu:C,enrichedRuns:F,availableOrders:re,activeRun:J,ordersForActiveRun:ne,autoRefreshEnabled:k,isRefreshing:I,setSelectedDate:x,setActiveRunId:g,setIsFormVisible:N,setSelectedOrderIds:S,setContextMenu:E,setAutoRefreshEnabled:R,handleEditRun:he,handleAddNewRun:Z,handleSaveRun:ee,handleDeleteRun:ge,handleDragEnd:ae,handleDeleteAssignment:ye,handleBulkAssign:fe,handleBulkDelete:te,triggerRefresh:U,initialData:{drivers:u,trucks:f,trailers:d,zones:m,pallets:p}}),[y,v,b,j,D,C,F,re,J,ne,k,I,he,Z,ee,ge,ae,ye,fe,te,U,u,f,d,m,p]);return l.jsx(Gy.Provider,{value:Le,children:e})},zi=(e,t)=>{var r;if(!e||!((r=t==null?void 0:t.postcode_patterns)!=null&&r.length))return!1;const n=e.split(" ")[0].toUpperCase();return t.postcode_patterns.some(s=>{const o=s.replace(/\s/g,"").toUpperCase(),i=o.endsWith("%")?o.slice(0,-1):o;return n.startsWith(i)})},Qj=e=>w.useMemo(()=>e.find(t=>t.is_home_zone),[e]),Ky=le.memo(({order:e,columns:t,isSelected:n,handleClick:r,handleContextMenu:s,handleMouseEnter:o,handleMouseLeave:i,index:a})=>e?l.jsx(Ju,{draggableId:`order-${e.id}`,index:a,children:(c,u)=>l.jsx("div",{ref:c.innerRef,...c.draggableProps,...c.dragHandleProps,style:{...c.draggableProps.style,backgroundColor:u.isDragging?"var(--primary-color-light)":"transparent"},className:`planit-grid-row ${n?"highlighted-row":""}`,onClick:f=>r(f,e.id),onContextMenu:f=>s(f,e.id),onMouseEnter:f=>o(f,e),onMouseLeave:i,role:"button",tabIndex:0,"aria-selected":n,"aria-label":`Order ${e.order_number||e.customer_reference||e.id}`,onKeyDown:f=>{(f.key==="Enter"||f.key===" ")&&(f.preventDefault(),r(f,e.id))},children:t.map((f,d)=>l.jsx("div",{className:"planit-grid-cell",children:f.accessor(e)},`${e.id}-${d}`))})}):null);Ky.displayName="OrderRow";const Yj=({orders:e,activeTab:t,selectedDate:n,homeZone:r})=>{const s=w.useMemo(()=>safeOrders.map(o=>{var i,a;return{...o,totalKilos:((i=o.cargo_details)==null?void 0:i.total_kilos)||0,totalSpaces:((a=o.cargo_details)==null?void 0:a.total_spaces)||0}}),[safeOrders]);return w.useMemo(()=>{const o=s.filter(i=>{if(!n)return!0;const a=t==="collections"?i.loading_date_time:i.unloading_date_time;if(!a)return!1;try{return new Date(a).toISOString().split("T")[0]===n}catch{return!1}});return r?o.filter(i=>{var a,c;return zi(t==="collections"?(a=i.sender_details)==null?void 0:a.postCode:(c=i.recipient_details)==null?void 0:c.postCode,r)}):t==="delivery"?[]:o},[t,s,r,n])},Jj=()=>{const[e,t]=w.useState({visible:!1,content:null,position:{x:0,y:0}}),n=w.useCallback((s,o)=>{const i=s.currentTarget.getBoundingClientRect();t({visible:!0,content:o,position:{x:i.left+window.scrollX,y:i.bottom+window.scrollY}})},[]),r=w.useCallback(()=>{t(s=>s.visible?{visible:!1,content:null,position:{x:0,y:0}}:s)},[]);return{tooltip:e,showTooltip:n,hideTooltip:r}},Uo=[{header:"Consignment #",accessor:e=>e.order_number||e.customer_reference||`ID: ${e.id}`},{header:"Loading Company",accessor:e=>{var t;return((t=e.sender_details)==null?void 0:t.name)||"-"}},{header:"Loading Address",accessor:e=>{var t;return((t=e.sender_details)==null?void 0:t.address1)||"-"}},{header:"Loading PC",accessor:e=>{var t;return((t=e.sender_details)==null?void 0:t.postCode)||"-"}},{header:"Unloading Company",accessor:e=>{var t;return((t=e.recipient_details)==null?void 0:t.name)||"-"}},{header:"Unloading Address",accessor:e=>{var t;return((t=e.recipient_details)==null?void 0:t.address1)||"-"}},{header:"Unloading PC",accessor:e=>{var t;return((t=e.recipient_details)==null?void 0:t.postCode)||"-"}},{header:"Weight",accessor:e=>e.totalKilos>0?e.totalKilos:"-"},{header:"Spaces",accessor:e=>e.totalSpaces>0?e.totalSpaces:"-"}],Xj=({orders:e,homeZone:t,selectedDate:n,onRefresh:r})=>{const{selectedOrderIds:s,setSelectedOrderIds:o,setContextMenu:i}=qy(),[a,c]=w.useState("delivery"),{tooltip:u,showTooltip:f,hideTooltip:d}=Jj(),[p,h]=w.useState(!1),m=3e4,y=w.useRef(null),x=w.useCallback(()=>{typeof r=="function"&&r()},[r]);w.useEffect(()=>(p&&typeof r=="function"&&(y.current=setInterval(()=>{r()},m)),()=>{y.current&&clearInterval(y.current)}),[p,r]);const v={CONSIGNMENT:0,UNLOADING_COMPANY:4},g=w.useMemo(()=>a==="delivery"?[Uo[v.CONSIGNMENT],...Uo.slice(v.UNLOADING_COMPANY)]:[...Uo.slice(0,v.UNLOADING_COMPANY),...Uo.slice(7)],[a]),b=Yj({orders:e,activeTab:a,selectedDate:n,homeZone:t}),_=w.useCallback((S,C)=>{const{ctrlKey:E,metaKey:k}=S;o(E||k?R=>R.includes(C)?R.filter(I=>I!==C):[...R,C]:[C])},[o]),j=w.useCallback((S,C)=>{S.preventDefault(),s.includes(C)||o([C]),i({visible:!0,x:S.clientX,y:S.clientY})},[s,o,i]),N=w.useCallback((S,C)=>{var E,k,R,I,B,W;return f(S,l.jsxs(l.Fragment,{children:[l.jsx("strong",{children:"Loading:"})," ",((E=C.sender_details)==null?void 0:E.name)||"-",", ",((k=C.sender_details)==null?void 0:k.address1)||"-",", ",((R=C.sender_details)==null?void 0:R.postCode)||"-",l.jsx("br",{}),l.jsx("strong",{children:"Unloading:"})," ",((I=C.recipient_details)==null?void 0:I.name)||"-",", ",((B=C.recipient_details)==null?void 0:B.address1)||"-",", ",((W=C.recipient_details)==null?void 0:W.postCode)||"-"]}))},[f]),D=w.useCallback(()=>{d()},[d]);return l.jsxs("div",{className:"card planit-section",children:[l.jsxs("div",{className:"planit-section-header",children:[l.jsx("h3",{children:"Available Orders"}),l.jsxs("div",{className:"flex items-center gap-4",style:{marginLeft:"auto"},children:[l.jsxs("div",{className:"tabs-container",children:[l.jsx("button",{className:`tab-button ${a==="delivery"?"active":""}`,onClick:()=>c("delivery"),children:"Delivery"}),l.jsx("button",{className:`tab-button ${a==="collections"?"active":""}`,onClick:()=>c("collections"),children:"Collections"})]}),l.jsxs("div",{className:"auto-refresh-controls",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.25rem",cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:p,onChange:S=>h(S.target.checked)}),"Auto refresh"]}),l.jsx("button",{className:"btn-secondary btn-sm",onClick:x,title:"Refresh now",children:l.jsx(ho,{size:14})})]})]})]}),l.jsxs("div",{className:"planit-list planit-table-grid",children:[l.jsx("div",{className:"planit-grid-header",children:g.map(S=>l.jsx("div",{children:S.header},S.header))}),l.jsx("div",{className:"planit-grid-body",children:b.length>0?l.jsx(xl,{droppableId:"orders",renderClone:(S,C,E)=>{const k=b[E.source.index];return k?l.jsx("div",{ref:S.innerRef,...S.draggableProps,...S.dragHandleProps,style:{...S.draggableProps.style,margin:0,background:"var(--primary-color-dark)",color:"white",padding:"0.5rem 0.75rem",borderRadius:"4px"},className:"planit-grid-row",children:l.jsx("div",{className:"planit-grid-cell",children:k.order_number||k.customer_reference})}):null},children:(S,C)=>l.jsxs("div",{...S.droppableProps,ref:S.innerRef,className:C.isDraggingOver?"is-dragging-over":"",style:{minHeight:"200px"},children:[b.map((E,k)=>l.jsx(Ky,{order:E,columns:g,isSelected:s.includes(E.id),handleClick:_,handleContextMenu:j,handleMouseEnter:N,handleMouseLeave:D,index:k},E.id)),S.placeholder]})}):l.jsx("div",{className:"planit-empty-state",children:"No orders available for the selected criteria."})}),u.visible&&l.jsx("div",{className:"tooltip",style:{top:`${u.position.y+15}px`,left:`${u.position.x+15}px`},children:u.content})]})]})},Zj=le.memo(Xj),kp=({current:e,max:t,label:n,icon:r})=>{if(t==null)return null;const s=t>0?e/t*100:0,o=s>100;return l.jsxs("div",{className:"capacity-indicator",children:[l.jsxs("div",{className:"capacity-text",children:[r,l.jsxs("span",{children:[n,": ",e," / ",t]})]}),l.jsx("div",{className:"capacity-bar-container",children:l.jsx("div",{className:`capacity-bar ${o?"overloaded":""}`,style:{width:`${Math.min(s,100)}%`}})})]})},eN=({runs:e=[],onPopOut:t,onDelete:n,onEdit:r,handleAddNewRun:s,selectedDate:o,onDateChange:i,activeRunId:a,onRunSelect:c,isLoading:u})=>{const f=le.useCallback((p,h)=>{p.stopPropagation(),n(h)},[n]),d=le.useCallback((p,h)=>{p.stopPropagation(),r(h)},[r]);return l.jsxs("div",{className:"card planit-section",children:[l.jsxs("div",{className:"planit-section-header",children:[l.jsx("h3",{children:"Available Runs"}),l.jsx("div",{className:"form-group",style:{margin:0,minWidth:"160px"},children:l.jsx("input",{type:"date",value:o,onChange:p=>i(p.target.value)})}),l.jsxs("button",{onClick:s,className:"btn-primary",style:{marginLeft:"auto"},children:[l.jsx(rr,{size:16})," Add Run"]})]}),l.jsx("div",{className:"planit-list",children:u?l.jsx("div",{className:"loading",style:{padding:"2rem"},children:"Loading runs..."}):e.length>0?e.map(p=>l.jsx(xl,{droppableId:String(p.id),children:h=>l.jsxs("div",{ref:h.innerRef,...h.droppableProps,className:`planit-list-item droppable-combination with-actions ${p.id===a?"active-run":""}`,onClick:()=>c(p.id),children:[l.jsxs("div",{className:"planit-item-text",children:[l.jsx("span",{children:p.displayText}),p.hasCapacity?l.jsxs("div",{className:"run-capacity-details",children:[l.jsx(kp,{current:p.totalKilos,max:p.maxPayload,label:"kg",icon:l.jsx(ks,{size:14})}),l.jsx(kp,{current:p.totalSpaces,max:p.maxPallets,label:"spaces",icon:l.jsx(Cs,{size:14})})]}):l.jsxs("div",{className:"run-stats",style:{marginTop:"0.5rem"},children:[l.jsxs("span",{children:[l.jsx(ks,{size:14})," ",p.totalKilos||0," kg"]}),l.jsxs("span",{children:[l.jsx(Cs,{size:14})," ",p.totalSpaces||0," spaces"]})]})]}),l.jsxs("div",{className:"planit-item-actions",children:[l.jsx("button",{className:"btn-icon",title:"Edit Run",onClick:m=>d(m,p),children:l.jsx(mo,{size:16})}),l.jsx("button",{className:"btn-icon btn-danger",title:"Delete Run",onClick:m=>f(m,p),children:l.jsx(Gr,{size:16})})]}),h.placeholder]},p.id)},p.id)):l.jsx("p",{className:"no-results-message",style:{padding:"2rem"},children:"No runs found for the selected date."})})]})},tN=w.memo(eN),Qy=w.createContext(null),nN=()=>{const e=w.useContext(Qy);if(e===null)throw new Error("usePopOut must be used within a PopOutProvider");return e},rN=({children:e})=>{const[t,n]=w.useState({orders:[],runs:[],assignments:[],drivers:[],trucks:[],trailers:[],zones:[]});w.useEffect(()=>{try{const i=sessionStorage.getItem("popOutData");if(i){const a=JSON.parse(i);a&&typeof a=="object"&&n(c=>({...c,...a}))}}catch(i){console.warn(" Failed to parse popOutData from sessionStorage:",i),sessionStorage.removeItem("popOutData")}},[]),w.useEffect(()=>{try{sessionStorage.setItem("popOutData",JSON.stringify(t))}catch(i){console.error(" Failed to save popOutData to sessionStorage:",i)}},[t]);const r=w.useCallback(i=>{n(a=>({...a,...i}))},[]),s=w.useCallback(()=>{n({orders:[],runs:[],assignments:[],drivers:[],trucks:[],trailers:[],zones:[]}),sessionStorage.removeItem("popOutData")},[]),o=w.useMemo(()=>({popOutData:t,setPopOutData:n,updatePopOutData:r,resetPopOutData:s}),[t,r,s]);return l.jsx(Qy.Provider,{value:o,children:e})},Ep=({current:e,max:t,label:n,icon:r})=>{const s=Number.isFinite(e)?e:0,o=Number.isFinite(t)?t:0;if(o==null)return null;const i=o>0?s/o*100:0,a=i>100;return l.jsxs("div",{className:"capacity-indicator",children:[l.jsxs("div",{className:"capacity-text",children:[r,l.jsxs("span",{children:[n,": ",e," / ",t]})]}),l.jsx("div",{className:"capacity-bar-container",children:l.jsx("div",{className:`capacity-bar ${a?"overloaded":""}`,style:{width:`${Math.min(i,100)}%`}})})]})},sN=({run:e,assignedOrders:t=[],onDeselect:n,onDeleteAssignment:r,homeZone:s,triggerRefresh:o})=>{if(!e)return null;const{showToast:i}=ve(),[a,c]=le.useState(!1),f={planned:{label:"Planned",className:"status-planned"},in_progress:{label:"In Progress",className:"status-in_progress"},completed:{label:"Completed",className:"status-completed"}}[e.status]??{label:e.status.replace(/_/g," "),className:`status-${e.status}`},d=async h=>{var m,y;c(!0);try{await Q.patch(`/api/runs/${e.id}/status`,{status:h}),i(`Run status updated to "${h.replace("_"," ")}".`,"success"),o()}catch(x){console.error("Failed to update run status:",x);const v=((y=(m=x.response)==null?void 0:m.data)==null?void 0:y.message)||"Failed to update run status.";i(v,"error")}finally{c(!1)}},p=async()=>{var h,m;try{const y=await Q.get(`/api/runs/${e.id}/manifest`,{responseType:"blob"}),x=window.URL.createObjectURL(new Blob([y.data],{type:"application/pdf"})),v=document.createElement("a");v.href=x,v.setAttribute("download",`manifest_run_${e.id}.pdf`),document.body.appendChild(v),v.click(),v.remove(),window.URL.revokeObjectURL(x),i("Manifest generated successfully!","success")}catch(y){console.error("Failed to generate manifest:",y);const x=((m=(h=y.response)==null?void 0:h.data)==null?void 0:m.message)||"Failed to generate manifest.";i(x,"error")}};return l.jsxs("div",{className:"card planit-section active-run-view",children:[l.jsxs("div",{className:"planit-section-header",children:[l.jsx("h3",{children:e.displayText}),l.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[l.jsx("span",{className:`status ${f.className}`,children:f.label}),l.jsx("button",{type:"button",className:"btn-icon",title:"Close View","aria-label":"Close view",onClick:n,style:{marginLeft:"1rem"},children:l.jsx(wt,{size:18})})]})]}),l.jsx("div",{className:"run-capacity-details",style:{padding:"0 1rem 1rem 1rem",borderBottom:"1px solid var(--border-color)"},children:e.hasCapacity?l.jsxs(l.Fragment,{children:[l.jsx(Ep,{current:e.totalKilos,max:e.maxPayload,label:"kg",icon:l.jsx(ks,{size:14})}),l.jsx(Ep,{current:e.totalSpaces,max:e.maxPallets,label:"spaces",icon:l.jsx(Cs,{size:14})})]}):l.jsxs("div",{className:"run-stats",children:[l.jsxs("span",{children:[l.jsx(ks,{size:14})," ",e.totalKilos||0," kg"]}),l.jsxs("span",{children:[l.jsx(Cs,{size:14})," ",e.totalSpaces||0," spaces"]})]})}),l.jsxs("div",{className:"form-actions",style:{padding:"1rem",justifyContent:"center"},children:[e.status==="planned"&&l.jsxs("button",{type:"button",onClick:()=>d("in_progress"),className:"btn-primary",children:[l.jsx(V_,{size:16})," Start Run"]}),e.status==="in_progress"&&l.jsxs("button",{type:"button",onClick:()=>d("completed"),className:"btn-primary",children:[l.jsx(ku,{size:16})," Complete Run"]}),(e.status==="in_progress"||e.status==="completed")&&l.jsxs("button",{type:"button",onClick:p,className:"btn-secondary","aria-label":"Download manifest",children:[l.jsx(dl,{size:16})," Download Manifest"]})]}),l.jsx("div",{className:"planit-list-wrapper",children:l.jsx(xl,{droppableId:`run-active-${e.id}`,children:h=>l.jsxs("div",{...h.droppableProps,ref:h.innerRef,className:"planit-list",children:[t.map((m,y)=>{var g;const v=zi((g=m.recipient_details)==null?void 0:g.postCode,s)?"delivery":"collection";return l.jsx(Ju,{draggableId:`assigned-order-${m.id}`,index:y,children:b=>{var _,j;return l.jsxs("div",{ref:b.innerRef,...b.draggableProps,...b.dragHandleProps,className:"planit-list-item with-actions",style:{position:"relative",paddingLeft:"1.5rem"},children:[l.jsx("div",{className:`op-type-indicator ${v}`}),l.jsxs("div",{className:"planit-item-text",style:{display:"flex",flexDirection:"column",gap:"0.25rem",flexGrow:1},children:[l.jsxs("strong",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[v==="delivery"?l.jsx(y_,{size:16}):l.jsx(w_,{size:16}),m.order_number||m.customer_reference]}),l.jsx("div",{style:{fontSize:"0.85em",color:"var(--text-muted-color)"},children:(()=>{const N=v==="delivery"?m.recipient_details:m.sender_details;return l.jsxs("span",{children:[(N==null?void 0:N.name)??"",", ",(N==null?void 0:N.address1)??"",", ",(N==null?void 0:N.postCode)??""]})})()}),l.jsxs("div",{className:"run-stats",style:{fontSize:"0.85em",gap:"1rem"},children:[l.jsxs("span",{children:[l.jsx(ks,{size:12})," ",((_=m.cargo_details)==null?void 0:_.total_kilos)||0," kg"]}),l.jsxs("span",{children:[l.jsx(Cs,{size:12})," ",((j=m.cargo_details)==null?void 0:j.total_spaces)||0," spaces"]})]})]}),l.jsx("div",{className:"planit-item-actions",children:l.jsx("button",{type:"button",className:"btn-icon btn-danger",title:"Unassign Order","aria-label":"Unassign order",onClick:()=>r(m.assignmentId),children:l.jsx(Gr,{size:16})})})]})}},`assigned-order-${m.id}`)}),h.placeholder]})})})]})},oN=w.memo(sN),Yy=e=>{const t=nN(),n=!!t,r=n?t:e,{isPopOut:s=n,...o}=r,i=w.useCallback(a=>{const c={...o};Object.keys(c).forEach(u=>{typeof c[u]=="function"&&delete c[u]}),sessionStorage.setItem("popOutData",JSON.stringify(c)),window.open("/planit/popout","PlanIt View","width=1200,height=800,resizable=yes,scrollbars=yes")},[o]);return l.jsx(Kj,{initialData:o,...o,children:l.jsx(iN,{isPopOut:s,handlePopOut:i})})},iN=({isPopOut:e,handlePopOut:t})=>{const{selectedDate:n,activeRunId:r,editingRun:s,isFormVisible:o,selectedOrderIds:i,contextMenu:a,handleAddNewRun:c,setSelectedDate:u,setActiveRunId:f,setIsFormVisible:d,handleSaveRun:p,handleBulkAssign:h,handleBulkDelete:m,setContextMenu:y,triggerRefresh:x,handleEditRun:v,enrichedRuns:g,availableOrders:b,activeRun:_,ordersForActiveRun:j,handleDragEnd:N,handleDeleteAssignment:D,handleDeleteRun:S,isLoadingRuns:C,initialData:{drivers:E,trucks:k,trailers:R,zones:I,pallets:B}}=qy();if(!E||!k||!R||!I)return l.jsx("div",{className:"loading",children:"Loading planning data..."});const W=Qj(I);le.useEffect(()=>{const A=()=>y({visible:!1,x:0,y:0});return window.addEventListener("click",A),()=>window.removeEventListener("click",A)},[y]);const U=w.useCallback(A=>{f(O=>O===A?null:A)},[f]),V=w.useCallback(()=>f(null),[f]);return l.jsxs(Ly,{onDragEnd:N,children:[o&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"modal-backdrop",onClick:()=>d(!1)}),l.jsx(Dg,{itemToEdit:s??null,onSuccess:p,onCancel:()=>d(!1),drivers:E||[],trucks:k||[],trailers:R||[]})]}),l.jsx("div",{className:"planit-container-resizable",children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"1rem",height:"100%"},children:[l.jsx(Zj,{orders:b,zones:I||[],homeZone:W,selectedDate:n,onRefresh:x,onPopOut:t}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",minHeight:0},children:[a.visible&&l.jsxs("div",{className:"context-menu",style:{top:a.y,left:a.x},children:[l.jsx("button",{type:"button",onClick:h,disabled:!r,"aria-label":"Assign selected to active run",children:"Assign to Active Run"}),i.length>1&&l.jsxs("button",{type:"button",onClick:m,className:"btn-danger","aria-label":`Delete ${i.length} orders`,children:["Delete ",i.length," Orders"]})]}),l.jsx(tN,{runs:g,onPopOut:t,onDelete:S,handleAddNewRun:c,onEdit:v,selectedDate:n,onDateChange:u,activeRunId:r,isLoading:C,onRunSelect:U}),l.jsx(oN,{run:_,assignedOrders:j||[],onDeselect:V,onDeleteAssignment:D,homeZone:W,triggerRefresh:x})]})]})})]})},lN=({invoices:e=[],onRefresh:t})=>{const{showToast:n}=ve(),r=Array.isArray(e)?e:[],s=[{key:"invoice_number",header:"Invoice #",icon:l.jsx(dl,{size:16}),sortable:!0},{key:"customer_name",header:"Customer",icon:l.jsx(Eg,{size:16}),sortable:!0},{key:"issue_date",header:"Issue Date",icon:l.jsx(Cg,{size:16}),render:i=>new Date(i.issue_date).toLocaleDateString(),sortable:!0},{key:"due_date",header:"Due Date",render:i=>new Date(i.due_date).toLocaleDateString(),sortable:!0},{key:"total_amount",header:"Amount",icon:l.jsx(qs,{size:16}),render:i=>`${parseFloat(i.total_amount).toFixed(2)}`,sortable:!0},{key:"status",header:"Status",render:i=>l.jsx("span",{className:`status status-${i.status}`,children:i.status}),sortable:!0}],o=async i=>{try{const a=await Q.get(`/api/invoices/${i}/pdf`,{responseType:"blob"}),c=window.URL.createObjectURL(new Blob([a.data])),u=document.createElement("a");u.href=c,u.setAttribute("download",`invoice_${i}.pdf`),document.body.appendChild(u),u.click(),n("Invoice PDF downloaded successfully.","success"),u.remove(),window.URL.revokeObjectURL(c)}catch{n("Failed to download invoice PDF.","error")}};return l.jsx(Yt,{items:r,columns:s,onRefresh:t,title:"Generated Invoices",filterPlaceholder:"Filter invoices...",filterKeys:["invoice_number","customer_name","status"],initialSortKey:"issue_date",customActions:[{icon:l.jsx(po,{size:16}),onClick:i=>o(i.id),title:"Download PDF"}]})},aN=({orders:e=[],customers:t=[],surcharges:n=[],invoices:r=[],onEdit:s,onRefresh:o,invoiceActions:i})=>{const{showToast:a}=ve(),[c,u]=w.useState("overview"),[f,d]=w.useState(""),[p,h]=w.useState(()=>({start:new Date(new Date().setMonth(new Date().getMonth()-1)).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]})),[m,y]=w.useState({visible:!1,x:0,y:0,selectedOrder:null}),x=w.useMemo(()=>new Map(t.map(k=>[k.id,k])),[t]),v=w.useMemo(()=>new Map(n.map(k=>[k.code,k])),[n]);w.useEffect(()=>{const k=()=>y({visible:!1,x:0,y:0,selectedOrder:null});return window.addEventListener("click",k),()=>window.removeEventListener("click",k)},[]);const g=w.useCallback(k=>{var I;if(!((I=k==null?void 0:k.pallets)!=null&&I.length))return"No cargo data";const R=k.pallets.reduce((B,W)=>(B[W.type]=(B[W.type]||0)+(Number(W.quantity)||0),B),{});return l.jsx("div",{className:"cargo-breakdown",children:Object.entries(R).map(([B,W])=>{var U;return l.jsxs("div",{className:"cargo-row",children:[l.jsxs("span",{children:[W,"  ",B.replace("_"," "),":"]}),l.jsxs("strong",{children:["",(((U=k.price_breakdown)==null?void 0:U[B])||0).toFixed(2)]})]},B)})})},[]),b=w.useMemo(()=>[{key:"customer_code",header:"Customer Code",sortable:!0,render:k=>{var R;return((R=x.get(k.customer_id))==null?void 0:R.customer_code)||"N/A"}},{key:"order_number",header:"Consignment #",icon:l.jsx(Eu,{size:16}),sortable:!0},{key:"loading",header:"Loading",sortable:!0,render:k=>{var R,I;return l.jsxs("div",{children:[l.jsxs("div",{children:[(R=k.sender_details)==null?void 0:R.name,", ",(I=k.sender_details)==null?void 0:I.townCity]}),l.jsx("div",{className:"date-time",children:new Date(k.loading_date_time).toLocaleString()})]})},sortKey:"loading_date_time"},{key:"unloading",header:"Unloading",sortable:!0,render:k=>{var R,I;return l.jsxs("div",{children:[l.jsxs("div",{children:[(R=k.recipient_details)==null?void 0:R.name,", ",(I=k.recipient_details)==null?void 0:I.townCity]}),l.jsx("div",{className:"date-time",children:new Date(k.unloading_date_time).toLocaleString()})]})},sortKey:"unloading_date_time"},{key:"cargo_details",header:"Cargo Breakdown",render:k=>g(k.cargo_details)},{key:"total_kilos",header:"Total Weight (kg)",sortable:!0,render:k=>{var R;return((R=k.cargo_details)==null?void 0:R.total_kilos)||0}},{key:"total_spaces",header:"Total Spaces",sortable:!0,render:k=>{var R;return((R=k.cargo_details)==null?void 0:R.total_spaces)||0}},{key:"calculated_price",header:"Calculated Price",icon:l.jsx(qs,{size:16}),sortable:!0,render:k=>k.calculated_price?`${(+k.calculated_price).toFixed(2)}`:"-"},{key:"surcharges",header:"Surcharges",render:k=>{const I=(k.selected_surcharges||[]).map((B,W)=>{const U=v.get(B);return!U||+U.amount<=0?null:l.jsxs("div",{className:"surcharge-row",children:[l.jsxs("span",{children:[B.toUpperCase()," (",U.calculation_method==="per_order"?"PerC":"PerP","):"]}),l.jsxs("strong",{children:["",(+U.amount).toFixed(2)]})]},W)}).filter(Boolean);return I.length?l.jsx("div",{className:"surcharge-list",children:I}):"-"}},{key:"final_price",header:"Final Price",icon:l.jsx(qs,{size:16}),sortable:!0,render:k=>k.final_price?`${(+k.final_price).toFixed(2)}`:"-"}],[x,v,g]),_=w.useMemo(()=>{const{start:k,end:R}=p;return e.filter(I=>{const B=I.unloading_date_time;if(!B)return!1;const W=new Date(B).toISOString().split("T")[0];return W>=k&&W<=R})},[e,p]),j=w.useMemo(()=>_.reduce((k,R)=>{var I,B;return k.kilos+=((I=R.cargo_details)==null?void 0:I.total_kilos)||0,k.spaces+=((B=R.cargo_details)==null?void 0:B.total_spaces)||0,k.final+=+R.final_price||0,k},{kilos:0,spaces:0,final:0}),[_]),N={total_kilos:j.kilos.toFixed(2),total_spaces:j.spaces.toFixed(0),final_price:`${j.final.toFixed(2)}`},D=w.useCallback(()=>{const k=b.map(W=>W.header).join(","),R=_.map(W=>b.map(U=>{let V=W[U.key];if(U.render&&!["cargo_details","surcharges"].includes(U.key)){const A=U.render(W);V=typeof A=="object"?"":A}return`"${String(V??"").replace(/"/g,'""')}"`}).join(",")),I=new Blob([k+`
`+R.join(`
`)],{type:"text/csv"}),B=document.createElement("a");B.href=URL.createObjectURL(I),B.download=`finance_${new Date().toISOString().slice(0,10)}.csv`,B.click()},[b,_]),S=w.useCallback(async()=>{var k,R;if(!f)return a("Please select a customer.","warning");try{await i.create({customerId:f,...p}),a("Invoice generated successfully!","success")}catch(I){a(((R=(k=I.response)==null?void 0:k.data)==null?void 0:R.error)||"Failed to generate invoice.","error")}},[f,p,i,a]),C=(k,R)=>{k.preventDefault(),y({visible:!0,x:k.clientX,y:k.clientY,selectedOrder:R})},E=()=>{m.selectedOrder&&s&&s(m.selectedOrder),y({visible:!1,x:0,y:0,selectedOrder:null})};return l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"tabs-container mb-4",children:["overview","invoices"].map(k=>l.jsx("button",{className:`tab-button ${c===k?"active":""}`,onClick:()=>u(k),children:k.charAt(0).toUpperCase()+k.slice(1)},k))}),c==="overview"&&l.jsxs(l.Fragment,{children:[l.jsxs("header",{className:"planit-section-header mb-4",children:[l.jsx("h3",{children:"Finance Overview"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"From"}),l.jsx("input",{type:"date",value:p.start,onChange:k=>h(R=>({...R,start:k.target.value}))})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"To"}),l.jsx("input",{type:"date",value:p.end,onChange:k=>h(R=>({...R,end:k.target.value}))})]}),l.jsxs("button",{onClick:D,className:"btn-secondary ml-auto",children:[l.jsx(po,{size:16})," Export"]})]}),l.jsxs("header",{className:"planit-section-header mb-4 border-b",children:[l.jsx("h4",{children:"Invoicing"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Customer"}),l.jsxs("select",{value:f,onChange:k=>d(k.target.value),children:[l.jsx("option",{value:"",children:"-- Select customer --"}),t.map(k=>l.jsx("option",{value:k.id,children:k.name},k.id))]})]}),l.jsxs("button",{className:"btn-primary ml-4",disabled:!f,onClick:S,children:[l.jsx(dl,{size:16})," Generate Invoice"]})]}),m.visible&&l.jsx("div",{className:"context-menu",style:{top:m.y,left:m.x},children:l.jsx("button",{onClick:E,children:"Edit Consignment"})}),l.jsx(Yt,{items:_,columns:b,filterPlaceholder:"Filter by consignment or customer...",filterKeys:["order_number","customer_reference","recipient_details.name"],initialSortKey:"unloading_date_time",onContextMenu:C,footerData:N})]}),c==="invoices"&&l.jsx(lN,{invoices:r})]})};var Jy={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,r)=>{e.exports=r()})(rv,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s,o=!r.document&&!!r.postMessage,i=r.IS_PAPA_WORKER||!1,a={},c=0,u={};function f(S){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(C){var E=j(C);E.chunkSize=parseInt(E.chunkSize),C.step||C.chunk||(E.chunkSize=null),this._handle=new y(E),(this._handle.streamer=this)._config=E}).call(this,S),this.parseChunk=function(C,E){var k=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<k){let I=this._config.newline;I||(R=this._config.quoteChar||'"',I=this._handle.guessLineEndings(C,R)),C=[...C.split(I).slice(k)].join(I)}this.isFirstChunk&&D(this._config.beforeFirstChunk)&&(R=this._config.beforeFirstChunk(C))!==void 0&&(C=R),this.isFirstChunk=!1,this._halted=!1;var k=this._partialLine+C,R=(this._partialLine="",this._handle.parse(k,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(C=R.meta.cursor,k=(this._finished||(this._partialLine=k.substring(C-this._baseIndex),this._baseIndex=C),R&&R.data&&(this._rowCount+=R.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),i)r.postMessage({results:R,workerId:u.WORKER_ID,finished:k});else if(D(this._config.chunk)&&!E){if(this._config.chunk(R,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=R=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(R.data),this._completeResults.errors=this._completeResults.errors.concat(R.errors),this._completeResults.meta=R.meta),this._completed||!k||!D(this._config.complete)||R&&R.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),k||R&&R.meta.paused||this._nextChunk(),R}this._halted=!0},this._sendError=function(C){D(this._config.error)?this._config.error(C):i&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:C,finished:!1})}}function d(S){var C;(S=S||{}).chunkSize||(S.chunkSize=u.RemoteChunkSize),f.call(this,S),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(E){this._input=E,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(C=new XMLHttpRequest,this._config.withCredentials&&(C.withCredentials=this._config.withCredentials),o||(C.onload=N(this._chunkLoaded,this),C.onerror=N(this._chunkError,this)),C.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var E,k=this._config.downloadRequestHeaders;for(E in k)C.setRequestHeader(E,k[E])}var R;this._config.chunkSize&&(R=this._start+this._config.chunkSize-1,C.setRequestHeader("Range","bytes="+this._start+"-"+R));try{C.send(this._config.downloadRequestBody)}catch(I){this._chunkError(I.message)}o&&C.status===0&&this._chunkError()}},this._chunkLoaded=function(){C.readyState===4&&(C.status<200||400<=C.status?this._chunkError():(this._start+=this._config.chunkSize||C.responseText.length,this._finished=!this._config.chunkSize||this._start>=(E=>(E=E.getResponseHeader("Content-Range"))!==null?parseInt(E.substring(E.lastIndexOf("/")+1)):-1)(C),this.parseChunk(C.responseText)))},this._chunkError=function(E){E=C.statusText||E,this._sendError(new Error(E))}}function p(S){(S=S||{}).chunkSize||(S.chunkSize=u.LocalChunkSize),f.call(this,S);var C,E,k=typeof FileReader<"u";this.stream=function(R){this._input=R,E=R.slice||R.webkitSlice||R.mozSlice,k?((C=new FileReader).onload=N(this._chunkLoaded,this),C.onerror=N(this._chunkError,this)):C=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var R=this._input,I=(this._config.chunkSize&&(I=Math.min(this._start+this._config.chunkSize,this._input.size),R=E.call(R,this._start,I)),C.readAsText(R,this._config.encoding));k||this._chunkLoaded({target:{result:I}})},this._chunkLoaded=function(R){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(R.target.result)},this._chunkError=function(){this._sendError(C.error)}}function h(S){var C;f.call(this,S=S||{}),this.stream=function(E){return C=E,this._nextChunk()},this._nextChunk=function(){var E,k;if(!this._finished)return E=this._config.chunkSize,C=E?(k=C.substring(0,E),C.substring(E)):(k=C,""),this._finished=!C,this.parseChunk(k)}}function m(S){f.call(this,S=S||{});var C=[],E=!0,k=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(R){this._input=R,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){k&&C.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),C.length?this.parseChunk(C.shift()):E=!0},this._streamData=N(function(R){try{C.push(typeof R=="string"?R:R.toString(this._config.encoding)),E&&(E=!1,this._checkIsFinished(),this.parseChunk(C.shift()))}catch(I){this._streamError(I)}},this),this._streamError=N(function(R){this._streamCleanUp(),this._sendError(R)},this),this._streamEnd=N(function(){this._streamCleanUp(),k=!0,this._streamData("")},this),this._streamCleanUp=N(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function y(S){var C,E,k,R,I=Math.pow(2,53),B=-I,W=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,U=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,V=this,A=0,O=0,L=!1,T=!1,F=[],H={data:[],errors:[],meta:{}};function re(J){return S.skipEmptyLines==="greedy"?J.join("").trim()==="":J.length===1&&J[0].length===0}function ae(){if(H&&k&&(we("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),k=!1),S.skipEmptyLines&&(H.data=H.data.filter(function(ee){return!re(ee)})),de()){let ee=function(ge,ye){D(S.transformHeader)&&(ge=S.transformHeader(ge,ye)),F.push(ge)};var Z=ee;if(H)if(Array.isArray(H.data[0])){for(var J=0;de()&&J<H.data.length;J++)H.data[J].forEach(ee);H.data.splice(0,1)}else H.data.forEach(ee)}function ne(ee,ge){for(var ye=S.header?{}:[],fe=0;fe<ee.length;fe++){var te=fe,Le=ee[fe],Le=((z,K)=>(Y=>(S.dynamicTypingFunction&&S.dynamicTyping[Y]===void 0&&(S.dynamicTyping[Y]=S.dynamicTypingFunction(Y)),(S.dynamicTyping[Y]||S.dynamicTyping)===!0))(z)?K==="true"||K==="TRUE"||K!=="false"&&K!=="FALSE"&&((Y=>{if(W.test(Y)&&(Y=parseFloat(Y),B<Y&&Y<I))return 1})(K)?parseFloat(K):U.test(K)?new Date(K):K===""?null:K):K)(te=S.header?fe>=F.length?"__parsed_extra":F[fe]:te,Le=S.transform?S.transform(Le,te):Le);te==="__parsed_extra"?(ye[te]=ye[te]||[],ye[te].push(Le)):ye[te]=Le}return S.header&&(fe>F.length?we("FieldMismatch","TooManyFields","Too many fields: expected "+F.length+" fields but parsed "+fe,O+ge):fe<F.length&&we("FieldMismatch","TooFewFields","Too few fields: expected "+F.length+" fields but parsed "+fe,O+ge)),ye}var he;H&&(S.header||S.dynamicTyping||S.transform)&&(he=1,!H.data.length||Array.isArray(H.data[0])?(H.data=H.data.map(ne),he=H.data.length):H.data=ne(H.data,0),S.header&&H.meta&&(H.meta.fields=F),O+=he)}function de(){return S.header&&F.length===0}function we(J,ne,he,Z){J={type:J,code:ne,message:he},Z!==void 0&&(J.row=Z),H.errors.push(J)}D(S.step)&&(R=S.step,S.step=function(J){H=J,de()?ae():(ae(),H.data.length!==0&&(A+=J.data.length,S.preview&&A>S.preview?E.abort():(H.data=H.data[0],R(H,V))))}),this.parse=function(J,ne,he){var Z=S.quoteChar||'"',Z=(S.newline||(S.newline=this.guessLineEndings(J,Z)),k=!1,S.delimiter?D(S.delimiter)&&(S.delimiter=S.delimiter(J),H.meta.delimiter=S.delimiter):((Z=((ee,ge,ye,fe,te)=>{var Le,z,K,Y;te=te||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var ie=0;ie<te.length;ie++){for(var It,Mn=te[ie],Fe=0,St=0,Ne=0,Ge=(K=void 0,new v({comments:fe,delimiter:Mn,newline:ge,preview:10}).parse(ee)),Ot=0;Ot<Ge.data.length;Ot++)ye&&re(Ge.data[Ot])?Ne++:(It=Ge.data[Ot].length,St+=It,K===void 0?K=It:0<It&&(Fe+=Math.abs(It-K),K=It));0<Ge.data.length&&(St/=Ge.data.length-Ne),(z===void 0||Fe<=z)&&(Y===void 0||Y<St)&&1.99<St&&(z=Fe,Le=Mn,Y=St)}return{successful:!!(S.delimiter=Le),bestDelimiter:Le}})(J,S.newline,S.skipEmptyLines,S.comments,S.delimitersToGuess)).successful?S.delimiter=Z.bestDelimiter:(k=!0,S.delimiter=u.DefaultDelimiter),H.meta.delimiter=S.delimiter),j(S));return S.preview&&S.header&&Z.preview++,C=J,E=new v(Z),H=E.parse(C,ne,he),ae(),L?{meta:{paused:!0}}:H||{meta:{paused:!1}}},this.paused=function(){return L},this.pause=function(){L=!0,E.abort(),C=D(S.chunk)?"":C.substring(E.getCharIndex())},this.resume=function(){V.streamer._halted?(L=!1,V.streamer.parseChunk(C,!0)):setTimeout(V.resume,3)},this.aborted=function(){return T},this.abort=function(){T=!0,E.abort(),H.meta.aborted=!0,D(S.complete)&&S.complete(H),C=""},this.guessLineEndings=function(ee,Z){ee=ee.substring(0,1048576);var Z=new RegExp(x(Z)+"([^]*?)"+x(Z),"gm"),he=(ee=ee.replace(Z,"")).split("\r"),Z=ee.split(`
`),ee=1<Z.length&&Z[0].length<he[0].length;if(he.length===1||ee)return`
`;for(var ge=0,ye=0;ye<he.length;ye++)he[ye][0]===`
`&&ge++;return ge>=he.length/2?`\r
`:"\r"}}function x(S){return S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(S){var C=(S=S||{}).delimiter,E=S.newline,k=S.comments,R=S.step,I=S.preview,B=S.fastMode,W=null,U=!1,V=S.quoteChar==null?'"':S.quoteChar,A=V;if(S.escapeChar!==void 0&&(A=S.escapeChar),(typeof C!="string"||-1<u.BAD_DELIMITERS.indexOf(C))&&(C=","),k===C)throw new Error("Comment character same as delimiter");k===!0?k="#":(typeof k!="string"||-1<u.BAD_DELIMITERS.indexOf(k))&&(k=!1),E!==`
`&&E!=="\r"&&E!==`\r
`&&(E=`
`);var O=0,L=!1;this.parse=function(T,F,H){if(typeof T!="string")throw new Error("Input must be a string");var re=T.length,ae=C.length,de=E.length,we=k.length,J=D(R),ne=[],he=[],Z=[],ee=O=0;if(!T)return Fe();if(B||B!==!1&&T.indexOf(V)===-1){for(var ge=T.split(E),ye=0;ye<ge.length;ye++){if(Z=ge[ye],O+=Z.length,ye!==ge.length-1)O+=E.length;else if(H)return Fe();if(!k||Z.substring(0,we)!==k){if(J){if(ne=[],Y(Z.split(C)),St(),L)return Fe()}else Y(Z.split(C));if(I&&I<=ye)return ne=ne.slice(0,I),Fe(!0)}}return Fe()}for(var fe=T.indexOf(C,O),te=T.indexOf(E,O),Le=new RegExp(x(A)+x(V),"g"),z=T.indexOf(V,O);;)if(T[O]===V)for(z=O,O++;;){if((z=T.indexOf(V,z+1))===-1)return H||he.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ne.length,index:O}),It();if(z===re-1)return It(T.substring(O,z).replace(Le,V));if(V===A&&T[z+1]===A)z++;else if(V===A||z===0||T[z-1]!==A){fe!==-1&&fe<z+1&&(fe=T.indexOf(C,z+1));var K=ie((te=te!==-1&&te<z+1?T.indexOf(E,z+1):te)===-1?fe:Math.min(fe,te));if(T.substr(z+1+K,ae)===C){Z.push(T.substring(O,z).replace(Le,V)),T[O=z+1+K+ae]!==V&&(z=T.indexOf(V,O)),fe=T.indexOf(C,O),te=T.indexOf(E,O);break}if(K=ie(te),T.substring(z+1+K,z+1+K+de)===E){if(Z.push(T.substring(O,z).replace(Le,V)),Mn(z+1+K+de),fe=T.indexOf(C,O),z=T.indexOf(V,O),J&&(St(),L))return Fe();if(I&&ne.length>=I)return Fe(!0);break}he.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ne.length,index:O}),z++}}else if(k&&Z.length===0&&T.substring(O,O+we)===k){if(te===-1)return Fe();O=te+de,te=T.indexOf(E,O),fe=T.indexOf(C,O)}else if(fe!==-1&&(fe<te||te===-1))Z.push(T.substring(O,fe)),O=fe+ae,fe=T.indexOf(C,O);else{if(te===-1)break;if(Z.push(T.substring(O,te)),Mn(te+de),J&&(St(),L))return Fe();if(I&&ne.length>=I)return Fe(!0)}return It();function Y(Ne){ne.push(Ne),ee=O}function ie(Ne){var Ge=0;return Ge=Ne!==-1&&(Ne=T.substring(z+1,Ne))&&Ne.trim()===""?Ne.length:Ge}function It(Ne){return H||(Ne===void 0&&(Ne=T.substring(O)),Z.push(Ne),O=re,Y(Z),J&&St()),Fe()}function Mn(Ne){O=Ne,Y(Z),Z=[],te=T.indexOf(E,O)}function Fe(Ne){if(S.header&&!F&&ne.length&&!U){var Ge=ne[0],Ot=Object.create(null),Jt=new Set(Ge);let Jr=!1;for(let Xt=0;Xt<Ge.length;Xt++){let ft=Ge[Xt];if(Ot[ft=D(S.transformHeader)?S.transformHeader(ft,Xt):ft]){let Xr,Zu=Ot[ft];for(;Xr=ft+"_"+Zu,Zu++,Jt.has(Xr););Jt.add(Xr),Ge[Xt]=Xr,Ot[ft]++,Jr=!0,(W=W===null?{}:W)[Xr]=ft}else Ot[ft]=1,Ge[Xt]=ft;Jt.add(ft)}Jr&&console.warn("Duplicate headers found and renamed."),U=!0}return{data:ne,errors:he,meta:{delimiter:C,linebreak:E,aborted:L,truncated:!!Ne,cursor:ee+(F||0),renamedHeaders:W}}}function St(){R(Fe()),ne=[],he=[]}},this.abort=function(){L=!0},this.getCharIndex=function(){return O}}function g(S){var C=S.data,E=a[C.workerId],k=!1;if(C.error)E.userError(C.error,C.file);else if(C.results&&C.results.data){var R={abort:function(){k=!0,b(C.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(D(E.userStep)){for(var I=0;I<C.results.data.length&&(E.userStep({data:C.results.data[I],errors:C.results.errors,meta:C.results.meta},R),!k);I++);delete C.results}else D(E.userChunk)&&(E.userChunk(C.results,R,C.file),delete C.results)}C.finished&&!k&&b(C.workerId,C.results)}function b(S,C){var E=a[S];D(E.userComplete)&&E.userComplete(C),E.terminate(),delete a[S]}function _(){throw new Error("Not implemented.")}function j(S){if(typeof S!="object"||S===null)return S;var C,E=Array.isArray(S)?[]:{};for(C in S)E[C]=j(S[C]);return E}function N(S,C){return function(){S.apply(C,arguments)}}function D(S){return typeof S=="function"}return u.parse=function(S,C){var E=(C=C||{}).dynamicTyping||!1;if(D(E)&&(C.dynamicTypingFunction=E,E={}),C.dynamicTyping=E,C.transform=!!D(C.transform)&&C.transform,!C.worker||!u.WORKERS_SUPPORTED)return E=null,u.NODE_STREAM_INPUT,typeof S=="string"?(S=(k=>k.charCodeAt(0)!==65279?k:k.slice(1))(S),E=new(C.download?d:h)(C)):S.readable===!0&&D(S.read)&&D(S.on)?E=new m(C):(r.File&&S instanceof File||S instanceof Object)&&(E=new p(C)),E.stream(S);(E=(()=>{var k;return!!u.WORKERS_SUPPORTED&&(k=(()=>{var R=r.URL||r.webkitURL||null,I=n.toString();return u.BLOB_URL||(u.BLOB_URL=R.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",I,")();"],{type:"text/javascript"})))})(),(k=new r.Worker(k)).onmessage=g,k.id=c++,a[k.id]=k)})()).userStep=C.step,E.userChunk=C.chunk,E.userComplete=C.complete,E.userError=C.error,C.step=D(C.step),C.chunk=D(C.chunk),C.complete=D(C.complete),C.error=D(C.error),delete C.worker,E.postMessage({input:S,config:C,workerId:E.id})},u.unparse=function(S,C){var E=!1,k=!0,R=",",I=`\r
`,B='"',W=B+B,U=!1,V=null,A=!1,O=((()=>{if(typeof C=="object"){if(typeof C.delimiter!="string"||u.BAD_DELIMITERS.filter(function(F){return C.delimiter.indexOf(F)!==-1}).length||(R=C.delimiter),typeof C.quotes!="boolean"&&typeof C.quotes!="function"&&!Array.isArray(C.quotes)||(E=C.quotes),typeof C.skipEmptyLines!="boolean"&&typeof C.skipEmptyLines!="string"||(U=C.skipEmptyLines),typeof C.newline=="string"&&(I=C.newline),typeof C.quoteChar=="string"&&(B=C.quoteChar),typeof C.header=="boolean"&&(k=C.header),Array.isArray(C.columns)){if(C.columns.length===0)throw new Error("Option columns is empty");V=C.columns}C.escapeChar!==void 0&&(W=C.escapeChar+B),C.escapeFormulae instanceof RegExp?A=C.escapeFormulae:typeof C.escapeFormulae=="boolean"&&C.escapeFormulae&&(A=/^[=+\-@\t\r].*$/)}})(),new RegExp(x(B),"g"));if(typeof S=="string"&&(S=JSON.parse(S)),Array.isArray(S)){if(!S.length||Array.isArray(S[0]))return L(null,S,U);if(typeof S[0]=="object")return L(V||Object.keys(S[0]),S,U)}else if(typeof S=="object")return typeof S.data=="string"&&(S.data=JSON.parse(S.data)),Array.isArray(S.data)&&(S.fields||(S.fields=S.meta&&S.meta.fields||V),S.fields||(S.fields=Array.isArray(S.data[0])?S.fields:typeof S.data[0]=="object"?Object.keys(S.data[0]):[]),Array.isArray(S.data[0])||typeof S.data[0]=="object"||(S.data=[S.data])),L(S.fields||[],S.data||[],U);throw new Error("Unable to serialize unrecognized input");function L(F,H,re){var ae="",de=(typeof F=="string"&&(F=JSON.parse(F)),typeof H=="string"&&(H=JSON.parse(H)),Array.isArray(F)&&0<F.length),we=!Array.isArray(H[0]);if(de&&k){for(var J=0;J<F.length;J++)0<J&&(ae+=R),ae+=T(F[J],J);0<H.length&&(ae+=I)}for(var ne=0;ne<H.length;ne++){var he=(de?F:H[ne]).length,Z=!1,ee=de?Object.keys(H[ne]).length===0:H[ne].length===0;if(re&&!de&&(Z=re==="greedy"?H[ne].join("").trim()==="":H[ne].length===1&&H[ne][0].length===0),re==="greedy"&&de){for(var ge=[],ye=0;ye<he;ye++){var fe=we?F[ye]:ye;ge.push(H[ne][fe])}Z=ge.join("").trim()===""}if(!Z){for(var te=0;te<he;te++){0<te&&!ee&&(ae+=R);var Le=de&&we?F[te]:te;ae+=T(H[ne][Le],te)}ne<H.length-1&&(!re||0<he&&!ee)&&(ae+=I)}}return ae}function T(F,H){var re,ae;return F==null?"":F.constructor===Date?JSON.stringify(F).slice(1,25):(ae=!1,A&&typeof F=="string"&&A.test(F)&&(F="'"+F,ae=!0),re=F.toString().replace(O,W),(ae=ae||E===!0||typeof E=="function"&&E(F,H)||Array.isArray(E)&&E[H]||((de,we)=>{for(var J=0;J<we.length;J++)if(-1<de.indexOf(we[J]))return!0;return!1})(re,u.BAD_DELIMITERS)||-1<re.indexOf(R)||re.charAt(0)===" "||re.charAt(re.length-1)===" ")?B+re+B:re)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!o&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=v,u.ParserHandle=y,u.NetworkStreamer=d,u.FileStreamer=p,u.StringStreamer=h,u.ReadableStreamStreamer=m,r.jQuery&&((s=r.jQuery).fn.parse=function(S){var C=S.config||{},E=[];return this.each(function(I){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var B=0;B<this.files.length;B++)E.push({file:this.files[B],inputElem:this,instanceConfig:s.extend({},C)})}),k(),this;function k(){if(E.length===0)D(S.complete)&&S.complete();else{var I,B,W,U,V=E[0];if(D(S.before)){var A=S.before(V.file,V.inputElem);if(typeof A=="object"){if(A.action==="abort")return I="AbortError",B=V.file,W=V.inputElem,U=A.reason,void(D(S.error)&&S.error({name:I},B,W,U));if(A.action==="skip")return void R();typeof A.config=="object"&&(V.instanceConfig=s.extend(V.instanceConfig,A.config))}else if(A==="skip")return void R()}var O=V.instanceConfig.complete;V.instanceConfig.complete=function(L){D(O)&&O(L,V.file,V.inputElem),R()},u.parse(V.file,V.instanceConfig)}}function R(){E.splice(0,1),k()}}),i&&(r.onmessage=function(S){S=S.data,u.WORKER_ID===void 0&&S&&(u.WORKER_ID=S.workerId),typeof S.input=="string"?r.postMessage({workerId:u.WORKER_ID,results:u.parse(S.input,S.config),finished:!0}):(r.File&&S.input instanceof File||S.input instanceof Object)&&(S=u.parse(S.input,S.config))&&r.postMessage({workerId:u.WORKER_ID,results:S,finished:!0})}),(d.prototype=Object.create(f.prototype)).constructor=d,(p.prototype=Object.create(f.prototype)).constructor=p,(h.prototype=Object.create(h.prototype)).constructor=h,(m.prototype=Object.create(f.prototype)).constructor=m,u})})(Jy);var cN=Jy.exports;const uN=$i(cN),dN=(e,t)=>t.split(".").reduce((n,r)=>n&&n[r],e),Xu=({title:e,apiEndpoint:t,postDataKey:n,dataMappingFn:r,previewColumns:s,onSuccess:o,onCancel:i,refreshFn:a,initialAutoRefresh:c=!0})=>{const[u,f]=w.useState(null),[d,p]=w.useState([]),[h,m]=w.useState(!1),[y,x]=w.useState([]),[v,g]=w.useState(null),[b,_]=w.useState(c),{showToast:j}=ve(),N=k=>{const R=k.target.files[0];R&&(f(R),g(null),x([]),uN.parse(R,{header:!0,skipEmptyLines:!0,bom:!0,complete:I=>{if(I.errors.length)g("Error parsing CSV file. Please check its structure."),x(I.errors),console.error("CSV Parsing Errors:",I.errors),p([]);else{const B=I.data.map(r).filter(Boolean);p(B),x([])}},error:()=>{g("Cannot read the file. Please ensure it is a valid CSV file."),p([])}}))},D=async()=>{var R,I;if(d.length===0){j("No valid data to import.","warning");return}m(!0),g(null);const k=n?{[n]:d}:d;try{const W=(await Q.post(t,k)).data;if(j(W.message||"Import finished successfully!","success"),W.errors&&W.errors.length>0){const U=W.errors.map(V=>`Line ${V.line}: ${V.message}`).join(`
`);g(`Import completed with some issues:
${U}`)}o&&o(),b&&typeof a=="function"&&(a(),j("Auto-refresh triggered after import.","info"))}catch(B){const W=((I=(R=B.response)==null?void 0:R.data)==null?void 0:I.error)||"Server error during import.";j(W,"error"),g(W)}finally{m(!1)}},S=k=>k.preventDefault(),C=k=>{k.preventDefault(),N({target:{files:k.dataTransfer.files}})},E=()=>{_(k=>!k),j(`Auto-refresh ${b?"disabled":"enabled"}`,"info")};return l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:"flex items-center gap-2",children:[l.jsx(Mf,{size:22})," ",e]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("button",{onClick:E,className:`btn-small ${b?"btn-active":"btn-secondary"}`,title:"Toggle auto refresh",children:[l.jsx(ho,{size:16,className:b?"animate-spin-slow":""}),l.jsx("span",{className:"ml-1",children:b?"Auto ON":"Auto OFF"})]}),l.jsx("button",{onClick:i,className:"btn-icon",children:l.jsx(wt,{size:20})})]})]}),v&&l.jsxs("div",{className:"error-message",style:{whiteSpace:"pre-wrap"},children:[l.jsx(ju,{size:16})," ",v]}),u?l.jsxs("div",{children:[l.jsxs("div",{className:"file-info",style:{marginTop:"1.5rem"},children:[l.jsx(dl,{size:24}),l.jsx("span",{children:u.name}),l.jsx("button",{onClick:()=>{f(null),p([]),g(null),x([])},className:"btn-icon",children:l.jsx(wt,{size:16})})]}),y.length>0&&l.jsxs("div",{className:"error-message",style:{marginTop:"1rem",maxHeight:"150px",overflowY:"auto",padding:"1rem",background:"#fff3f3",borderRadius:"6px"},children:[l.jsx("strong",{children:"Parsing Errors Found:"}),l.jsx("ul",{children:y.slice(0,5).map((k,R)=>l.jsxs("li",{children:["Row ",k.row,": ",k.message]},R))}),y.length>5&&l.jsxs("p",{children:["...and ",y.length-5," more errors."]})]}),d.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{style:{marginTop:"1rem"},children:[l.jsx(ku,{size:16,color:"green"})," Found ",l.jsx("strong",{children:d.length})," records to import."]}),l.jsx("div",{className:"table-container-scrollable",style:{maxHeight:"300px",marginTop:"1rem"},children:l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsx("tr",{children:s.map(k=>l.jsx("th",{children:k.header},k.key))})}),l.jsx("tbody",{children:d.slice(0,5).map((k,R)=>l.jsx("tr",{children:s.map(I=>l.jsx("td",{children:I.render?I.render(k):dN(k,I.key)},I.key))},R))})]})}),d.length>5&&l.jsxs("p",{style:{textAlign:"center",marginTop:"0.5rem"},children:["...and ",d.length-5," more rows."]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:i,className:"btn-secondary",disabled:h,children:"Cancel"}),l.jsx("button",{onClick:D,className:"btn-primary",disabled:h||d.length===0,children:h?"Importing...":`Import ${d.length} Records`})]})]}):l.jsxs("div",{className:"dropzone",onDragOver:S,onDrop:C,onClick:()=>document.getElementById("file-input-generic").click(),children:[l.jsx(Mf,{size:48}),l.jsx("p",{children:"Drag & drop a CSV file here, or click to select a file."}),l.jsx("input",{type:"file",id:"file-input-generic",accept:".csv",onChange:N,style:{display:"none"}})]})]})},fN=({zones:e=[],onRefresh:t})=>{const{data:n,createResource:r,updateResource:s}=st("/api/zones","zone"),{showToast:o}=ve(),[i,a]=w.useState(!1),[c,u]=w.useState(null),[f,d]=w.useState(!1),[p,h]=w.useState({zone_name:"",postcode_patterns:"",is_home_zone:!1}),[m,y]=w.useState(e),[x,v]=w.useState({key:"zone_name",direction:"ascending"});w.useEffect(()=>{const E=[...n].sort((k,R)=>{const I=k.zone_name,B=R.zone_name,W=/(\d+)|(\D+)/g,U=I.match(W),V=B.match(W);for(let A=0;A<Math.min(U.length,V.length);A++){const O=U[A],L=V[A],T=parseInt(O,10),F=parseInt(L,10);if(!isNaN(T)&&!isNaN(F)){if(T!==F)return x.direction==="ascending"?T-F:F-T}else if(O!==L)return x.direction==="ascending"?O.localeCompare(L):L.localeCompare(O)}return x.direction==="ascending"?U.length-V.length:V.length-U.length});y(E)},[n,x]);const g=E=>{let k="ascending";x.key===E&&x.direction==="ascending"&&(k="descending"),v({key:E,direction:k})};w.useEffect(()=>{c?(h({zone_name:c.zone_name,postcode_patterns:(c.postcode_patterns||[]).join(", "),is_home_zone:c.is_home_zone}),a(!0)):h({zone_name:"",postcode_patterns:"",is_home_zone:!1})},[c]);const b=async E=>{var B,W;E.preventDefault();const k=p.postcode_patterns.split(",").map(U=>{const V=U.trim();return V&&!V.endsWith("%")?`${V}%`:V}).filter(Boolean),R=[...new Set(k)],I={...p,postcode_patterns:R};try{c?(await s(c.id,I),o("Zone updated successfully!","success")):(await r(I),o("Zone created successfully!","success")),a(!1),u(null),t&&t()}catch(U){o(((W=(B=U.response)==null?void 0:B.data)==null?void 0:W.error)||"Failed to save zone.","error")}},_=async E=>{var k,R;if(window.confirm("Are you sure you want to delete this zone?"))try{await Q.delete(`/api/zones/${E}`),o("Zone deleted successfully.","success"),t&&t()}catch(I){o(((R=(k=I.response)==null?void 0:k.data)==null?void 0:R.error)||"Failed to delete zone.","error")}},j=async(E,k)=>{const R=E.postcode_patterns.filter(I=>I!==k);try{await s(E.id,{...E,postcode_patterns:R}),o(`Pattern '${k}' removed from ${E.zone_name}.`,"success"),t&&t()}catch{o("Failed to remove pattern.","error")}},N=async E=>{const{source:k,destination:R,draggableId:I}=E;if(!R||k.droppableId===R.droppableId)return;const B=parseInt(k.droppableId,10),W=parseInt(R.droppableId,10),U=I.split("-")[1],V=m.find(T=>T.id===B),A=m.find(T=>T.id===W);if(!V||!A)return;const O=V.postcode_patterns.filter(T=>T!==U),L=[...A.postcode_patterns||[],U];try{await Promise.all([s(V.id,{...V,postcode_patterns:O}),s(A.id,{...A,postcode_patterns:[...new Set(L)]})]),o(`Moved '${U}' from ${V.zone_name} to ${A.zone_name}.`,"success"),t&&t()}catch{o("Failed to move pattern.","error")}},D=async()=>{var E,k;try{const R=await Q.get("/api/zones/export");o(R.data.message||"Export successful!","success")}catch(R){const I=((k=(E=R.response)==null?void 0:E.data)==null?void 0:k.error)||"Failed to export zones.";o(I,"error")}},S={title:"Import Postcode Zones",apiEndpoint:"/api/zones/import",postDataKey:"zones",dataMappingFn:E=>({zone_name:E.zone_name,postcode_patterns:E.postcode_patterns,is_home_zone:["true","1","yes"].includes((E.is_home_zone||"").toLowerCase())}),previewColumns:[{key:"zone_name",header:"Zone Name"},{key:"postcode_patterns",header:"Postcode Patterns (sample)"},{key:"is_home_zone",header:"Home Zone",render:E=>E.is_home_zone?"Yes":"No"}]},C=()=>{d(!1),t&&t(),o("Zones imported successfully!","success")};return l.jsxs("div",{className:"data-table-container",children:[l.jsx("h4",{children:"Postcode Zones"}),!i&&l.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[l.jsxs("button",{onClick:()=>a(!0),className:"btn-primary",children:[l.jsx(rr,{size:16})," Add New Zone"]}),l.jsxs("button",{onClick:D,className:"btn-secondary",children:[l.jsx(po,{size:16})," Export"]}),l.jsxs("button",{onClick:()=>d(!0),className:"btn-secondary",children:[l.jsx(Nu,{size:16})," Import"]})]}),f&&l.jsx(Xu,{...S,onSuccess:C,onCancel:()=>d(!1)}),i&&l.jsxs("form",{onSubmit:b,className:"form",style:{marginBottom:"2rem",border:"1px solid #eee",padding:"1rem",borderRadius:"8px"},children:[l.jsx("h5",{children:c?"Edit Zone":"Add New Zone"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Zone Name"}),l.jsx("input",{type:"text",value:p.zone_name,onChange:E=>h({...p,zone_name:E.target.value}),required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Postcode Patterns (comma-separated, e.g., SW1, W1A, WC2)"}),l.jsx("textarea",{value:p.postcode_patterns,onChange:E=>h({...p,postcode_patterns:E.target.value}),rows:"3"})]}),l.jsxs("div",{className:"form-group",style:{flexDirection:"row",alignItems:"center",gap:"0.5rem"},children:[l.jsx("input",{type:"checkbox",id:"is_home_zone",checked:p.is_home_zone,onChange:E=>h({...p,is_home_zone:E.target.checked})}),l.jsx("label",{htmlFor:"is_home_zone",style:{marginBottom:0},children:"This is a home zone (for this depot)"})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:()=>{a(!1),u(null)},className:"btn-secondary",children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",children:"Save Zone"})]})]}),l.jsx("div",{className:"table-wrapper",children:l.jsx(Ly,{onDragEnd:N,children:l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{onClick:()=>g("zone_name"),style:{cursor:"pointer"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:["Zone Name",x.key==="zone_name"&&(x.direction==="ascending"?l.jsx(Sg,{size:14}):l.jsx(_g,{size:14}))]})}),l.jsx("th",{children:"Home Zone?"}),l.jsx("th",{children:"Postcode Patterns"}),l.jsx("th",{children:"Actions"})]})}),m.map(E=>l.jsx(xl,{droppableId:String(E.id),children:(k,R)=>l.jsx("tbody",{ref:k.innerRef,...k.droppableProps,style:{backgroundColor:R.isDraggingOver?"#e6f7ff":"transparent"},children:l.jsxs("tr",{children:[l.jsx("td",{style:{width:"80px"},children:E.zone_name}),l.jsx("td",{children:E.is_home_zone?"Yes":"No"}),l.jsx("td",{className:"tag-cell",children:l.jsxs("div",{className:"tag-container",children:[(E.postcode_patterns||[]).map((I,B)=>l.jsx(Ju,{draggableId:`${E.id}-${I}`,index:B,children:W=>l.jsx("div",{ref:W.innerRef,...W.draggableProps,...W.dragHandleProps,children:l.jsxs("span",{className:"tag draggable-tag",children:[I,l.jsx("button",{onClick:()=>j(E,I),className:"tag-remove-btn",children:l.jsx(wt,{size:12})})]})})},`${E.id}-${I}`)),k.placeholder]})}),l.jsxs("td",{className:"actions-cell",children:[l.jsx("button",{onClick:()=>u(E),className:"btn-icon",children:l.jsx(mo,{size:16})}),l.jsx("button",{onClick:()=>_(E.id),className:"btn-icon btn-danger",title:"Delete Zone",children:l.jsx(Gr,{size:16})})]})]},E.id)})},E.id))]})})})]})},pN={rate_type:"standard",zone_id:"",service_level:"A",price_micro:"",price_quarter:"",price_half:"",price_half_plus:"",price_full_1:"",price_full_2:"",price_full_3:"",price_full_4:"",price_full_5:"",price_full_6:"",price_full_7:"",price_full_8:"",price_full_9:"",price_full_10:""},hN=["price_micro","price_quarter","price_half","price_half_plus","price_full_1","price_full_2","price_full_3","price_full_4","price_full_5","price_full_6","price_full_7","price_full_8","price_full_9","price_full_10"],mN=({zones:e=[],onCancel:t,onSuccess:n,itemToEdit:r,autoRefreshTrigger:s})=>{const{showToast:o}=ve(),i=!!r,a=w.useRef(null),c=y=>{const x={};return y.zone_id||(x.zone_id="Zone is required."),y.service_level||(x.service_level="Service level is required."),x},u=async y=>{var g,b;const x=i?`/api/rates/${r.id}`:"/api/rates",v=i?"put":"post";try{await Q[v](x,y),o(`Rate entry ${i?"updated":"added"} successfully.`,"success"),n&&n(),typeof s=="function"&&s()}catch(_){const j=((b=(g=_.response)==null?void 0:g.data)==null?void 0:b.error)||"Failed to save rate entry.";throw o(j,"error"),new Error(j)}},{formData:f,errors:d,loading:p,handleChange:h,handleSubmit:m}=Fn({initialState:pN,validate:c,onSubmit:u,itemToEdit:w.useMemo(()=>r,[r])});return w.useEffect(()=>{Object.keys(d).length&&a.current&&a.current.focus()},[d]),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{children:i?"Edit Rate Entry":"Add New Rate Entry"}),l.jsx("button",{onClick:t,className:"btn-icon",title:"Close",children:l.jsx(wt,{size:20})})]}),l.jsxs("form",{onSubmit:m,className:"form",autoComplete:"off",children:[l.jsxs("div",{className:"form-grid",style:{gridTemplateColumns:"1fr 1fr 1fr"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Rate Type"}),l.jsxs("select",{name:"rate_type",value:f.rate_type,onChange:h,children:[l.jsx("option",{value:"standard",children:"Standard"}),l.jsx("option",{value:"surcharge",children:"Surcharge"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Zone *"}),l.jsxs("select",{name:"zone_id",value:f.zone_id,onChange:h,required:!0,ref:d.zone_id&&!a.current?a:null,className:d.zone_id?"input-error":"",children:[l.jsx("option",{value:"",children:"Select a zone..."}),e.map(y=>l.jsx("option",{value:y.id,children:y.zone_name},y.id))]}),d.zone_id&&l.jsx("span",{className:"error-text",children:d.zone_id})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Service Level *"}),l.jsxs("select",{name:"service_level",value:f.service_level,onChange:h,required:!0,ref:d.service_level&&!a.current?a:null,className:d.service_level?"input-error":"",children:[l.jsx("option",{value:"A",children:"A"}),l.jsx("option",{value:"B",children:"B"}),l.jsx("option",{value:"C",children:"C"}),l.jsx("option",{value:"D",children:"D"})]}),d.service_level&&l.jsx("span",{className:"error-text",children:d.service_level})]})]}),l.jsx("h4",{children:"Prices"}),l.jsx("div",{className:"form-grid",style:{gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))"},children:hN.map(y=>l.jsxs("div",{className:"form-group",children:[l.jsx("label",{style:{textTransform:"capitalize"},children:y.replace("price_","").replace(/_/g," ")}),l.jsx("input",{type:"number",step:"0.01",name:y,value:f[y]??"",onChange:h,placeholder:"0.00",min:"0"})]},y))}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:p,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:p,children:p?"Saving...":i?"Save Changes":"Add Entry"})]})]})]})},gN=({customers:e=[],zones:t=[]})=>{const[n,r]=w.useState([]),[s,o]=w.useState(""),[i,a]=w.useState([]),[c,u]=w.useState(!1),[f,d]=w.useState(null),[p,h]=w.useState(!1),[m,y]=w.useState(!1),[x,v]=w.useState([]),[g,b]=w.useState([]),{showToast:_}=ve();w.useEffect(()=>{(async()=>{u(!0);try{const O=await Q.get("/api/rate-cards");r(O.data)}catch{_("Failed to fetch rate cards.","error")}finally{u(!1)}})()},[_]);const j=w.useCallback(async()=>{if(!s){a([]);return}u(!0);try{const A=await Q.get(`/api/rate-cards/${s}/entries`);a(A.data)}catch{_("Failed to fetch rate entries.","error")}finally{u(!1)}},[s,_]),N=w.useCallback(async()=>{if(!s){v([]);return}try{const A=await Q.get(`/api/rate-cards/${s}/customers`);v(A.data)}catch{_("Failed to fetch assigned customers.","error")}},[s,_]);w.useEffect(()=>{y(!1),h(!1),d(null),s&&(j(),N())},[s,j,N]);const D=async()=>{const A=prompt('Enter a name for the new rate card (e.g., "Standard 2024"):');if(A)try{const O=await Q.post("/api/rate-cards",{name:A});r(L=>[...L,O.data]),_("Rate card created.","success")}catch{_("Failed to create rate card.","error")}},S=async()=>{if(!s||g.length===0){_("Please select a rate card and at least one customer.","warning");return}try{await Q.post(`/api/rate-cards/${s}/customers`,{customerIds:g}),N(),b([]),_(`${g.length} customer(s) assigned successfully.`,"success")}catch{_("Failed to assign customers.","error")}},C=async A=>{if(!(!s||!A))try{await Q.delete(`/api/rate-cards/${s}/customers/${A}`),N(),_("Customer unassigned.","success")}catch{_("Failed to unassign customer.","error")}},E=async A=>{var O,L;if(s)try{const T=await Q.post(`/api/rate-cards/${s}/entries`,A);a(F=>[...F,T.data]),h(!1),y(!1),_("Rate entry added successfully!","success")}catch(T){const F=((L=(O=T.response)==null?void 0:O.data)==null?void 0:L.error)||"Failed to add rate entry.";_(F,"error"),console.error(T)}},k=A=>{h(!1),j();const{count:O=0,skipped:L=0}=A.data||{};let T=`Successfully imported ${O} rate entries.`;L>0&&(T+=` Skipped ${L} rows due to errors (check console for details).`),_(T,"success")},R=async()=>{var A,O;if(f)try{const L=await Q.put(`/api/rate-cards/entries/${f.id}`,f);a(T=>T.map(F=>F.id===f.id?L.data:F)),d(null),_("Rate entry updated successfully!","success")}catch(L){_(((O=(A=L.response)==null?void 0:A.data)==null?void 0:O.error)||"Failed to update rate entry.","error")}},I=async A=>{var O,L;if(window.confirm("Are you sure you want to delete this rate entry?"))try{await Q.delete(`/api/rate-cards/entries/${A}`),a(T=>T.filter(F=>F.id!==A)),_("Rate entry deleted.","success")}catch(T){_(((L=(O=T.response)==null?void 0:O.data)==null?void 0:L.error)||"Failed to delete rate entry.","error")}},B=async()=>{var A;if(s)try{const O=await Q.get(`/api/rate-cards/${s}/export`,{responseType:"blob"}),L=window.URL.createObjectURL(new Blob([O.data])),T=document.createElement("a");T.href=L;const F=((A=n.find(H=>H.id===s))==null?void 0:A.name)||"rate-card";T.setAttribute("download",`${F.replace(/\s+/g,"_")}_export.csv`),document.body.appendChild(T),T.click(),T.remove(),_("Export started successfully!","success")}catch{_("Failed to export rate card.","error")}},W=A=>{const{name:O,value:L}=A.target;d(T=>({...T,[O]:L===""?null:parseFloat(L)}))},U=["price_micro","price_quarter","price_half","price_half_plus","price_full_1","price_full_2","price_full_3","price_full_4","price_full_5","price_full_6","price_full_7","price_full_8","price_full_9","price_full_10"],V=w.useMemo(()=>{const A=new Set(x.map(O=>O.id));return e.filter(O=>!A.has(O.id))},[e,x.length]);return l.jsx("div",{children:l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",marginBottom:"1rem"},children:[l.jsxs("div",{className:"form-group",style:{margin:0},children:[l.jsx("label",{children:"Select Rate Card"}),l.jsxs("select",{value:s,onChange:A=>o(A.target.value),children:[l.jsx("option",{value:"",children:"-- Select Rate Card --"}),n.map(A=>l.jsx("option",{value:A.id,children:A.name},A.id))]})]}),l.jsxs("button",{onClick:D,className:"btn-secondary",style:{alignSelf:"flex-end"},children:[l.jsx(rr,{size:16})," New Rate Card"]})]}),s&&l.jsxs("div",{className:"form-grid",style:{gridTemplateColumns:"1fr 2fr",alignItems:"stretch"},children:[l.jsxs("div",{className:"card",children:[l.jsx("h5",{children:"Assigned Customers"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Assign new customers"}),l.jsx("select",{multiple:!0,value:g,onChange:A=>b(Array.from(A.target.selectedOptions,O=>O.value)),style:{height:"150px",marginBottom:"1rem"},children:V.map(A=>l.jsx("option",{value:A.id,children:A.name},A.id))}),l.jsxs("button",{onClick:S,className:"btn-primary",disabled:g.length===0,children:["Assign Selected (",g.length,")"]})]}),l.jsxs("ul",{className:"list",style:{maxHeight:"400px",overflowY:"auto",paddingLeft:"0",listStyle:"none"},children:[x.map(A=>l.jsxs("li",{className:"list-item",children:[l.jsx("span",{children:A.name}),l.jsx("button",{onClick:()=>C(A.id),className:"btn-icon btn-danger",title:"Unassign",children:l.jsx(Ff,{size:16})})]},A.id)),x.length===0&&l.jsx("p",{className:"no-results-message",children:"No customers assigned."})]})]}),l.jsxs("div",{className:"card",style:{display:"flex",flexDirection:"column"},children:[m&&l.jsx(mN,{zones:t,onSubmit:E,onCancel:()=>y(!1)}),p&&l.jsx(Xu,{title:"Import Rate Entries",apiEndpoint:`/api/rate-cards/${s}/entries/import`,postDataKey:"entries",dataMappingFn:A=>A,previewColumns:[{key:"Rate Type",header:"Rate Type"},{key:"Zone Name",header:"Zone Name"},{key:"Service Level",header:"Service Level"}],onSuccess:k,onCancel:()=>h(!1)}),l.jsxs("div",{style:{display:m||p?"none":"flex",flexDirection:"column",flexGrow:1,minHeight:0},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("h5",{children:"Rate Entries"}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsxs("button",{onClick:B,className:"btn-secondary",children:[l.jsx(po,{size:16})," Export"]}),l.jsxs("button",{onClick:()=>h(!0),className:"btn-secondary",children:[l.jsx(Nu,{size:16})," Import"]}),l.jsxs("button",{onClick:()=>y(!0),className:"btn-primary",children:[l.jsx(rr,{size:16})," Add Rate"]})]})]}),l.jsx("div",{className:"table-wrapper",style:{marginTop:"1rem"},children:l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Type"}),l.jsx("th",{children:"Zone"}),l.jsx("th",{children:"Service"}),U.map(A=>l.jsx("th",{style:{minWidth:"100px",textTransform:"capitalize"},children:A.replace("price_","").replace(/_/g," ")},A)),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:c?l.jsx("tr",{children:l.jsx("td",{colSpan:U.length+4,style:{textAlign:"center"},children:"Loading..."})}):i.length>0?i.map(A=>{var T;const O=((T=t.find(F=>F.id===A.zone_id))==null?void 0:T.zone_name)||"N/A",L=(f==null?void 0:f.id)===A.id;return l.jsxs("tr",{children:[l.jsx("td",{style:{textTransform:"capitalize"},children:A.rate_type.replace("_"," ")}),l.jsx("td",{children:O}),l.jsx("td",{children:A.service_level}),U.map(F=>l.jsx("td",{children:L?l.jsx("input",{type:"number",step:"0.01",name:F,value:f[F]??"",onChange:W,style:{width:"80px"},autoFocus:F===U[0]}):A[F]},`${A.id}-${F}`)),l.jsx("td",{className:"actions-cell",children:L?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:R,className:"btn-icon",title:"Save",children:l.jsx(X_,{size:16})}),l.jsx("button",{onClick:()=>d(null),className:"btn-icon",title:"Cancel",children:l.jsx(Ff,{size:16})})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>d({...A}),className:"btn-icon",title:"Edit Rate Entry",children:l.jsx(mo,{size:16})}),l.jsx("button",{onClick:()=>I(A.id),className:"btn-icon btn-danger",title:"Delete Rate Entry",children:l.jsx(Gr,{size:16})})]})})]},A.id)}):l.jsx("tr",{children:l.jsx("td",{colSpan:U.length+4,style:{textAlign:"center"},children:"No rate entries found for this rate card."})})})]})})]})]})]})]})})},yN=3e4,vN=({customers:e=[],zones:t=[],onRefresh:n})=>{const[r,s]=w.useState("zones"),[o,i]=w.useState(null),[a,c]=w.useState(!1);w.useEffect(()=>{if(!n)return;const f=setInterval(async()=>{c(!0);try{await n(),i(new Date)}catch(d){console.error("Auto-refresh failed:",d)}finally{c(!1)}},yN);return()=>clearInterval(f)},[n]);const u=async()=>{if(n){c(!0);try{await n(),i(new Date)}catch(f){console.error("Manual refresh failed:",f)}finally{c(!1)}}};return l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("h2",{children:"Pricing Management"}),l.jsx("button",{onClick:u,className:`refresh-button ${a?"spinning":""}`,title:"Refresh data","aria-label":"Refresh data",children:l.jsx(ho,{size:18})})]}),l.jsxs("div",{className:"tabs-container",style:{marginBottom:"1.5rem"},children:[l.jsx("button",{className:`tab-button ${r==="zones"?"active":""}`,onClick:()=>s("zones"),children:"Postcode Zones"}),l.jsx("button",{className:`tab-button ${r==="rates"?"active":""}`,onClick:()=>s("rates"),children:"Rate Cards"})]}),r==="zones"&&l.jsx(fN,{zones:t,onRefresh:n}),r==="rates"&&l.jsx(gN,{customers:e,zones:t}),l.jsx("div",{className:"refresh-info",children:o?l.jsxs("p",{children:["Last refreshed: ",o.toLocaleTimeString()]}):l.jsx("p",{children:"Waiting for first refresh..."})}),l.jsx("style",{jsx:!0,children:`
        .card-header h2 {
          margin: 0;
        }

        .refresh-button {
          background: none;
          border: none;
          cursor: pointer;
          color: #555;
          transition: transform 0.3s ease, color 0.3s ease;
        }

        .refresh-button:hover {
          color: #007bff;
          transform: scale(1.1);
        }

        .spinning {
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }

        .tab-button {
          padding: 0.5rem 1.2rem;
          margin-right: 0.5rem;
          border: 1px solid #ccc;
          border-radius: 6px;
          background: #f5f5f5;
          cursor: pointer;
          transition: all 0.25s ease;
        }

        .tab-button.active {
          background: #007bff;
          color: white;
          border-color: #007bff;
        }

        .tab-button:hover {
          background: #e0e0e0;
        }

        .refresh-info {
          margin-top: 1rem;
          font-size: 0.9rem;
          color: #777;
          text-align: right;
        }
      `})]})},xN={code:"",name:"",description:"",calculation_method:"per_order",amount:0,is_automatic:!1,requires_time:!1,start_time:"",end_time:""},wN=()=>{const{data:e,createResource:t,updateResource:n,deleteResource:r,fetchData:s}=st("/api/surcharge-types"),{showToast:o}=ve(),[i,a]=w.useState(!1),[c,u]=w.useState(null),f=async b=>{var _,j;try{c?(await n(c.id,b),o("Surcharge type updated successfully!","success")):(await t(b),o("Surcharge type created successfully!","success")),a(!1),u(null)}catch(N){throw o(((j=(_=N.response)==null?void 0:_.data)==null?void 0:j.error)||"Failed to save surcharge type.","error"),N}},{formData:d,handleChange:p,handleSubmit:h,loading:m}=Fn({initialState:xN,onSubmit:f,itemToEdit:w.useMemo(()=>c?{...c,start_time:c.start_time?c.start_time.substring(0,5):"",end_time:c.end_time?c.end_time.substring(0,5):""}:null,[c])}),y=async b=>{var _,j;if(window.confirm("Are you sure you want to delete this surcharge type?"))try{await r(b),o("Surcharge type deleted.","success"),s()}catch(N){o(((j=(_=N.response)==null?void 0:_.data)==null?void 0:j.error)||"Failed to delete surcharge type.","error")}},x=()=>{u(null),a(!0)},v=b=>{u(b),a(!0)},g=()=>{a(!1),u(null)};return l.jsxs("div",{className:"card",children:[l.jsx("h2",{children:"Surcharge Types Management"}),!i&&l.jsxs("button",{onClick:x,className:"btn-primary",style:{marginBottom:"1rem"},children:[l.jsx(rr,{size:16})," Add New Surcharge Type"]}),i&&l.jsxs("form",{onSubmit:h,className:"form",style:{marginBottom:"2rem",border:"1px solid #eee",padding:"1rem",borderRadius:"8px"},children:[l.jsx("h5",{children:c?"Edit Surcharge Type":"Add New Surcharge Type"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Code *"}),l.jsx("input",{type:"text",name:"code",value:d.code,onChange:p,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Name *"}),l.jsx("input",{type:"text",name:"name",value:d.name,onChange:p,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Description"}),l.jsx("input",{type:"text",name:"description",value:d.description,onChange:p})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Calculation Method"}),l.jsxs("select",{name:"calculation_method",value:d.calculation_method,onChange:p,children:[l.jsx("option",{value:"per_order",children:"Per Order"}),l.jsx("option",{value:"per_pallet_space",children:"Per Pallet Space"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Amount ()"}),l.jsx("input",{type:"number",step:"0.01",name:"amount",value:d.amount,onChange:p})]}),l.jsxs("div",{className:"form-group",style:{flexDirection:"row",alignItems:"center"},children:[l.jsx("input",{type:"checkbox",id:"is_automatic",name:"is_automatic",checked:d.is_automatic,onChange:p}),l.jsx("label",{htmlFor:"is_automatic",style:{marginBottom:0,marginLeft:"0.5rem"},children:"Automatic"})]}),l.jsxs("div",{className:"form-group",style:{flexDirection:"row",alignItems:"center"},children:[l.jsx("input",{type:"checkbox",id:"requires_time",name:"requires_time",checked:d.requires_time,onChange:p}),l.jsx("label",{htmlFor:"requires_time",style:{marginBottom:0,marginLeft:"0.5rem"},children:"Requires Time"})]}),d.requires_time&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Default Start Time"}),l.jsx("input",{type:"time",name:"start_time",value:d.start_time,onChange:p})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Default End Time"}),l.jsx("input",{type:"time",name:"end_time",value:d.end_time,onChange:p})]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:g,className:"btn-secondary",disabled:m,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:m,children:m?"Saving...":"Save"})]})]}),l.jsx("div",{className:"table-wrapper",children:l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Code"}),l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Method"}),l.jsx("th",{children:"Amount"}),l.jsx("th",{children:"Automatic"}),l.jsx("th",{children:"Requires Time"}),l.jsx("th",{children:"Start Time"}),l.jsx("th",{children:"End Time"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:e.map(b=>l.jsxs("tr",{children:[l.jsx("td",{children:b.code}),l.jsx("td",{children:b.name}),l.jsx("td",{style:{textTransform:"capitalize"},children:b.calculation_method.replace("_"," ")}),l.jsxs("td",{children:["",parseFloat(b.amount).toFixed(2)]}),l.jsx("td",{children:b.is_automatic?"Yes":"No"}),l.jsx("td",{children:b.requires_time?"Yes":"No"}),l.jsx("td",{children:b.start_time||"-"}),l.jsx("td",{children:b.end_time||"-"}),l.jsxs("td",{className:"actions-cell",children:[l.jsx("button",{onClick:()=>v(b),className:"btn-icon",children:l.jsx(mo,{size:16})}),l.jsx("button",{onClick:()=>y(b.id),className:"btn-icon btn-danger",children:l.jsx(Gr,{size:16})})]})]},b.id))})]})})]})},bN=({items:e=[],onRefresh:t,onEdit:n})=>{const r=Array.isArray(e)?e:[],s=[{key:"first_name",header:"Name",sortable:!0,render:a=>`${a.first_name} ${a.last_name}`},{key:"license_number",header:"Driver's License",sortable:!0},{key:"phone_number",header:"Phone",sortable:!0},{key:"cpc_number",header:"CPC",sortable:!0,render:a=>a.cpc_number||"N/A"},{key:"login_code",header:"Login Code",sortable:!0,render:a=>a.login_code||"N/A"},{key:"is_active",header:"Status",sortable:!0,render:a=>l.jsx("span",{className:`status ${a.is_active?"active":"inactive"}`,children:a.is_active?"Active":"Inactive"})}],{showToast:o}=ve(),i=async a=>{var c,u;if(window.confirm(`Are you sure you want to delete driver ${a.first_name} ${a.last_name}?`))try{await Q.delete(`/api/drivers/${a.id}`),o("Driver deleted successfully.","success"),t()}catch(f){o(((u=(c=f.response)==null?void 0:c.data)==null?void 0:u.error)||"Failed to delete driver.","error")}};return l.jsx(Yt,{items:r,columns:s,onRefresh:t,onEdit:n,onDelete:i,title:"Driver List",filterPlaceholder:"Filter drivers...",initialSortKey:"first_name",filterKeys:["first_name","last_name","license_number","cpc_number","login_code"]})},_N={first_name:"",last_name:"",phone_number:"",license_number:"",cpc_number:"",login_code:"",is_active:!0},SN=({onSuccess:e,onCancel:t,itemToEdit:n})=>{const{showToast:r}=ve(),s=!!n,o=p=>{const h={};return p.first_name||(h.first_name="First name is required."),p.last_name||(h.last_name="Last name is required."),p.license_number||(h.license_number="License number is required."),h},i=async p=>{var y,x;const h=s?`/api/drivers/${n.id}`:"/api/drivers",m=s?"put":"post";try{await Q[m](h,p),r(`Driver ${s?"updated":"added"} successfully!`,"success"),e&&e()}catch(v){const g=((x=(y=v.response)==null?void 0:y.data)==null?void 0:x.error)||"A server error occurred.";throw r(g,"error"),new Error(g)}},{formData:a,errors:c,loading:u,handleChange:f,handleSubmit:d}=Fn({initialState:_N,validate:o,onSubmit:i,itemToEdit:n});return l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:s?"Edit Driver":"Add New Driver"}),l.jsx("button",{onClick:t,className:"btn-icon",children:l.jsx(wt,{size:20})})]}),c.form&&l.jsx("div",{className:"error-message",children:c.form}),l.jsxs("form",{onSubmit:d,className:"form",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"First Name *"}),l.jsx("input",{type:"text",name:"first_name",value:a.first_name,onChange:f,required:!0,className:c.first_name?"input-error":""}),c.first_name&&l.jsx("span",{className:"error-text",children:c.first_name})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Last Name *"}),l.jsx("input",{type:"text",name:"last_name",value:a.last_name,onChange:f,required:!0,className:c.last_name?"input-error":""}),c.last_name&&l.jsx("span",{className:"error-text",children:c.last_name})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Phone Number"}),l.jsx("input",{type:"tel",name:"phone_number",value:a.phone_number,onChange:f})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Driver's License Number *"}),l.jsx("input",{type:"text",name:"license_number",value:a.license_number,onChange:f,required:!0,className:c.license_number?"input-error":""}),c.license_number&&l.jsx("span",{className:"error-text",children:c.license_number})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Certificate of Professional Competency (CPC)"}),l.jsx("input",{type:"text",name:"cpc_number",value:a.cpc_number,onChange:f})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Login Code (for mobile app)"}),l.jsx("input",{type:"text",name:"login_code",value:a.login_code,onChange:f})]}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{children:[l.jsx("input",{type:"checkbox",name:"is_active",checked:a.is_active,onChange:f}),"Active"]})}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:u,children:"Cancel"}),l.jsx("button",{type:"submit",disabled:u,className:"btn-primary",children:u?s?"Saving...":"Adding...":s?"Save Changes":"Add Driver"})]})]})]})},CN=({items:e=[],onRefresh:t,onEdit:n})=>{const r=Array.isArray(e)?e:[],s=[{key:"registration_plate",header:"Registration",sortable:!0},{key:"brand",header:"Brand",sortable:!0,render:a=>a.brand||"-"},{key:"model",header:"Model",sortable:!0,render:a=>a.model||"-"},{key:"vin",header:"VIN",sortable:!0,render:a=>a.vin||"-"},{key:"production_year",header:"Year",sortable:!0,render:a=>a.production_year||"-"},{key:"type_of_truck",header:"Vehicle Type",sortable:!0,render:a=>a.type_of_truck||"-"},{key:"total_weight",header:"Total Weight (kg)",sortable:!0,render:a=>a.type_of_truck==="rigid"&&a.total_weight?`${a.total_weight} kg`:"-"},{key:"pallet_capacity",header:"Pallet Capacity",sortable:!0,render:a=>a.type_of_truck==="rigid"&&a.pallet_capacity?a.pallet_capacity:"-"},{key:"max_payload_kg",header:"Payload (kg)",sortable:!0,render:a=>a.type_of_truck==="rigid"&&a.max_payload_kg?`${a.max_payload_kg} kg`:"-"}],{showToast:o}=ve(),i=async a=>{var c,u;if(window.confirm(`Are you sure you want to delete vehicle ${a.registration_plate}?`))try{await Q.delete(`/api/trucks/${a.id}`),await new Promise(f=>setTimeout(f,250)),o("Vehicle deleted successfully.","success"),t()}catch(f){o(((u=(c=f.response)==null?void 0:c.data)==null?void 0:u.error)||"Failed to delete vehicle.","error")}};return l.jsx(Yt,{items:r,columns:s,onRefresh:t,onEdit:n,onDelete:i,title:"Truck List",filterPlaceholder:"Filter vehicles...",initialSortKey:"registration_plate",filterKeys:["registration_plate","brand","model","vin","type_of_truck","production_year"]})},kN=({onSuccess:e,onCancel:t,itemToEdit:n})=>{const r=!!n,s={registration_plate:"",brand:"",model:"",vin:"",production_year:"",type_of_truck:"tractor",total_weight:"",pallet_capacity:"",max_payload_kg:"",is_active:!0},{showToast:o}=ve(),i=h=>{const m={};return h.registration_plate||(m.registration_plate="Registration plate is required."),h.brand||(m.brand="Brand is required."),h.model||(m.model="Model is required."),h.type_of_truck==="rigid"&&(h.total_weight||(m.total_weight="Total weight is required."),h.pallet_capacity||(m.pallet_capacity="Pallet capacity is required."),h.max_payload_kg||(m.max_payload_kg="Max payload is required.")),m},a=async h=>{var x,v;const m={...h,production_year:h.production_year?Number(h.production_year):null,total_weight:h.type_of_truck==="rigid"&&h.total_weight?Number(h.total_weight):null,pallet_capacity:h.type_of_truck==="rigid"&&h.pallet_capacity?Number(h.pallet_capacity):null,max_payload_kg:h.type_of_truck==="rigid"&&h.max_payload_kg?Number(h.max_payload_kg):null},y=r?Q.put(`/api/trucks/${n.id}`,m):Q.post("/api/trucks",m);try{await y,o(`Vehicle ${r?"updated":"added"} successfully!`,"success"),e()}catch(g){const b=((v=(x=g.response)==null?void 0:x.data)==null?void 0:v.error)||`An error occurred while ${r?"updating":"adding"} the vehicle.`;throw o(b,"error"),new Error(b)}},{formData:c,errors:u,loading:f,handleChange:d,handleSubmit:p}=Fn({initialState:s,validate:i,onSubmit:a,itemToEdit:n});return l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:r?"Edit Vehicle":"Add New Vehicle"}),l.jsx("button",{onClick:t,className:"btn-icon",children:l.jsx(wt,{size:20})})]}),u.form&&l.jsx("div",{className:"error-message",children:u.form}),l.jsxs("form",{onSubmit:p,className:"form",noValidate:!0,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Brand:"}),l.jsx("input",{type:"text",name:"brand",value:c.brand||"",onChange:d,required:!0,className:u.brand?"input-error":""}),u.brand&&l.jsx("span",{className:"error-text",children:u.brand})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Model:"}),l.jsx("input",{type:"text",name:"model",value:c.model||"",onChange:d,required:!0,className:u.model?"input-error":""}),u.model&&l.jsx("span",{className:"error-text",children:u.model})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Registration Plate:"}),l.jsx("input",{type:"text",name:"registration_plate",value:c.registration_plate||"",onChange:d,required:!0,className:u.registration_plate?"input-error":""}),u.registration_plate&&l.jsx("span",{className:"error-text",children:u.registration_plate})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"VIN:"}),l.jsx("input",{type:"text",name:"vin",value:c.vin||"",onChange:d,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Production Year:"}),l.jsx("input",{type:"number",name:"production_year",value:c.production_year||"",onChange:d,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Vehicle Type:"}),l.jsxs("select",{name:"type_of_truck",value:c.type_of_truck,onChange:d,required:!0,children:[l.jsx("option",{value:"tractor",children:"Tractor Unit"}),l.jsx("option",{value:"rigid",children:"Rigid Truck"})]})]}),c.type_of_truck==="rigid"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Total Weight (kg) *"}),l.jsx("input",{type:"number",name:"total_weight",value:c.total_weight||"",onChange:d,required:!0,className:u.total_weight?"input-error":""}),u.total_weight&&l.jsx("span",{className:"error-text",children:u.total_weight})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Pallet Capacity *"}),l.jsx("input",{type:"number",name:"pallet_capacity",value:c.pallet_capacity||"",onChange:d,required:!0,className:u.pallet_capacity?"input-error":""}),u.pallet_capacity&&l.jsx("span",{className:"error-text",children:u.pallet_capacity})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Max Payload (kg) *"}),l.jsx("input",{type:"number",name:"max_payload_kg",value:c.max_payload_kg||"",onChange:d,required:!0,className:u.max_payload_kg?"input-error":""}),u.max_payload_kg&&l.jsx("span",{className:"error-text",children:u.max_payload_kg})]})]}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{children:[l.jsx("input",{type:"checkbox",name:"is_active",checked:c.is_active,onChange:d}),"Active"]})}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:f,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:f,children:f?r?"Saving...":"Adding...":r?"Save Changes":"Add Vehicle"})]})]})]})},EN=({items:e=[],onRefresh:t,onEdit:n})=>{const r=Array.isArray(e)?e:[],s=[{key:"customer_code",header:"Code"},{key:"name",header:"Name"},{key:"address_line1",header:"Address"},{key:"postcode",header:"Postcode"},{key:"phone_number",header:"Phone"},{key:"vat_number",header:"VAT Number"},{key:"created_at",header:"Creation Date",render:a=>new Date(a.created_at).toLocaleDateString()}],{showToast:o}=ve(),i=async a=>{var c,u;if(window.confirm(`Are you sure you want to delete customer "${a.name}"?`))try{await Q.delete(`/api/customers/${a.id}`),o("Customer deleted successfully.","success"),t()}catch(f){o(((u=(c=f.response)==null?void 0:c.data)==null?void 0:u.error)||"Failed to delete customer.","error")}};return l.jsx(Yt,{items:r,columns:s,onEdit:n,onDelete:i,onRefresh:t,title:"Customers",filterPlaceholder:"Filter customers...",initialSortKey:"name",filterKeys:["name","customer_code","postcode"]})},jN={customer_code:"",name:"",address_line1:"",address_line2:"",address_line3:"",address_line4:"",postcode:"",phone_number:"",country_code:"GB",category:"",currency:"GBP",vat_number:"",payment_terms:"30",status:"active",pod_on_portal:!1,invoice_on_portal:!1,handheld_status_on_portal:!1,eta_status_on_portal:!1,general_status_on_portal:!1},NN=({onSuccess:e,onCancel:t,itemToEdit:n})=>{const r=!!n,{showToast:s}=ve(),o=p=>{const h={};return p.name||(h.name="Customer name is required."),p.customer_code||(h.customer_code="Customer code is required."),h},i=async p=>{var m,y;const h=r?Q.put(`/api/customers/${n.id}`,p):Q.post("/api/customers",p);try{await h,s(`Customer ${r?"updated":"added"} successfully!`,"success"),e()}catch(x){const v=((y=(m=x.response)==null?void 0:m.data)==null?void 0:y.error)||"An unexpected error occurred.";throw s(v,"error"),new Error(v)}},{formData:a,errors:c,loading:u,handleChange:f,handleSubmit:d}=Fn({initialState:jN,validate:o,onSubmit:i,itemToEdit:n});return l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:r?"Edit Customer":"Add New Customer"}),l.jsx("button",{onClick:t,className:"btn-icon",children:l.jsx(wt,{size:20})})]}),c.form&&l.jsx("div",{className:"error-message",children:c.form}),l.jsxs("form",{onSubmit:d,className:"form",children:[l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-column",children:[l.jsx("h4",{children:"Main Details"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Customer Code"}),l.jsx("input",{type:"text",name:"customer_code",value:a.customer_code??"",onChange:f,className:c.customer_code?"input-error":""}),c.customer_code&&l.jsx("span",{className:"error-text",children:c.customer_code})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Customer Name *"}),l.jsx("input",{type:"text",name:"name",value:a.name??"",onChange:f,required:!0,className:c.name?"input-error":""}),c.name&&l.jsx("span",{className:"error-text",children:c.name})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Status"}),l.jsxs("select",{name:"status",value:a.status,onChange:f,children:[l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Category"}),l.jsx("input",{type:"text",name:"category",value:a.category??"",onChange:f})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"VAT Number"}),l.jsx("input",{type:"text",name:"vat_number",value:a.vat_number??"",onChange:f})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Payment Terms (days)"}),l.jsx("input",{type:"number",name:"payment_terms",value:a.payment_terms??"",onChange:f})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Currency"}),l.jsx("input",{type:"text",name:"currency",value:a.currency??"",onChange:f})]})]}),l.jsxs("div",{className:"form-column",children:[l.jsx("h4",{children:"Address & Contact"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Address Line 1"}),l.jsx("input",{type:"text",name:"address_line1",value:a.address_line1??"",onChange:f})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Address Line 2"}),l.jsx("input",{type:"text",name:"address_line2",value:a.address_line2??"",onChange:f})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Postcode"}),l.jsx("input",{type:"text",name:"postcode",value:a.postcode??"",onChange:f})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Phone Number"}),l.jsx("input",{type:"tel",name:"phone_number",value:a.phone_number??"",onChange:f})]})]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:u,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Saving...":"Save Customer"})]})]})]})},RN=({items:e=[],onRefresh:t,onEdit:n})=>{const r=Array.isArray(e)?e:[],[s,o]=w.useState(!1),i=[{key:"registration_plate",header:"Trailer Code",sortable:!0},{key:"description",header:"Description",sortable:!0},{key:"category",header:"Category",sortable:!0},{key:"max_payload_kg",header:"Payload (kg)",sortable:!0,render:u=>u.max_payload_kg??"-"},{key:"max_spaces",header:"Spaces",sortable:!0,render:u=>u.max_spaces??"-"},{key:"length_m",header:"Length (m)",sortable:!0,render:u=>u.length_m??"-"},{key:"status",header:"Status",sortable:!0,render:u=>l.jsx("span",{className:`status ${u.status||"unknown"}`,children:u.status||"Unknown"})}],{showToast:a}=ve(),c=async u=>{var f,d;if(window.confirm(`Are you sure you want to delete trailer ${u.registration_plate}?`)){o(!0);try{await Q.delete(`/api/trailers/${u.id}`),a("Trailer deleted successfully.","success"),t()}catch(p){a(((d=(f=p.response)==null?void 0:f.data)==null?void 0:d.error)||"Failed to delete trailer.","error")}finally{o(!1)}}};return l.jsx(Yt,{items:r,columns:i,onRefresh:t,onEdit:n,onDelete:s?()=>{}:c,title:"Trailer List",filterPlaceholder:"Filter trailers...",initialSortKey:"registration_plate",filterKeys:["registration_plate","description","category","status"]})},DN=({onSuccess:e,onCancel:t,itemToEdit:n})=>{const r={registration_plate:"",description:"",category:"Own",brand:"",max_payload_kg:"",max_spaces:"",length_m:"",width_m:"",height_m:"",weight_kg:"",status:"active"},s=!!n,{showToast:o}=ve(),i=h=>{const m={};return h.registration_plate||(m.registration_plate="Trailer Code is required."),h.description||(m.description="Description is required."),h.brand||(m.brand="Brand is required."),h.max_payload_kg||(m.max_payload_kg="Max Payload is required."),h.max_spaces||(m.max_spaces="Max Pallet Spaces is required."),m},a=async h=>{var v,g;const m={...h,max_payload_kg:h.max_payload_kg?Number(h.max_payload_kg):null,max_spaces:h.max_spaces?Number(h.max_spaces):null,length_m:h.length_m?Number(h.length_m):null,width_m:h.width_m?Number(h.width_m):null,height_m:h.height_m?Number(h.height_m):null,weight_kg:h.weight_kg?Number(h.weight_kg):null},y=s?`/api/trailers/${n.id}`:"/api/trailers",x=s?"put":"post";try{await Q[x](y,m),o(`Trailer ${s?"updated":"added"} successfully!`,"success"),e()}catch(b){const _=((g=(v=b.response)==null?void 0:v.data)==null?void 0:g.error)||`An error occurred while ${s?"updating":"adding"} the trailer.`;throw o(_,"error"),new Error(_)}},{formData:c,errors:u,loading:f,handleChange:d,handleSubmit:p}=Fn({initialState:r,validate:i,onSubmit:a,itemToEdit:n});return l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:s?"Edit Trailer":"Add New Trailer"}),l.jsx("button",{onClick:t,className:"btn-icon",children:l.jsx(wt,{size:20})})]}),u.form&&l.jsx("div",{className:"error-message",children:u.form}),l.jsxs("form",{onSubmit:p,className:"form",children:[l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-column",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Trailer Code (Reg. Plate) *"}),l.jsx("input",{type:"text",name:"registration_plate",value:c.registration_plate,onChange:d,required:!0,className:u.registration_plate?"input-error":""}),u.registration_plate&&l.jsx("span",{className:"error-text",children:u.registration_plate})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Description *"}),l.jsx("input",{type:"text",name:"description",value:c.description,onChange:d,required:!0,className:u.description?"input-error":""}),u.description&&l.jsx("span",{className:"error-text",children:u.description})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Brand *"}),l.jsx("input",{type:"text",name:"brand",value:c.brand,onChange:d,required:!0,className:u.brand?"input-error":""}),u.brand&&l.jsx("span",{className:"error-text",children:u.brand})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Category"}),l.jsxs("select",{name:"category",value:c.category,onChange:d,children:[l.jsx("option",{value:"Own",children:"Own"}),l.jsx("option",{value:"Subcontractor",children:"Subcontractor"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Status"}),l.jsxs("select",{name:"status",value:c.status,onChange:d,children:[l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),l.jsxs("div",{className:"form-column",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Max Payload (kg) *"}),l.jsx("input",{type:"number",name:"max_payload_kg",value:c.max_payload_kg,onChange:d,required:!0,className:u.max_payload_kg?"input-error":""}),u.max_payload_kg&&l.jsx("span",{className:"error-text",children:u.max_payload_kg})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Max Pallet Spaces *"}),l.jsx("input",{type:"number",name:"max_spaces",value:c.max_spaces,onChange:d,required:!0,className:u.max_spaces?"input-error":""}),u.max_spaces&&l.jsx("span",{className:"error-text",children:u.max_spaces})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Length (m)"}),l.jsx("input",{type:"number",step:"0.01",name:"length_m",value:c.length_m,onChange:d})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Width (m)"}),l.jsx("input",{type:"number",step:"0.01",name:"width_m",value:c.width_m,onChange:d})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Height (m)"}),l.jsx("input",{type:"number",step:"0.01",name:"height_m",value:c.height_m,onChange:d})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Weight (kg)"}),l.jsx("input",{type:"number",name:"weight_kg",value:c.weight_kg,onChange:d})]})]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:f,children:"Cancel"}),l.jsx("button",{type:"submit",disabled:f,className:"btn-primary",children:f?s?"Saving...":"Adding...":s?"Save Changes":"Add Trailer"})]})]})]})},AN=({items:e=[],onRefresh:t,onEdit:n,currentUser:r})=>{const s=Array.isArray(e)?e:[],{showToast:o}=ve(),i=[{key:"name",header:"Name",sortable:!0,render:c=>`${c.first_name||""} ${c.last_name||""}`.trim()||c.email||"-"},{key:"email",header:"Email",sortable:!0,render:c=>c.email||"-"},{key:"role",header:"Role",sortable:!0,render:c=>c.role==="admin"?"Admin":c.role==="dispatcher"?"Dispatcher":"-"}],a=async c=>{var u,f;if(c.id===(r==null?void 0:r.id)){o("You cannot delete your own account.","error");return}if(window.confirm(`Are you sure you want to delete user ${c.email}?`))try{await Q.delete(`/api/users/${c.id}`),o("User deleted successfully.","success"),t()}catch(d){o(((f=(u=d.response)==null?void 0:u.data)==null?void 0:f.error)||"Failed to delete user.","error")}};return l.jsx(Yt,{items:s,columns:i,onRefresh:t,onEdit:n,onDelete:a,title:"User List",filterPlaceholder:"Search users...",initialSortKey:"name",filterKeys:["email","role","first_name","last_name"],currentUser:r})},PN=({onSuccess:e,onCancel:t,itemToEdit:n})=>{const r=!!n,s={email:"",first_name:"",last_name:"",password:"",role:"dispatcher"},{showToast:o}=ve(),i=h=>{const m={};return h.email||(m.email="Email is required."),h.first_name||(m.first_name="First name is required."),h.last_name||(m.last_name="Last name is required."),!r&&(!h.password||h.password.length<6)&&(m.password="Password must be at least 6 characters long."),m},a=async h=>{var m,y;try{r?(await Q.put(`/api/users/${n.id}`,{role:h.role,first_name:h.first_name,last_name:h.last_name}),o("User updated successfully!","success")):(await Q.post("/api/users",h),o("User created successfully!","success")),e()}catch(x){const v=((y=(m=x.response)==null?void 0:m.data)==null?void 0:y.error)||"An error occurred.";throw o(v,"error"),new Error(v)}},{formData:c,errors:u,loading:f,handleChange:d,handleSubmit:p}=Fn({initialState:s,validate:i,onSubmit:a,itemToEdit:n});return l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:r?"Edit User":"Add New User"}),l.jsx("button",{onClick:t,className:"btn-icon",children:l.jsx(wt,{size:20})})]}),u.form&&l.jsx("div",{className:"error-message",children:u.form}),l.jsxs("form",{onSubmit:p,className:"form",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Email *"}),l.jsx("input",{type:"email",name:"email",value:c.email,onChange:d,required:!0,disabled:r,className:u.email?"input-error":""}),u.email&&l.jsx("span",{className:"error-text",children:u.email})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"First Name *"}),l.jsx("input",{type:"text",name:"first_name",value:c.first_name,onChange:d,required:!0,className:u.first_name?"input-error":""}),u.first_name&&l.jsx("span",{className:"error-text",children:u.first_name})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Last Name *"}),l.jsx("input",{type:"text",name:"last_name",value:c.last_name,onChange:d,required:!0,className:u.last_name?"input-error":""}),u.last_name&&l.jsx("span",{className:"error-text",children:u.last_name})]}),!r&&l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Password *"}),l.jsx("input",{type:"password",name:"password",value:c.password,onChange:d,required:!0,className:u.password?"input-error":""}),u.password&&l.jsx("span",{className:"error-text",children:u.password})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Role *"}),l.jsxs("select",{name:"role",value:c.role,onChange:d,required:!0,children:[l.jsx("option",{value:"dispatcher",children:"Dispatcher"}),l.jsx("option",{value:"admin",children:"Admin"})]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:f,children:"Cancel"}),l.jsx("button",{type:"submit",disabled:f,className:"btn-primary",children:f?r?"Saving...":"Adding...":r?"Save Changes":"Add User"})]})]})]})},IN=({items:e=[],zones:t=[],onRefresh:n,onEdit:r})=>{const{showToast:s}=ve();console.log(" OrderList safeOrders check:",{orders:e,safeOrders:Array.isArray(e)?e:[],safeOrdersLength:(Array.isArray(e)?e:[]).length});const o=Array.isArray(e)?e:[],[i,a]=le.useState("all"),[c,u]=le.useState({start:new Date().toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),f=y=>{if(!y)return"-";try{return new Date(y).toLocaleString()}catch{return"-"}},d=[{key:"order_number",header:"Consignment #",icon:l.jsx(Eu,{size:16}),sortable:!0},{key:"customer_reference",header:"Customer Ref",sortable:!0},{key:"status",header:"Status",render:y=>l.jsx("span",{className:`status status-${y.status}`,children:y.status}),sortable:!0},{key:"sender_details.name",header:"Loading",render:y=>{var x,v;return l.jsxs("div",{children:[l.jsxs("div",{children:[(x=y.sender_details)==null?void 0:x.name,", ",(v=y.sender_details)==null?void 0:v.townCity]}),l.jsx("div",{className:"date-time",children:f(y.loading_date_time)})]})}},{key:"recipient_details.name",header:"Unloading",render:y=>{var x,v;return l.jsxs("div",{children:[l.jsxs("div",{children:[(x=y.recipient_details)==null?void 0:x.name,", ",(v=y.recipient_details)==null?void 0:v.townCity]}),l.jsx("div",{className:"date-time",children:f(y.unloading_date_time)})]})}},{key:"final_price",header:"Price",icon:l.jsx(qs,{size:16}),render:y=>y.final_price?`${parseFloat(y.final_price).toFixed(2)}`:"-"},{key:"created_at",header:"Created",icon:l.jsx(Cg,{size:16}),render:y=>new Date(y.created_at).toLocaleDateString(),sortable:!0}],p=async y=>{try{const x=await Q.get(`/api/orders/${y.id}/labels`,{responseType:"blob"}),v=window.URL.createObjectURL(new Blob([x.data])),g=document.createElement("a");g.href=v,g.setAttribute("download",`labels_order_${y.id}.pdf`),document.body.appendChild(g),g.click(),s("Labels downloaded successfully.","success"),g.remove()}catch{s("Failed to generate labels.","error")}},h=async y=>{var x,v;if(window.confirm(`Are you sure you want to delete order ${y.customer_reference||y.id}?`))try{await Q.delete(`/api/orders/${y.id}`),s("Order deleted successfully.","success"),n()}catch(g){s(((v=(x=g.response)==null?void 0:x.data)==null?void 0:v.error)||"Failed to delete order.","error")}},m=le.useMemo(()=>{let x=[...Array.isArray(o)?o:[]];const g=(Array.isArray(t)?t:[]).find(j=>j.is_home_zone);i==="delivery"&&g?x=x.filter(j=>{var N;return zi((N=j.recipient_details)==null?void 0:N.postCode,g)}):i==="collections"&&g&&(x=x.filter(j=>{var N;return zi((N=j.sender_details)==null?void 0:N.postCode,g)}));const{start:b,end:_}=c;return b&&_&&(x=x.filter(j=>{const N=i==="collections"?j.loading_date_time:i==="delivery"?j.unloading_date_time:j.created_at;if(!N)return!1;try{const D=new Date(N).toISOString().split("T")[0];return D>=b&&D<=_}catch{return!1}})),x},[o,t,i,c]);return l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"planit-section-header",style:{padding:"0 0 1rem 0",marginBottom:"1rem"},children:[l.jsxs("div",{className:"tabs-container",children:[l.jsx("button",{className:`tab-button ${i==="all"?"active":""}`,onClick:()=>a("all"),children:"All Orders"}),l.jsx("button",{className:`tab-button ${i==="delivery"?"active":""}`,onClick:()=>a("delivery"),children:"Delivery"}),l.jsx("button",{className:`tab-button ${i==="collections"?"active":""}`,onClick:()=>a("collections"),children:"Collections"})]}),l.jsxs("div",{className:"form-group",style:{margin:"0 0 0 1rem",minWidth:"160px"},children:[l.jsx("label",{style:{fontSize:"0.8rem",marginBottom:"0.25rem"},children:"From Date"}),l.jsx("input",{type:"date",value:c.start,onChange:y=>u(x=>({...x,start:y.target.value}))})]}),l.jsxs("div",{className:"form-group",style:{margin:"0 0 0 1rem",minWidth:"160px"},children:[l.jsx("label",{style:{fontSize:"0.8rem",marginBottom:"0.25rem"},children:"To Date"}),l.jsx("input",{type:"date",value:c.end,onChange:y=>u(x=>({...x,end:y.target.value}))})]})]}),l.jsx(Yt,{items:m,columns:d,onRefresh:n,onEdit:r,onDelete:h,customActions:[{icon:l.jsx(kg,{size:16}),onClick:p,title:"Print Pallet Labels"}],title:"Order List",filterPlaceholder:"Filter orders...",initialSortKey:"created_at",filterKeys:["order_number","customer_reference","status","sender_details.townCity","recipient_details.townCity","sender_details.name","recipient_details.name"]})]})},Xy=({onSuccess:e,orderToEdit:t})=>{const[n,r]=w.useState({order_number:"",reference:"",customer_id:"",sender:"",recipient:"",cargo:"",price:"",calculated_price:"",final_price:"",pickup_time:"",delivery_time:"",selected_surcharges:[]}),[s,o]=w.useState([]),[i,a]=w.useState([]),[c,u]=w.useState({}),[f,d]=w.useState(!1),[p,h]=w.useState(!1),{showToast:m}=ve(),y=()=>{const _={};return n.order_number.trim()||(_.order_number="Order number is required"),n.customer_id||(_.customer_id="Customer is required"),n.sender.trim()||(_.sender="Sender is required"),n.recipient.trim()||(_.recipient="Recipient is required"),n.cargo.trim()||(_.cargo="Cargo details are required"),(!n.final_price||isNaN(n.final_price))&&(_.final_price="Valid price required"),_};w.useEffect(()=>{(async()=>{try{h(!0);const[j,N]=await Promise.all([Q.get("/api/customers"),Q.get("/api/surcharge-types")]);o(j.data),a(N.data)}catch{m("Failed to load form data.","error")}finally{h(!1)}})()},[]),w.useEffect(()=>{t&&r(t)},[t]),w.useEffect(()=>{n.calculated_price&&!n.final_price&&r(_=>({..._,final_price:n.calculated_price}))},[n.calculated_price]);const x=w.useMemo(()=>{var _;return(_=n.selected_surcharges)==null?void 0:_.some(j=>{var N;return(N=i.find(D=>D.code===j))==null?void 0:N.requires_time})},[n.selected_surcharges,i]),v=_=>{const{name:j,value:N}=_.target;r(D=>({...D,[j]:N}))},g=_=>{r(j=>{const N=j.selected_surcharges.includes(_)?j.selected_surcharges.filter(D=>D!==_):[...j.selected_surcharges,_];return{...j,selected_surcharges:N}})},b=async _=>{var N,D,S;_.preventDefault();const j=y();if(u(j),Object.keys(j).length>0){const C=Object.keys(j)[0],E=document.querySelector(`[name="${C}"]`);E&&E.focus();return}try{d(!0),m(t?"Order updated!":"Order added!","success"),r({order_number:"",reference:"",customer_id:"",sender:"",recipient:"",cargo:"",price:"",calculated_price:"",final_price:"",pickup_time:"",delivery_time:"",selected_surcharges:[]}),e&&(e(),window.dispatchEvent(new Event("ordersUpdated")))}catch(C){const E=((N=C.response)==null?void 0:N.status)===409?"Order number or reference already exists.":((S=(D=C.response)==null?void 0:D.data)==null?void 0:S.error)||"Failed to save order.";m(E,"error")}finally{d(!1)}};return p?l.jsx("p",{children:"Loading form..."}):l.jsxs("form",{onSubmit:b,className:"form-card",children:[l.jsx("h2",{children:t?"Edit Order":"Add New Order"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Order Number"}),l.jsx("input",{name:"order_number",value:n.order_number,onChange:v,disabled:f}),c.order_number&&l.jsx("small",{className:"error",children:c.order_number})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Customer"}),l.jsxs("select",{name:"customer_id",value:n.customer_id,onChange:v,disabled:f,children:[l.jsx("option",{value:"",children:"Select customer"}),s.map(_=>l.jsx("option",{value:_.id,children:_.name},_.id))]}),c.customer_id&&l.jsx("small",{className:"error",children:c.customer_id})]}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Sender"}),l.jsx("input",{name:"sender",value:n.sender,onChange:v,disabled:f}),c.sender&&l.jsx("small",{className:"error",children:c.sender})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Recipient"}),l.jsx("input",{name:"recipient",value:n.recipient,onChange:v,disabled:f}),c.recipient&&l.jsx("small",{className:"error",children:c.recipient})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Cargo Details"}),l.jsx("textarea",{name:"cargo",value:n.cargo,onChange:v,disabled:f}),c.cargo&&l.jsx("small",{className:"error",children:c.cargo})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Surcharges"}),l.jsx("div",{className:"surcharges-list",children:i.map(_=>l.jsxs("label",{className:"checkbox-label",children:[l.jsx("input",{type:"checkbox",checked:n.selected_surcharges.includes(_.code),onChange:()=>g(_.code),disabled:f}),_.name]},_.code))})]}),x&&l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Pickup Time"}),l.jsx("input",{type:"datetime-local",name:"pickup_time",value:n.pickup_time,onChange:v,disabled:f})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Delivery Time"}),l.jsx("input",{type:"datetime-local",name:"delivery_time",value:n.delivery_time,onChange:v,disabled:f})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Final Price ()"}),l.jsx("input",{type:"number",name:"final_price",value:n.final_price,onChange:v,disabled:f}),c.final_price&&l.jsx("small",{className:"error",children:c.final_price})]}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:f,children:f?"Saving...":t?"Update Order":"Add Order"})]})},ON=({user:e,data:t,actions:n,refreshAll:r,handleDeleteRequest:s,handleEditOrderFromAnywhere:o,handlePrintLabels:i})=>{var S;if(!t)return console.warn(" generateViewConfig called without data"),{};const a=(e==null?void 0:e.role)==="admin",c=(e==null?void 0:e.role)==="dispatcher",{orders:u,drivers:f,trucks:d,trailers:p,users:h,assignments:m,runs:y,customers:x,zones:v,surcharges:g,invoices:b}=t||{},_={runs:{Component:C1,props:{runs:y,trucks:d,trailers:p,drivers:f,onDataRefresh:r,onDeleteRequest:s,runActions:n==null?void 0:n.runs}},planit:{Component:Yy,props:{orders:u,runs:y,assignments:Array.isArray(m)?m:[],drivers:f,trucks:d,trailers:p,zones:v,pallets:(t==null?void 0:t.pallets)||[],onAssignmentCreated:r,onEdit:o,surcharges:g,runActions:n==null?void 0:n.runs,onDeleteRequest:s,bulkAssignOrders:(S=n==null?void 0:n.assignments)==null?void 0:S.bulkCreate}},finance:{Component:aN,props:{orders:u,customers:x,surcharges:g,invoices:b,onEdit:o,onRefresh:r,invoiceActions:n.invoices}},pricing:{Component:vN,props:{customers:x,zones:v,onRefresh:r}},surcharges:{Component:wN,props:{surcharges:g}}},j={drivers:{ListComponent:bN,FormComponent:SN,data:Array.isArray(f)?f:[]},trucks:{ListComponent:CN,FormComponent:kN,data:Array.isArray(d)?d:[]},customers:{ListComponent:EN,FormComponent:NN,data:Array.isArray(x)?x:[]},trailers:{ListComponent:RN,FormComponent:DN,data:Array.isArray(p)?p:[]},users:{ListComponent:AN,FormComponent:PN,data:Array.isArray(h)?h:[]}},N={orders:{ListComponent:IN,FormComponent:Xy,formProps:{clients:Array.isArray(x)?x:[],surcharges:Array.isArray(g)?g:[]},data:Array.isArray(u)?u:[],customActions:[{icon:l.jsx(kg,{size:16}),onClick:i,title:"Print Pallet Labels"}]}};let D={..._};return a?D={...D,...j,...N}:c&&(D={...D,...N}),D},Zy=w.createContext(null),wl=()=>{const e=w.useContext(Zy);if(!e)throw new Error("useDashboard must be used within a DashboardProvider");return e},TN=({children:e})=>{const{user:t,logout:n}=qr(),{showToast:r}=ve(),s=lo(),o=m1(),i=g1(t==null?void 0:t.role),a=w.useRef(!1),c=w.useCallback(()=>{n(),s("/login",{replace:!0})},[n,s]),u=w.useCallback(()=>{a.current||(a.current=!0,i.refreshAll().catch(h=>{console.error(" Error during refreshAll after form success:",h),r("Failed to refresh dashboard data.","error")}).finally(()=>{o.handleCancelForm(),setTimeout(()=>a.current=!1,800)}))},[i,r,o]),f=w.useCallback(async h=>{var m,y,x,v;try{if(!h)throw new Error("Resource not specified for export.");const g=await Q.get(`/api/${h}/export`,{responseType:"blob"});if((m=g.headers["content-type"])!=null&&m.includes("application")){const b=new Blob([g.data]),_=document.createElement("a");_.href=URL.createObjectURL(b),_.download=`${h}_export_${new Date().toISOString()}.csv`,_.click(),URL.revokeObjectURL(_.href),r(` Exported ${h} successfully.`,"success")}else r(((y=g.data)==null?void 0:y.message)||`Export for ${h} completed.`,"info")}catch(g){console.error(" Export error:",g);const b=((v=(x=g.response)==null?void 0:x.data)==null?void 0:v.error)||g.message||`Failed to export ${h}.`;r(b,"error")}},[r]),d=w.useMemo(()=>ON({user:t,data:i.data,actions:i.actions,refreshAll:i.refreshAll,handleDeleteRequest:o.handleDeleteRequest,handleEditOrderFromAnywhere:h=>{},handlePrintLabels:h=>{}}),[t,i.data,i.actions,i.refreshAll,o.handleDeleteRequest]),p=w.useMemo(()=>({...o,...i,user:t,viewConfig:d,handleLogout:c,handleFormSuccess:u,handleGenericExport:f}),[o,i,t,d,c,u,f]);return l.jsx(Zy.Provider,{value:p,children:e})},LN=e=>e?e.first_name&&e.last_name?`${e.first_name.charAt(0)}${e.last_name.charAt(0)}`.toUpperCase():e.email.split("@")[0].split(/[._-]/).filter(Boolean).map(r=>r.charAt(0)).join("").substring(0,2).toUpperCase():"",FN=[{title:"Main",icon:l.jsx(T_,{size:16}),links:[{view:"orders",label:"Orders",icon:l.jsx(Eu,{size:18}),roles:["admin","dispatcher"]},{view:"runs",label:"Runs",icon:l.jsx(F_,{size:18}),roles:["admin","dispatcher"]}]},{title:"PlanIt",icon:l.jsx(Fo,{size:16}),links:[{view:"planit",label:"PlanIt",icon:l.jsx(Fo,{size:18}),roles:["admin","dispatcher"]}]},{title:"Finance",icon:l.jsx(Xl,{size:16}),links:[{view:"finance",label:"Finance",icon:l.jsx(Xl,{size:18}),roles:["admin"]}]},{title:"Management",icon:l.jsx(Bf,{size:16}),links:[{view:"drivers",label:"Drivers",icon:l.jsx(Eg,{size:18}),roles:["admin"]},{view:"trucks",label:"Vehicles",icon:l.jsx(Fo,{size:18}),roles:["admin"]},{view:"trailers",label:"Trailers",icon:l.jsx(Fo,{size:18,style:{transform:"scaleX(-1)"}}),roles:["admin"]},{view:"customers",label:"Customers",icon:l.jsx(zf,{size:18}),roles:["admin"]},{view:"users",label:"Users",icon:l.jsx(zf,{size:18}),roles:["admin"]}]},{title:"Settings",icon:l.jsx(Bf,{size:16}),links:[{view:"pricing",label:"Pricing",icon:l.jsx(qs,{size:18}),roles:["admin"]},{view:"surcharges",label:"Surcharges",icon:l.jsx(Xl,{size:18}),roles:["admin"]}]}],MN=()=>{const{user:e,handleLogout:t,currentView:n,handleViewChange:r,isLoading:s,globalAutoRefresh:o,setGlobalAutoRefresh:i}=wl();return l.jsxs("nav",{className:"sidebar",children:[l.jsxs("div",{className:"sidebar-header",children:[l.jsx("div",{className:"user-avatar",title:e==null?void 0:e.email,children:l.jsx("span",{children:LN(e)})}),l.jsx("button",{onClick:t,className:"btn-icon btn-logout",title:"Logout",children:l.jsx(B_,{size:20})})]}),l.jsxs("div",{className:"sidebar-auto-refresh",style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem",marginLeft:"1rem"},children:[l.jsx(ho,{size:16}),l.jsxs("label",{style:{fontSize:"0.9rem",userSelect:"none"},children:[l.jsx("input",{type:"checkbox",checked:o,onChange:a=>i(a.target.checked),style:{marginRight:"0.4rem"}}),"Auto Refresh"]})]}),l.jsx("h1",{className:"sidebar-title",children:" TMS System"}),s&&l.jsx("div",{className:"global-loading",children:"Loading..."}),l.jsx("div",{className:"sidebar-content",children:FN.map(a=>l.jsxs("div",{className:"sidebar-section",children:[l.jsx("div",{className:"sidebar-section-icon",children:a.icon}),a.links.filter(c=>c.roles.includes(e==null?void 0:e.role)).map(c=>l.jsx("button",{title:c.label,className:`tab ${n===c.view?"tab-active":""}`,onClick:()=>r(c.view),disabled:s,children:c.icon},c.view))]},a.title))})]})},BN=({viewConfig:e})=>{var _;const{user:t}=qr(),{currentView:n,showForm:r,importerConfig:s,handleShowImporter:o,handleCancelForm:i,setShowForm:a,setItemToEdit:c,handleHideImporter:u,handleGenericExport:f,isLoading:d,globalAutoRefresh:p,setGlobalAutoRefresh:h}=wl();if(!e||!n)return l.jsxs("header",{className:"main-header",children:[l.jsx("div",{}),l.jsx("div",{className:"main-header-actions"})]});const m={orders:"order",drivers:"driver",trucks:"truck",trailers:"trailer",runs:"run",users:"user",customers:"customer",zones:"zone",planit:"PlanIt",finance:"Finance",pricing:"Pricing"},y=()=>m[n]||"",x=["drivers","trucks","trailers","customers","users"],v=Rg[n]&&(t==null?void 0:t.role)==="admin",g=x.includes(n)&&(t==null?void 0:t.role)==="admin",b=(_=e[n])==null?void 0:_.FormComponent;return l.jsxs("header",{className:"main-header",children:[l.jsx("div",{}),l.jsxs("div",{className:"main-header-actions",children:[l.jsxs("button",{onClick:()=>h(!p),className:`btn-icon ${p?"btn-success":"btn-secondary"}`,title:`Auto refresh ${p?"ON":"OFF"}`,children:[l.jsx(ho,{size:16}),l.jsx("span",{style:{marginLeft:"0.5rem"},children:p?"Auto ON":"Auto OFF"})]}),v&&l.jsxs("button",{onClick:()=>o(n),className:"btn-secondary",disabled:d||r||s,children:[l.jsx(Nu,{size:16})," Import from CSV"]}),g&&l.jsxs("button",{onClick:()=>f(n),className:"btn-secondary",disabled:d,children:[l.jsx(po,{size:16})," Export"]}),b&&l.jsx("button",{onClick:()=>{r?i():(c(null),a(!0),u())},className:"btn-primary",disabled:d,children:r?"Cancel":l.jsxs(l.Fragment,{children:[l.jsx(rr,{size:16})," Add ",y()]})})]})]})},zN=({viewConfig:e,autoRefreshEnabled:t})=>{const{currentView:n,isLoading:r,anyError:s,handleRefresh:o,importerConfig:i,handleFormSuccess:a,handleHideImporter:c,showForm:u,handleCancelForm:f,itemToEdit:d,handleEditClick:p,handleDeleteRequest:h,user:m,data:y}=wl(),{drivers:x=[],trucks:v=[],trailers:g=[],customers:b=[],zones:_=[],surcharges:j=[]}=y||{};if(!m||!e||!n)return l.jsx("div",{className:"loading",children:"Preparing view..."});const N=e[n];if(!N)return console.warn(` ViewRenderer: No config found for currentView "${n}"`),l.jsxs("div",{className:"error-container",children:["Unknown view: ",n]});const D=N==null?void 0:N.data,S=Array.isArray(D)?D:D?[D]:[];if(console.log(" Rendering view:",n,{hasConfig:!!N,dataType:typeof D,isArray:Array.isArray(D),dataLength:Array.isArray(D)?D.length:0}),s)return l.jsxs("div",{className:"error-container",children:[l.jsx("h3",{children:"Error loading data"}),l.jsx("p",{className:"error-message",children:s}),l.jsx("button",{onClick:()=>o(n),className:"btn-primary",children:"Try again"})]});if(N.Component&&!N.ListComponent)return l.jsx(br,{children:l.jsx(N.Component,{...N.props})});if(N.ListComponent){if(i)return l.jsx(br,{onReset:()=>o(n),children:l.jsx(Xu,{...i,onSuccess:a,onCancel:c})});if(u){const E={onSuccess:a,onCancel:f,itemToEdit:d,...n==="orders"&&{drivers:x,trucks:v,trailers:g,clients:b,surcharges:j}};return typeof N.FormComponent!="function"?(console.error(` Invalid FormComponent for view "${n}".`,N.FormComponent),l.jsx("div",{className:"error-container",children:"Form component not found."})):l.jsx(br,{onReset:()=>o(n),children:l.jsx(N.FormComponent,{...E})})}const C={items:S,onRefresh:()=>o(n),onEdit:p,isLoading:!!r,onDelete:h,currentUser:m,autoRefreshEnabled:t,...n==="orders"&&{drivers:x,trucks:v,trailers:g,zones:_}};return l.jsx(br,{onReset:()=>o(n),children:l.jsx(N.ListComponent,{...C})})}return l.jsx("div",{children:"No component to render for this view."})},$N=({isOpen:e,onClose:t,onConfirm:n,title:r,message:s})=>(w.useEffect(()=>{const o=i=>{i.key==="Escape"&&t()};return e&&document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[e,t]),e?l.jsx("div",{className:"modal-overlay fade-in",onClick:o=>{o.target.classList.contains("modal-overlay")&&t()},children:l.jsxs("div",{className:"modal-content card scale-in",tabIndex:-1,children:[l.jsx("button",{onClick:t,className:"btn-icon modal-close-button",children:l.jsx(wt,{size:24})}),l.jsxs("div",{className:"modal-header",children:[l.jsx(ju,{size:48,className:"text-danger"}),l.jsx("h2",{className:"modal-title",children:r||"Confirm Action"})]}),l.jsx("div",{className:"modal-body",children:l.jsx("p",{children:s||"Are you sure you want to perform this action?"})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{onClick:t,className:"btn-secondary",autoFocus:!0,children:"Cancel"}),l.jsx("button",{onClick:n,className:"btn-danger",children:"Confirm"})]})]})}):null),UN=()=>{const{modalState:e,handleCloseModal:t,globalAutoRefresh:n,viewConfig:r}=wl();return r?l.jsxs("div",{className:"dashboard-layout",children:[l.jsx(MN,{}),l.jsxs("main",{className:"main-content",children:[l.jsx(BN,{viewConfig:r}),l.jsx("div",{className:"view-container",children:l.jsx(zN,{viewConfig:r,autoRefreshEnabled:n})})]}),(e==null?void 0:e.isOpen)&&l.jsx($N,{message:e==null?void 0:e.message,onConfirm:e==null?void 0:e.onConfirm,onCancel:t})]}):l.jsx("div",{className:"loading",children:"Loading dashboard..."})},WN=()=>{const e=lo(),{login:t,loading:n}=qr(),{showToast:r}=ve(),s=w.useRef(null),[o,i]=w.useState({email:localStorage.getItem("rememberedEmail")||"",password:""}),[a,c]=w.useState(!!localStorage.getItem("rememberedEmail")),[u,f]=w.useState(()=>localStorage.getItem("theme")==="dark");w.useEffect(()=>{document.body.dataset.theme=u?"dark":"light",localStorage.setItem("theme",u?"dark":"light")},[u]);const d=h=>{const{id:m,value:y}=h.target;i(x=>({...x,[m]:y}))},p=async h=>{var x,v,g;h.preventDefault();const{email:m,password:y}=o;try{await t(m,y),r("Login successful!","success"),a?localStorage.setItem("rememberedEmail",m):localStorage.removeItem("rememberedEmail"),e("/")}catch(b){console.error("Login error:",b);const _=((v=(x=b.response)==null?void 0:x.data)==null?void 0:v.error)||"Login failed. Please check your credentials.";r(_,"error"),i(j=>({...j,password:""})),(g=s.current)==null||g.focus()}};return l.jsx("div",{className:"auth-page",children:l.jsxs("div",{className:"auth-card",children:[l.jsxs("div",{className:"auth-header",children:[l.jsx("h2",{children:"Login"}),l.jsx("button",{type:"button",onClick:()=>f(h=>!h),className:"theme-toggle",title:u?"Switch to light mode":"Switch to dark mode",children:u?l.jsx(n1,{size:20}):l.jsx($_,{size:20})})]}),l.jsxs("form",{onSubmit:p,noValidate:!0,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"email",children:"Email"}),l.jsx("input",{ref:s,type:"email",id:"email",value:o.email,onChange:d,autoComplete:"username",required:!0,autoFocus:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"password",children:"Password"}),l.jsx("input",{type:"password",id:"password",value:o.password,onChange:d,autoComplete:"current-password",required:!0})]}),l.jsx("div",{className:"form-group remember-me",children:l.jsxs("label",{children:[l.jsx("input",{type:"checkbox",checked:a,onChange:h=>c(h.target.checked)})," ","Remember Me"]})}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:n,"aria-busy":n,children:n?"Logging in":"Login"})]}),l.jsxs("p",{className:"auth-switch",children:["Dont have an account?"," ",l.jsx(Qm,{to:"/register",className:"auth-link",children:"Register"})]})]})})},VN=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(""),[s,o]=w.useState(""),[i,a]=w.useState(""),{register:c,loading:u}=qr(),{showToast:f}=ve(),d=lo(),p=w.useRef(null),h=async m=>{var y,x,v;m.preventDefault();try{await c({email:e,password:n,firstName:s,lastName:i}),f("Account created successfully! You can now log in.","success"),d("/login")}catch(g){const b=((x=(y=g.response)==null?void 0:y.data)==null?void 0:x.error)||"Registration failed. Please try again.";f(b,"error"),r(""),(v=p.current)==null||v.focus(),console.error("Registration error:",g)}};return l.jsx("div",{className:"auth-page",children:l.jsxs("div",{className:"auth-card",children:[l.jsx("h2",{children:"Create Account"}),l.jsxs("form",{onSubmit:h,children:[l.jsxs("div",{className:"form-grid",style:{gap:"1rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"firstName",children:"First Name"}),l.jsx("input",{type:"text",id:"firstName",value:s,onChange:m=>o(m.target.value),required:!0,placeholder:"John"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"lastName",children:"Last Name"}),l.jsx("input",{type:"text",id:"lastName",value:i,onChange:m=>a(m.target.value),required:!0,placeholder:"Doe"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"email",children:"Email"}),l.jsx("input",{type:"email",id:"email",value:e,onChange:m=>t(m.target.value),ref:p,required:!0,placeholder:"you@example.com"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"password",children:"Password"}),l.jsx("input",{type:"password",id:"password",value:n,onChange:m=>r(m.target.value),required:!0,placeholder:"********"})]}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:u,style:{width:"100%",marginTop:"1rem"},children:u?"Registering...":"Register"})]}),l.jsxs("p",{className:"auth-switch",style:{marginTop:"1rem"},children:["Already have an account? ",l.jsx(Qm,{to:"/login",children:"Login"})]})]})})},HN=()=>{const{isAuthenticated:e,isLoading:t}=qr();return t?l.jsx("div",{className:"loading",children:"Verifying authorization..."}):e?l.jsx(Sw,{}):l.jsx(_w,{to:"/login",replace:!0})},GN=()=>{const[e,t]=le.useState(null);le.useEffect(()=>{const r=sessionStorage.getItem("editOrderData");r&&t(JSON.parse(r))},[]);const n=()=>{Gj(),window.close()};return e?l.jsx(Xy,{...e,onSuccess:n,onCancel:()=>window.close()}):l.jsx("div",{className:"loading",children:"Loading order data..."})},qN=()=>l.jsx(rN,{children:l.jsx(Yy,{isPopOut:!0})});function KN(){return l.jsx(TN,{children:l.jsx(br,{children:l.jsxs(kw,{children:[l.jsx(Un,{path:"/login",element:l.jsx(WN,{})}),l.jsx(Un,{path:"/register",element:l.jsx(VN,{})}),l.jsxs(Un,{element:l.jsx(HN,{}),children:[l.jsx(Un,{path:"/*",element:l.jsx(UN,{})}),l.jsx(Un,{path:"/planit/popout",element:l.jsx(qN,{})}),l.jsx(Un,{path:"/orders/:orderId/edit",element:l.jsx(GN,{})})]})]})})})}ha.createRoot(document.getElementById("root")).render(l.jsx(le.StrictMode,{children:l.jsx(br,{children:l.jsx(Pw,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:l.jsx(f1,{children:l.jsx(p1,{children:l.jsx(KN,{})})})})})}));
