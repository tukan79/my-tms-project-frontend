var Jy=Object.defineProperty;var Zy=(e,t,n)=>t in e?Jy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Xu=(e,t,n)=>Zy(e,typeof t!="symbol"?t+"":t,n);function Xy(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jp={exports:{}},zi={},kp={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xs=Symbol.for("react.element"),tv=Symbol.for("react.portal"),nv=Symbol.for("react.fragment"),rv=Symbol.for("react.strict_mode"),sv=Symbol.for("react.profiler"),ov=Symbol.for("react.provider"),iv=Symbol.for("react.context"),lv=Symbol.for("react.forward_ref"),av=Symbol.for("react.suspense"),cv=Symbol.for("react.memo"),uv=Symbol.for("react.lazy"),ed=Symbol.iterator;function dv(e){return e===null||typeof e!="object"?null:(e=ed&&e[ed]||e["@@iterator"],typeof e=="function"?e:null)}var Ep={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Np=Object.assign,Dp={};function Br(e,t,n){this.props=e,this.context=t,this.refs=Dp,this.updater=n||Ep}Br.prototype.isReactComponent={};Br.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Br.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rp(){}Rp.prototype=Br.prototype;function _c(e,t,n){this.props=e,this.context=t,this.refs=Dp,this.updater=n||Ep}var wc=_c.prototype=new Rp;wc.constructor=_c;Np(wc,Br.prototype);wc.isPureReactComponent=!0;var td=Array.isArray,Pp=Object.prototype.hasOwnProperty,bc={current:null},Ip={key:!0,ref:!0,__self:!0,__source:!0};function Ap(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Pp.call(t,r)&&!Ip.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Xs,type:e,key:o,ref:i,props:s,_owner:bc.current}}function fv(e,t){return{$$typeof:Xs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xs}function pv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var nd=/\/+/g;function xl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pv(""+e.key):t.toString(36)}function $o(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Xs:case tv:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+xl(i,0):r,td(s)?(n="",e!=null&&(n=e.replace(nd,"$&/")+"/"),$o(s,t,n,"",function(u){return u})):s!=null&&(Sc(s)&&(s=fv(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(nd,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",td(e))for(var a=0;a<e.length;a++){o=e[a];var c=r+xl(o,a);i+=$o(o,t,n,c,s)}else if(c=dv(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=r+xl(o,a++),i+=$o(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function go(e,t,n){if(e==null)return e;var r=[],s=0;return $o(e,r,"","",function(o){return t.call(n,o,s++)}),r}function mv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nt={current:null},Uo={transition:null},hv={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:Uo,ReactCurrentOwner:bc};function Op(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:go,forEach:function(e,t,n){go(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return go(e,function(){t++}),t},toArray:function(e){return go(e,function(t){return t})||[]},only:function(e){if(!Sc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=Br;le.Fragment=nv;le.Profiler=sv;le.PureComponent=_c;le.StrictMode=rv;le.Suspense=av;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hv;le.act=Op;le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Np({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=bc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Pp.call(t,c)&&!Ip.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Xs,type:e.type,key:s,ref:o,props:r,_owner:i}};le.createContext=function(e){return e={$$typeof:iv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ov,_context:e},e.Consumer=e};le.createElement=Ap;le.createFactory=function(e){var t=Ap.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:lv,render:e}};le.isValidElement=Sc;le.lazy=function(e){return{$$typeof:uv,_payload:{_status:-1,_result:e},_init:mv}};le.memo=function(e,t){return{$$typeof:cv,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=Uo.transition;Uo.transition={};try{e()}finally{Uo.transition=t}};le.unstable_act=Op;le.useCallback=function(e,t){return nt.current.useCallback(e,t)};le.useContext=function(e){return nt.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return nt.current.useDeferredValue(e)};le.useEffect=function(e,t){return nt.current.useEffect(e,t)};le.useId=function(){return nt.current.useId()};le.useImperativeHandle=function(e,t,n){return nt.current.useImperativeHandle(e,t,n)};le.useInsertionEffect=function(e,t){return nt.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return nt.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return nt.current.useMemo(e,t)};le.useReducer=function(e,t,n){return nt.current.useReducer(e,t,n)};le.useRef=function(e){return nt.current.useRef(e)};le.useState=function(e){return nt.current.useState(e)};le.useSyncExternalStore=function(e,t,n){return nt.current.useSyncExternalStore(e,t,n)};le.useTransition=function(){return nt.current.useTransition()};le.version="18.3.1";kp.exports=le;var w=kp.exports;const ce=Bi(w),gv=Xy({__proto__:null,default:ce},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv=w,vv=Symbol.for("react.element"),xv=Symbol.for("react.fragment"),_v=Object.prototype.hasOwnProperty,wv=yv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bv={key:!0,ref:!0,__self:!0,__source:!0};function Tp(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)_v.call(t,r)&&!bv.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:vv,type:e,key:o,ref:i,props:s,_owner:wv.current}}zi.Fragment=xv;zi.jsx=Tp;zi.jsxs=Tp;jp.exports=zi;var l=jp.exports,fa={},Lp={exports:{}},_t={},Fp={exports:{}},Mp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,I){var L=R.length;R.push(I);e:for(;0<L;){var T=L-1>>>1,M=R[T];if(0<s(M,I))R[T]=I,R[L]=M,L=T;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var I=R[0],L=R.pop();if(L!==I){R[0]=L;e:for(var T=0,M=R.length,$=M>>>1;T<$;){var J=2*(T+1)-1,ee=R[J],ae=J+1,Ee=R[ae];if(0>s(ee,L))ae<M&&0>s(Ee,ee)?(R[T]=Ee,R[ae]=L,T=ae):(R[T]=ee,R[J]=L,T=J);else if(ae<M&&0>s(Ee,L))R[T]=Ee,R[ae]=L,T=ae;else break e}}return I}function s(R,I){var L=R.sortIndex-I.sortIndex;return L!==0?L:R.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],u=[],d=1,f=null,p=3,m=!1,h=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(R){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=R)r(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(u)}}function C(R){if(v=!1,_(R),!h)if(n(c)!==null)h=!0,F(k);else{var I=n(u);I!==null&&H(C,I.startTime-R)}}function k(R,I){h=!1,v&&(v=!1,x(b),b=-1),m=!0;var L=p;try{for(_(I),f=n(c);f!==null&&(!(f.expirationTime>I)||R&&!E());){var T=f.callback;if(typeof T=="function"){f.callback=null,p=f.priorityLevel;var M=T(f.expirationTime<=I);I=e.unstable_now(),typeof M=="function"?f.callback=M:f===n(c)&&r(c),_(I)}else r(c);f=n(c)}if(f!==null)var $=!0;else{var J=n(u);J!==null&&H(C,J.startTime-I),$=!1}return $}finally{f=null,p=L,m=!1}}var D=!1,N=null,b=-1,S=5,j=-1;function E(){return!(e.unstable_now()-j<S)}function P(){if(N!==null){var R=e.unstable_now();j=R;var I=!0;try{I=N(!0,R)}finally{I?O():(D=!1,N=null)}}else D=!1}var O;if(typeof y=="function")O=function(){y(P)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,z=U.port2;U.port1.onmessage=P,O=function(){z.postMessage(null)}}else O=function(){g(P,0)};function F(R){N=R,D||(D=!0,O())}function H(R,I){b=g(function(){R(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){h||m||(h=!0,F(k))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(p){case 1:case 2:case 3:var I=3;break;default:I=p}var L=p;p=I;try{return R()}finally{p=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,I){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var L=p;p=R;try{return I()}finally{p=L}},e.unstable_scheduleCallback=function(R,I,L){var T=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?T+L:T):L=T,R){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=L+M,R={id:d++,callback:I,priorityLevel:R,startTime:L,expirationTime:M,sortIndex:-1},L>T?(R.sortIndex=L,t(u,R),n(c)===null&&R===n(u)&&(v?(x(b),b=-1):v=!0,H(C,L-T))):(R.sortIndex=M,t(c,R),h||m||(h=!0,F(k))),R},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(R){var I=p;return function(){var L=p;p=I;try{return R.apply(this,arguments)}finally{p=L}}}})(Mp);Fp.exports=Mp;var Sv=Fp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv=w,xt=Sv;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bp=new Set,ks={};function nr(e,t){Nr(e,t),Nr(e+"Capture",t)}function Nr(e,t){for(ks[e]=t,e=0;e<t.length;e++)Bp.add(t[e])}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pa=Object.prototype.hasOwnProperty,jv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rd={},sd={};function kv(e){return pa.call(sd,e)?!0:pa.call(rd,e)?!1:jv.test(e)?sd[e]=!0:(rd[e]=!0,!1)}function Ev(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Nv(e,t,n,r){if(t===null||typeof t>"u"||Ev(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qe[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qe[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qe[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qe[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qe[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qe[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qe[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qe[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qe[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Cc=/[\-:]([a-z])/g;function jc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Cc,jc);qe[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Cc,jc);qe[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Cc,jc);qe[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qe[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});qe.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qe[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function kc(e,t,n,r){var s=qe.hasOwnProperty(t)?qe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Nv(t,n,s,r)&&(n=null),r||s===null?kv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var an=Cv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yo=Symbol.for("react.element"),ur=Symbol.for("react.portal"),dr=Symbol.for("react.fragment"),Ec=Symbol.for("react.strict_mode"),ma=Symbol.for("react.profiler"),zp=Symbol.for("react.provider"),$p=Symbol.for("react.context"),Nc=Symbol.for("react.forward_ref"),ha=Symbol.for("react.suspense"),ga=Symbol.for("react.suspense_list"),Dc=Symbol.for("react.memo"),dn=Symbol.for("react.lazy"),Up=Symbol.for("react.offscreen"),od=Symbol.iterator;function Jr(e){return e===null||typeof e!="object"?null:(e=od&&e[od]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Object.assign,_l;function cs(e){if(_l===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_l=t&&t[1]||""}return`
`+_l+e}var wl=!1;function bl(e,t){if(!e||wl)return"";wl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{wl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?cs(e):""}function Dv(e){switch(e.tag){case 5:return cs(e.type);case 16:return cs("Lazy");case 13:return cs("Suspense");case 19:return cs("SuspenseList");case 0:case 2:case 15:return e=bl(e.type,!1),e;case 11:return e=bl(e.type.render,!1),e;case 1:return e=bl(e.type,!0),e;default:return""}}function ya(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case dr:return"Fragment";case ur:return"Portal";case ma:return"Profiler";case Ec:return"StrictMode";case ha:return"Suspense";case ga:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $p:return(e.displayName||"Context")+".Consumer";case zp:return(e._context.displayName||"Context")+".Provider";case Nc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Dc:return t=e.displayName||null,t!==null?t:ya(e.type)||"Memo";case dn:t=e._payload,e=e._init;try{return ya(e(t))}catch{}}return null}function Rv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ya(t);case 8:return t===Ec?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Pv(e){var t=Wp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vo(e){e._valueTracker||(e._valueTracker=Pv(e))}function Hp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Wp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ri(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function va(e,t){var n=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function id(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Dn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vp(e,t){t=t.checked,t!=null&&kc(e,"checked",t,!1)}function xa(e,t){Vp(e,t);var n=Dn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_a(e,t.type,n):t.hasOwnProperty("defaultValue")&&_a(e,t.type,Dn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ld(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function _a(e,t,n){(t!=="number"||ri(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var us=Array.isArray;function br(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Dn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function wa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ad(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(us(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Dn(n)}}function qp(e,t){var n=Dn(t.value),r=Dn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function cd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ba(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xo,Kp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xo=xo||document.createElement("div"),xo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Es(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ps={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Iv=["Webkit","ms","Moz","O"];Object.keys(ps).forEach(function(e){Iv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ps[t]=ps[e]})});function Qp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ps.hasOwnProperty(e)&&ps[e]?(""+t).trim():t+"px"}function Yp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Qp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Av=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sa(e,t){if(t){if(Av[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function Ca(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ja=null;function Rc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ka=null,Sr=null,Cr=null;function ud(e){if(e=no(e)){if(typeof ka!="function")throw Error(B(280));var t=e.stateNode;t&&(t=Vi(t),ka(e.stateNode,e.type,t))}}function Jp(e){Sr?Cr?Cr.push(e):Cr=[e]:Sr=e}function Zp(){if(Sr){var e=Sr,t=Cr;if(Cr=Sr=null,ud(e),t)for(e=0;e<t.length;e++)ud(t[e])}}function Xp(e,t){return e(t)}function em(){}var Sl=!1;function tm(e,t,n){if(Sl)return e(t,n);Sl=!0;try{return Xp(e,t,n)}finally{Sl=!1,(Sr!==null||Cr!==null)&&(em(),Zp())}}function Ns(e,t){var n=e.stateNode;if(n===null)return null;var r=Vi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var Ea=!1;if(rn)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){Ea=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{Ea=!1}function Ov(e,t,n,r,s,o,i,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var ms=!1,si=null,oi=!1,Na=null,Tv={onError:function(e){ms=!0,si=e}};function Lv(e,t,n,r,s,o,i,a,c){ms=!1,si=null,Ov.apply(Tv,arguments)}function Fv(e,t,n,r,s,o,i,a,c){if(Lv.apply(this,arguments),ms){if(ms){var u=si;ms=!1,si=null}else throw Error(B(198));oi||(oi=!0,Na=u)}}function rr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function nm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dd(e){if(rr(e)!==e)throw Error(B(188))}function Mv(e){var t=e.alternate;if(!t){if(t=rr(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return dd(s),e;if(o===r)return dd(s),t;o=o.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function rm(e){return e=Mv(e),e!==null?sm(e):null}function sm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sm(e);if(t!==null)return t;e=e.sibling}return null}var om=xt.unstable_scheduleCallback,fd=xt.unstable_cancelCallback,Bv=xt.unstable_shouldYield,zv=xt.unstable_requestPaint,Re=xt.unstable_now,$v=xt.unstable_getCurrentPriorityLevel,Pc=xt.unstable_ImmediatePriority,im=xt.unstable_UserBlockingPriority,ii=xt.unstable_NormalPriority,Uv=xt.unstable_LowPriority,lm=xt.unstable_IdlePriority,$i=null,Kt=null;function Wv(e){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot($i,e,void 0,(e.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:qv,Hv=Math.log,Vv=Math.LN2;function qv(e){return e>>>=0,e===0?32:31-(Hv(e)/Vv|0)|0}var _o=64,wo=4194304;function ds(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function li(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=ds(a):(o&=i,o!==0&&(r=ds(o)))}else i=n&~s,i!==0?r=ds(i):o!==0&&(r=ds(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Bt(t),s=1<<n,r|=e[n],t&=~s;return r}function Gv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Bt(o),a=1<<i,c=s[i];c===-1?(!(a&n)||a&r)&&(s[i]=Gv(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function Da(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function am(){var e=_o;return _o<<=1,!(_o&4194240)&&(_o=64),e}function Cl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function eo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Bt(t),e[t]=n}function Qv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Bt(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Ic(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Bt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var me=0;function cm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var um,Ac,dm,fm,pm,Ra=!1,bo=[],vn=null,xn=null,_n=null,Ds=new Map,Rs=new Map,pn=[],Yv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pd(e,t){switch(e){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":Ds.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rs.delete(t.pointerId)}}function Xr(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=no(t),t!==null&&Ac(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Jv(e,t,n,r,s){switch(t){case"focusin":return vn=Xr(vn,e,t,n,r,s),!0;case"dragenter":return xn=Xr(xn,e,t,n,r,s),!0;case"mouseover":return _n=Xr(_n,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Ds.set(o,Xr(Ds.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Rs.set(o,Xr(Rs.get(o)||null,e,t,n,r,s)),!0}return!1}function mm(e){var t=$n(e.target);if(t!==null){var n=rr(t);if(n!==null){if(t=n.tag,t===13){if(t=nm(n),t!==null){e.blockedOn=t,pm(e.priority,function(){dm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ja=r,n.target.dispatchEvent(r),ja=null}else return t=no(n),t!==null&&Ac(t),e.blockedOn=n,!1;t.shift()}return!0}function md(e,t,n){Wo(e)&&n.delete(t)}function Zv(){Ra=!1,vn!==null&&Wo(vn)&&(vn=null),xn!==null&&Wo(xn)&&(xn=null),_n!==null&&Wo(_n)&&(_n=null),Ds.forEach(md),Rs.forEach(md)}function es(e,t){e.blockedOn===t&&(e.blockedOn=null,Ra||(Ra=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,Zv)))}function Ps(e){function t(s){return es(s,e)}if(0<bo.length){es(bo[0],e);for(var n=1;n<bo.length;n++){var r=bo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(vn!==null&&es(vn,e),xn!==null&&es(xn,e),_n!==null&&es(_n,e),Ds.forEach(t),Rs.forEach(t),n=0;n<pn.length;n++)r=pn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<pn.length&&(n=pn[0],n.blockedOn===null);)mm(n),n.blockedOn===null&&pn.shift()}var jr=an.ReactCurrentBatchConfig,ai=!0;function Xv(e,t,n,r){var s=me,o=jr.transition;jr.transition=null;try{me=1,Oc(e,t,n,r)}finally{me=s,jr.transition=o}}function ex(e,t,n,r){var s=me,o=jr.transition;jr.transition=null;try{me=4,Oc(e,t,n,r)}finally{me=s,jr.transition=o}}function Oc(e,t,n,r){if(ai){var s=Pa(e,t,n,r);if(s===null)Ol(e,t,r,ci,n),pd(e,r);else if(Jv(s,e,t,n,r))r.stopPropagation();else if(pd(e,r),t&4&&-1<Yv.indexOf(e)){for(;s!==null;){var o=no(s);if(o!==null&&um(o),o=Pa(e,t,n,r),o===null&&Ol(e,t,r,ci,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Ol(e,t,r,null,n)}}var ci=null;function Pa(e,t,n,r){if(ci=null,e=Rc(r),e=$n(e),e!==null)if(t=rr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=nm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ci=e,null}function hm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($v()){case Pc:return 1;case im:return 4;case ii:case Uv:return 16;case lm:return 536870912;default:return 16}default:return 16}}var hn=null,Tc=null,Ho=null;function gm(){if(Ho)return Ho;var e,t=Tc,n=t.length,r,s="value"in hn?hn.value:hn.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Ho=s.slice(e,1<r?1-r:void 0)}function Vo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function So(){return!0}function hd(){return!1}function wt(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?So:hd,this.isPropagationStopped=hd,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=So)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=So)},persist:function(){},isPersistent:So}),t}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lc=wt(zr),to=ke({},zr,{view:0,detail:0}),tx=wt(to),jl,kl,ts,Ui=ke({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ts&&(ts&&e.type==="mousemove"?(jl=e.screenX-ts.screenX,kl=e.screenY-ts.screenY):kl=jl=0,ts=e),jl)},movementY:function(e){return"movementY"in e?e.movementY:kl}}),gd=wt(Ui),nx=ke({},Ui,{dataTransfer:0}),rx=wt(nx),sx=ke({},to,{relatedTarget:0}),El=wt(sx),ox=ke({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),ix=wt(ox),lx=ke({},zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ax=wt(lx),cx=ke({},zr,{data:0}),yd=wt(cx),ux={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function px(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fx[e])?!!t[e]:!1}function Fc(){return px}var mx=ke({},to,{key:function(e){if(e.key){var t=ux[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fc,charCode:function(e){return e.type==="keypress"?Vo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hx=wt(mx),gx=ke({},Ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vd=wt(gx),yx=ke({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fc}),vx=wt(yx),xx=ke({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),_x=wt(xx),wx=ke({},Ui,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bx=wt(wx),Sx=[9,13,27,32],Mc=rn&&"CompositionEvent"in window,hs=null;rn&&"documentMode"in document&&(hs=document.documentMode);var Cx=rn&&"TextEvent"in window&&!hs,ym=rn&&(!Mc||hs&&8<hs&&11>=hs),xd=" ",_d=!1;function vm(e,t){switch(e){case"keyup":return Sx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fr=!1;function jx(e,t){switch(e){case"compositionend":return xm(t);case"keypress":return t.which!==32?null:(_d=!0,xd);case"textInput":return e=t.data,e===xd&&_d?null:e;default:return null}}function kx(e,t){if(fr)return e==="compositionend"||!Mc&&vm(e,t)?(e=gm(),Ho=Tc=hn=null,fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ym&&t.locale!=="ko"?null:t.data;default:return null}}var Ex={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ex[e.type]:t==="textarea"}function _m(e,t,n,r){Jp(r),t=ui(t,"onChange"),0<t.length&&(n=new Lc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var gs=null,Is=null;function Nx(e){Pm(e,0)}function Wi(e){var t=hr(e);if(Hp(t))return e}function Dx(e,t){if(e==="change")return t}var wm=!1;if(rn){var Nl;if(rn){var Dl="oninput"in document;if(!Dl){var bd=document.createElement("div");bd.setAttribute("oninput","return;"),Dl=typeof bd.oninput=="function"}Nl=Dl}else Nl=!1;wm=Nl&&(!document.documentMode||9<document.documentMode)}function Sd(){gs&&(gs.detachEvent("onpropertychange",bm),Is=gs=null)}function bm(e){if(e.propertyName==="value"&&Wi(Is)){var t=[];_m(t,Is,e,Rc(e)),tm(Nx,t)}}function Rx(e,t,n){e==="focusin"?(Sd(),gs=t,Is=n,gs.attachEvent("onpropertychange",bm)):e==="focusout"&&Sd()}function Px(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wi(Is)}function Ix(e,t){if(e==="click")return Wi(t)}function Ax(e,t){if(e==="input"||e==="change")return Wi(t)}function Ox(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:Ox;function As(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!pa.call(t,s)||!$t(e[s],t[s]))return!1}return!0}function Cd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jd(e,t){var n=Cd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cd(n)}}function Sm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cm(){for(var e=window,t=ri();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ri(e.document)}return t}function Bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Tx(e){var t=Cm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Sm(n.ownerDocument.documentElement,n)){if(r!==null&&Bc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=jd(n,o);var i=jd(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lx=rn&&"documentMode"in document&&11>=document.documentMode,pr=null,Ia=null,ys=null,Aa=!1;function kd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Aa||pr==null||pr!==ri(r)||(r=pr,"selectionStart"in r&&Bc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ys&&As(ys,r)||(ys=r,r=ui(Ia,"onSelect"),0<r.length&&(t=new Lc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function Co(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mr={animationend:Co("Animation","AnimationEnd"),animationiteration:Co("Animation","AnimationIteration"),animationstart:Co("Animation","AnimationStart"),transitionend:Co("Transition","TransitionEnd")},Rl={},jm={};rn&&(jm=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function Hi(e){if(Rl[e])return Rl[e];if(!mr[e])return e;var t=mr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jm)return Rl[e]=t[n];return e}var km=Hi("animationend"),Em=Hi("animationiteration"),Nm=Hi("animationstart"),Dm=Hi("transitionend"),Rm=new Map,Ed="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function In(e,t){Rm.set(e,t),nr(t,[e])}for(var Pl=0;Pl<Ed.length;Pl++){var Il=Ed[Pl],Fx=Il.toLowerCase(),Mx=Il[0].toUpperCase()+Il.slice(1);In(Fx,"on"+Mx)}In(km,"onAnimationEnd");In(Em,"onAnimationIteration");In(Nm,"onAnimationStart");In("dblclick","onDoubleClick");In("focusin","onFocus");In("focusout","onBlur");In(Dm,"onTransitionEnd");Nr("onMouseEnter",["mouseout","mouseover"]);Nr("onMouseLeave",["mouseout","mouseover"]);Nr("onPointerEnter",["pointerout","pointerover"]);Nr("onPointerLeave",["pointerout","pointerover"]);nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nr("onBeforeInput",["compositionend","keypress","textInput","paste"]);nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bx=new Set("cancel close invalid load scroll toggle".split(" ").concat(fs));function Nd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Fv(r,t,void 0,e),e.currentTarget=null}function Pm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;Nd(s,a,u),o=c}else for(i=0;i<r.length;i++){if(a=r[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;Nd(s,a,u),o=c}}}if(oi)throw e=Na,oi=!1,Na=null,e}function ve(e,t){var n=t[Ma];n===void 0&&(n=t[Ma]=new Set);var r=e+"__bubble";n.has(r)||(Im(t,e,2,!1),n.add(r))}function Al(e,t,n){var r=0;t&&(r|=4),Im(n,e,r,t)}var jo="_reactListening"+Math.random().toString(36).slice(2);function Os(e){if(!e[jo]){e[jo]=!0,Bp.forEach(function(n){n!=="selectionchange"&&(Bx.has(n)||Al(n,!1,e),Al(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jo]||(t[jo]=!0,Al("selectionchange",!1,t))}}function Im(e,t,n,r){switch(hm(t)){case 1:var s=Xv;break;case 4:s=ex;break;default:s=Oc}n=s.bind(null,t,n,e),s=void 0,!Ea||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ol(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=$n(a),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}a=a.parentNode}}r=r.return}tm(function(){var u=o,d=Rc(n),f=[];e:{var p=Rm.get(e);if(p!==void 0){var m=Lc,h=e;switch(e){case"keypress":if(Vo(n)===0)break e;case"keydown":case"keyup":m=hx;break;case"focusin":h="focus",m=El;break;case"focusout":h="blur",m=El;break;case"beforeblur":case"afterblur":m=El;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=rx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=vx;break;case km:case Em:case Nm:m=ix;break;case Dm:m=_x;break;case"scroll":m=tx;break;case"wheel":m=bx;break;case"copy":case"cut":case"paste":m=ax;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=vd}var v=(t&4)!==0,g=!v&&e==="scroll",x=v?p!==null?p+"Capture":null:p;v=[];for(var y=u,_;y!==null;){_=y;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,x!==null&&(C=Ns(y,x),C!=null&&v.push(Ts(y,C,_)))),g)break;y=y.return}0<v.length&&(p=new m(p,h,null,n,d),f.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==ja&&(h=n.relatedTarget||n.fromElement)&&($n(h)||h[sn]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(h=n.relatedTarget||n.toElement,m=u,h=h?$n(h):null,h!==null&&(g=rr(h),h!==g||h.tag!==5&&h.tag!==6)&&(h=null)):(m=null,h=u),m!==h)){if(v=gd,C="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=vd,C="onPointerLeave",x="onPointerEnter",y="pointer"),g=m==null?p:hr(m),_=h==null?p:hr(h),p=new v(C,y+"leave",m,n,d),p.target=g,p.relatedTarget=_,C=null,$n(d)===u&&(v=new v(x,y+"enter",h,n,d),v.target=_,v.relatedTarget=g,C=v),g=C,m&&h)t:{for(v=m,x=h,y=0,_=v;_;_=ar(_))y++;for(_=0,C=x;C;C=ar(C))_++;for(;0<y-_;)v=ar(v),y--;for(;0<_-y;)x=ar(x),_--;for(;y--;){if(v===x||x!==null&&v===x.alternate)break t;v=ar(v),x=ar(x)}v=null}else v=null;m!==null&&Dd(f,p,m,v,!1),h!==null&&g!==null&&Dd(f,g,h,v,!0)}}e:{if(p=u?hr(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var k=Dx;else if(wd(p))if(wm)k=Ax;else{k=Px;var D=Rx}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=Ix);if(k&&(k=k(e,u))){_m(f,k,n,d);break e}D&&D(e,p,u),e==="focusout"&&(D=p._wrapperState)&&D.controlled&&p.type==="number"&&_a(p,"number",p.value)}switch(D=u?hr(u):window,e){case"focusin":(wd(D)||D.contentEditable==="true")&&(pr=D,Ia=u,ys=null);break;case"focusout":ys=Ia=pr=null;break;case"mousedown":Aa=!0;break;case"contextmenu":case"mouseup":case"dragend":Aa=!1,kd(f,n,d);break;case"selectionchange":if(Lx)break;case"keydown":case"keyup":kd(f,n,d)}var N;if(Mc)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else fr?vm(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(ym&&n.locale!=="ko"&&(fr||b!=="onCompositionStart"?b==="onCompositionEnd"&&fr&&(N=gm()):(hn=d,Tc="value"in hn?hn.value:hn.textContent,fr=!0)),D=ui(u,b),0<D.length&&(b=new yd(b,e,null,n,d),f.push({event:b,listeners:D}),N?b.data=N:(N=xm(n),N!==null&&(b.data=N)))),(N=Cx?jx(e,n):kx(e,n))&&(u=ui(u,"onBeforeInput"),0<u.length&&(d=new yd("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=N))}Pm(f,t)})}function Ts(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ui(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ns(e,n),o!=null&&r.unshift(Ts(e,o,s)),o=Ns(e,t),o!=null&&r.push(Ts(e,o,s))),e=e.return}return r}function ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Dd(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=Ns(n,o),c!=null&&i.unshift(Ts(n,c,a))):s||(c=Ns(n,o),c!=null&&i.push(Ts(n,c,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var zx=/\r\n?/g,$x=/\u0000|\uFFFD/g;function Rd(e){return(typeof e=="string"?e:""+e).replace(zx,`
`).replace($x,"")}function ko(e,t,n){if(t=Rd(t),Rd(e)!==t&&n)throw Error(B(425))}function di(){}var Oa=null,Ta=null;function La(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fa=typeof setTimeout=="function"?setTimeout:void 0,Ux=typeof clearTimeout=="function"?clearTimeout:void 0,Pd=typeof Promise=="function"?Promise:void 0,Wx=typeof queueMicrotask=="function"?queueMicrotask:typeof Pd<"u"?function(e){return Pd.resolve(null).then(e).catch(Hx)}:Fa;function Hx(e){setTimeout(function(){throw e})}function Tl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ps(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ps(t)}function wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Id(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var $r=Math.random().toString(36).slice(2),Gt="__reactFiber$"+$r,Ls="__reactProps$"+$r,sn="__reactContainer$"+$r,Ma="__reactEvents$"+$r,Vx="__reactListeners$"+$r,qx="__reactHandles$"+$r;function $n(e){var t=e[Gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sn]||n[Gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Id(e);e!==null;){if(n=e[Gt])return n;e=Id(e)}return t}e=n,n=e.parentNode}return null}function no(e){return e=e[Gt]||e[sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function Vi(e){return e[Ls]||null}var Ba=[],gr=-1;function An(e){return{current:e}}function xe(e){0>gr||(e.current=Ba[gr],Ba[gr]=null,gr--)}function ye(e,t){gr++,Ba[gr]=e.current,e.current=t}var Rn={},Je=An(Rn),lt=An(!1),Kn=Rn;function Dr(e,t){var n=e.type.contextTypes;if(!n)return Rn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function at(e){return e=e.childContextTypes,e!=null}function fi(){xe(lt),xe(Je)}function Ad(e,t,n){if(Je.current!==Rn)throw Error(B(168));ye(Je,t),ye(lt,n)}function Am(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(B(108,Rv(e)||"Unknown",s));return ke({},n,r)}function pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rn,Kn=Je.current,ye(Je,e),ye(lt,lt.current),!0}function Od(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=Am(e,t,Kn),r.__reactInternalMemoizedMergedChildContext=e,xe(lt),xe(Je),ye(Je,e)):xe(lt),ye(lt,n)}var Xt=null,qi=!1,Ll=!1;function Om(e){Xt===null?Xt=[e]:Xt.push(e)}function Gx(e){qi=!0,Om(e)}function On(){if(!Ll&&Xt!==null){Ll=!0;var e=0,t=me;try{var n=Xt;for(me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xt=null,qi=!1}catch(s){throw Xt!==null&&(Xt=Xt.slice(e+1)),om(Pc,On),s}finally{me=t,Ll=!1}}return null}var yr=[],vr=0,mi=null,hi=0,kt=[],Et=0,Qn=null,en=1,tn="";function Mn(e,t){yr[vr++]=hi,yr[vr++]=mi,mi=e,hi=t}function Tm(e,t,n){kt[Et++]=en,kt[Et++]=tn,kt[Et++]=Qn,Qn=e;var r=en;e=tn;var s=32-Bt(r)-1;r&=~(1<<s),n+=1;var o=32-Bt(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,en=1<<32-Bt(t)+s|n<<s|r,tn=o+e}else en=1<<o|n<<s|r,tn=e}function zc(e){e.return!==null&&(Mn(e,1),Tm(e,1,0))}function $c(e){for(;e===mi;)mi=yr[--vr],yr[vr]=null,hi=yr[--vr],yr[vr]=null;for(;e===Qn;)Qn=kt[--Et],kt[Et]=null,tn=kt[--Et],kt[Et]=null,en=kt[--Et],kt[Et]=null}var gt=null,mt=null,be=!1,Ft=null;function Lm(e,t){var n=Nt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Td(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gt=e,mt=wn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gt=e,mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qn!==null?{id:en,overflow:tn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Nt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,gt=e,mt=null,!0):!1;default:return!1}}function za(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $a(e){if(be){var t=mt;if(t){var n=t;if(!Td(e,t)){if(za(e))throw Error(B(418));t=wn(n.nextSibling);var r=gt;t&&Td(e,t)?Lm(r,n):(e.flags=e.flags&-4097|2,be=!1,gt=e)}}else{if(za(e))throw Error(B(418));e.flags=e.flags&-4097|2,be=!1,gt=e}}}function Ld(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function Eo(e){if(e!==gt)return!1;if(!be)return Ld(e),be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!La(e.type,e.memoizedProps)),t&&(t=mt)){if(za(e))throw Fm(),Error(B(418));for(;t;)Lm(e,t),t=wn(t.nextSibling)}if(Ld(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){mt=wn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}mt=null}}else mt=gt?wn(e.stateNode.nextSibling):null;return!0}function Fm(){for(var e=mt;e;)e=wn(e.nextSibling)}function Rr(){mt=gt=null,be=!1}function Uc(e){Ft===null?Ft=[e]:Ft.push(e)}var Kx=an.ReactCurrentBatchConfig;function ns(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function No(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fd(e){var t=e._init;return t(e._payload)}function Mm(e){function t(x,y){if(e){var _=x.deletions;_===null?(x.deletions=[y],x.flags|=16):_.push(y)}}function n(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=jn(x,y),x.index=0,x.sibling=null,x}function o(x,y,_){return x.index=_,e?(_=x.alternate,_!==null?(_=_.index,_<y?(x.flags|=2,y):_):(x.flags|=2,y)):(x.flags|=1048576,y)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,y,_,C){return y===null||y.tag!==6?(y=Wl(_,x.mode,C),y.return=x,y):(y=s(y,_),y.return=x,y)}function c(x,y,_,C){var k=_.type;return k===dr?d(x,y,_.props.children,C,_.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===dn&&Fd(k)===y.type)?(C=s(y,_.props),C.ref=ns(x,y,_),C.return=x,C):(C=Zo(_.type,_.key,_.props,null,x.mode,C),C.ref=ns(x,y,_),C.return=x,C)}function u(x,y,_,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=Hl(_,x.mode,C),y.return=x,y):(y=s(y,_.children||[]),y.return=x,y)}function d(x,y,_,C,k){return y===null||y.tag!==7?(y=qn(_,x.mode,C,k),y.return=x,y):(y=s(y,_),y.return=x,y)}function f(x,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Wl(""+y,x.mode,_),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case yo:return _=Zo(y.type,y.key,y.props,null,x.mode,_),_.ref=ns(x,null,y),_.return=x,_;case ur:return y=Hl(y,x.mode,_),y.return=x,y;case dn:var C=y._init;return f(x,C(y._payload),_)}if(us(y)||Jr(y))return y=qn(y,x.mode,_,null),y.return=x,y;No(x,y)}return null}function p(x,y,_,C){var k=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return k!==null?null:a(x,y,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case yo:return _.key===k?c(x,y,_,C):null;case ur:return _.key===k?u(x,y,_,C):null;case dn:return k=_._init,p(x,y,k(_._payload),C)}if(us(_)||Jr(_))return k!==null?null:d(x,y,_,C,null);No(x,_)}return null}function m(x,y,_,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(_)||null,a(y,x,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case yo:return x=x.get(C.key===null?_:C.key)||null,c(y,x,C,k);case ur:return x=x.get(C.key===null?_:C.key)||null,u(y,x,C,k);case dn:var D=C._init;return m(x,y,_,D(C._payload),k)}if(us(C)||Jr(C))return x=x.get(_)||null,d(y,x,C,k,null);No(y,C)}return null}function h(x,y,_,C){for(var k=null,D=null,N=y,b=y=0,S=null;N!==null&&b<_.length;b++){N.index>b?(S=N,N=null):S=N.sibling;var j=p(x,N,_[b],C);if(j===null){N===null&&(N=S);break}e&&N&&j.alternate===null&&t(x,N),y=o(j,y,b),D===null?k=j:D.sibling=j,D=j,N=S}if(b===_.length)return n(x,N),be&&Mn(x,b),k;if(N===null){for(;b<_.length;b++)N=f(x,_[b],C),N!==null&&(y=o(N,y,b),D===null?k=N:D.sibling=N,D=N);return be&&Mn(x,b),k}for(N=r(x,N);b<_.length;b++)S=m(N,x,b,_[b],C),S!==null&&(e&&S.alternate!==null&&N.delete(S.key===null?b:S.key),y=o(S,y,b),D===null?k=S:D.sibling=S,D=S);return e&&N.forEach(function(E){return t(x,E)}),be&&Mn(x,b),k}function v(x,y,_,C){var k=Jr(_);if(typeof k!="function")throw Error(B(150));if(_=k.call(_),_==null)throw Error(B(151));for(var D=k=null,N=y,b=y=0,S=null,j=_.next();N!==null&&!j.done;b++,j=_.next()){N.index>b?(S=N,N=null):S=N.sibling;var E=p(x,N,j.value,C);if(E===null){N===null&&(N=S);break}e&&N&&E.alternate===null&&t(x,N),y=o(E,y,b),D===null?k=E:D.sibling=E,D=E,N=S}if(j.done)return n(x,N),be&&Mn(x,b),k;if(N===null){for(;!j.done;b++,j=_.next())j=f(x,j.value,C),j!==null&&(y=o(j,y,b),D===null?k=j:D.sibling=j,D=j);return be&&Mn(x,b),k}for(N=r(x,N);!j.done;b++,j=_.next())j=m(N,x,b,j.value,C),j!==null&&(e&&j.alternate!==null&&N.delete(j.key===null?b:j.key),y=o(j,y,b),D===null?k=j:D.sibling=j,D=j);return e&&N.forEach(function(P){return t(x,P)}),be&&Mn(x,b),k}function g(x,y,_,C){if(typeof _=="object"&&_!==null&&_.type===dr&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case yo:e:{for(var k=_.key,D=y;D!==null;){if(D.key===k){if(k=_.type,k===dr){if(D.tag===7){n(x,D.sibling),y=s(D,_.props.children),y.return=x,x=y;break e}}else if(D.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===dn&&Fd(k)===D.type){n(x,D.sibling),y=s(D,_.props),y.ref=ns(x,D,_),y.return=x,x=y;break e}n(x,D);break}else t(x,D);D=D.sibling}_.type===dr?(y=qn(_.props.children,x.mode,C,_.key),y.return=x,x=y):(C=Zo(_.type,_.key,_.props,null,x.mode,C),C.ref=ns(x,y,_),C.return=x,x=C)}return i(x);case ur:e:{for(D=_.key;y!==null;){if(y.key===D)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(x,y.sibling),y=s(y,_.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else t(x,y);y=y.sibling}y=Hl(_,x.mode,C),y.return=x,x=y}return i(x);case dn:return D=_._init,g(x,y,D(_._payload),C)}if(us(_))return h(x,y,_,C);if(Jr(_))return v(x,y,_,C);No(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(x,y.sibling),y=s(y,_),y.return=x,x=y):(n(x,y),y=Wl(_,x.mode,C),y.return=x,x=y),i(x)):n(x,y)}return g}var Pr=Mm(!0),Bm=Mm(!1),gi=An(null),yi=null,xr=null,Wc=null;function Hc(){Wc=xr=yi=null}function Vc(e){var t=gi.current;xe(gi),e._currentValue=t}function Ua(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function kr(e,t){yi=e,Wc=xr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(it=!0),e.firstContext=null)}function It(e){var t=e._currentValue;if(Wc!==e)if(e={context:e,memoizedValue:t,next:null},xr===null){if(yi===null)throw Error(B(308));xr=e,yi.dependencies={lanes:0,firstContext:e}}else xr=xr.next=e;return t}var Un=null;function qc(e){Un===null?Un=[e]:Un.push(e)}function zm(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,qc(t)):(n.next=s.next,s.next=n),t.interleaved=n,on(e,r)}function on(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var fn=!1;function Gc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $m(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,on(e,n)}return s=r.interleaved,s===null?(t.next=t,qc(r)):(t.next=s.next,s.next=t),r.interleaved=t,on(e,n)}function qo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ic(e,n)}}function Md(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vi(e,t,n,r){var s=e.updateQueue;fn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,a=o;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,v=a;switch(p=t,m=n,v.tag){case 1:if(h=v.payload,typeof h=="function"){f=h.call(m,f,p);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=v.payload,p=typeof h=="function"?h.call(m,f,p):h,p==null)break e;f=ke({},f,p);break e;case 2:fn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,i|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Jn|=i,e.lanes=i,e.memoizedState=f}}function Bd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var ro={},Qt=An(ro),Fs=An(ro),Ms=An(ro);function Wn(e){if(e===ro)throw Error(B(174));return e}function Kc(e,t){switch(ye(Ms,t),ye(Fs,e),ye(Qt,ro),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ba(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ba(t,e)}xe(Qt),ye(Qt,t)}function Ir(){xe(Qt),xe(Fs),xe(Ms)}function Um(e){Wn(Ms.current);var t=Wn(Qt.current),n=ba(t,e.type);t!==n&&(ye(Fs,e),ye(Qt,n))}function Qc(e){Fs.current===e&&(xe(Qt),xe(Fs))}var Ce=An(0);function xi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fl=[];function Yc(){for(var e=0;e<Fl.length;e++)Fl[e]._workInProgressVersionPrimary=null;Fl.length=0}var Go=an.ReactCurrentDispatcher,Ml=an.ReactCurrentBatchConfig,Yn=0,je=null,Oe=null,Me=null,_i=!1,vs=!1,Bs=0,Qx=0;function Ge(){throw Error(B(321))}function Jc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$t(e[n],t[n]))return!1;return!0}function Zc(e,t,n,r,s,o){if(Yn=o,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Go.current=e===null||e.memoizedState===null?Xx:e0,e=n(r,s),vs){o=0;do{if(vs=!1,Bs=0,25<=o)throw Error(B(301));o+=1,Me=Oe=null,t.updateQueue=null,Go.current=t0,e=n(r,s)}while(vs)}if(Go.current=wi,t=Oe!==null&&Oe.next!==null,Yn=0,Me=Oe=je=null,_i=!1,t)throw Error(B(300));return e}function Xc(){var e=Bs!==0;return Bs=0,e}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?je.memoizedState=Me=e:Me=Me.next=e,Me}function At(){if(Oe===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=Me===null?je.memoizedState:Me.next;if(t!==null)Me=t,Oe=e;else{if(e===null)throw Error(B(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Me===null?je.memoizedState=Me=e:Me=Me.next=e}return Me}function zs(e,t){return typeof t=="function"?t(e):t}function Bl(e){var t=At(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=Oe,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,c=null,u=o;do{var d=u.lane;if((Yn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,i=r):c=c.next=f,je.lanes|=d,Jn|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=a,$t(r,t.memoizedState)||(it=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,je.lanes|=o,Jn|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zl(e){var t=At(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);$t(o,t.memoizedState)||(it=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Wm(){}function Hm(e,t){var n=je,r=At(),s=t(),o=!$t(r.memoizedState,s);if(o&&(r.memoizedState=s,it=!0),r=r.queue,eu(Gm.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,$s(9,qm.bind(null,n,r,s,t),void 0,null),Be===null)throw Error(B(349));Yn&30||Vm(n,t,s)}return s}function Vm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qm(e,t,n,r){t.value=n,t.getSnapshot=r,Km(t)&&Qm(e)}function Gm(e,t,n){return n(function(){Km(t)&&Qm(e)})}function Km(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$t(e,n)}catch{return!0}}function Qm(e){var t=on(e,1);t!==null&&zt(t,e,1,-1)}function zd(e){var t=qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:e},t.queue=e,e=e.dispatch=Zx.bind(null,je,e),[t.memoizedState,e]}function $s(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ym(){return At().memoizedState}function Ko(e,t,n,r){var s=qt();je.flags|=e,s.memoizedState=$s(1|t,n,void 0,r===void 0?null:r)}function Gi(e,t,n,r){var s=At();r=r===void 0?null:r;var o=void 0;if(Oe!==null){var i=Oe.memoizedState;if(o=i.destroy,r!==null&&Jc(r,i.deps)){s.memoizedState=$s(t,n,o,r);return}}je.flags|=e,s.memoizedState=$s(1|t,n,o,r)}function $d(e,t){return Ko(8390656,8,e,t)}function eu(e,t){return Gi(2048,8,e,t)}function Jm(e,t){return Gi(4,2,e,t)}function Zm(e,t){return Gi(4,4,e,t)}function Xm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function eh(e,t,n){return n=n!=null?n.concat([e]):null,Gi(4,4,Xm.bind(null,t,e),n)}function tu(){}function th(e,t){var n=At();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Jc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function nh(e,t){var n=At();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Jc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function rh(e,t,n){return Yn&21?($t(n,t)||(n=am(),je.lanes|=n,Jn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=n)}function Yx(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var r=Ml.transition;Ml.transition={};try{e(!1),t()}finally{me=n,Ml.transition=r}}function sh(){return At().memoizedState}function Jx(e,t,n){var r=Cn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oh(e))ih(t,n);else if(n=zm(e,t,n,r),n!==null){var s=tt();zt(n,e,r,s),lh(n,t,r)}}function Zx(e,t,n){var r=Cn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oh(e))ih(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,$t(a,i)){var c=t.interleaved;c===null?(s.next=s,qc(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=zm(e,t,s,r),n!==null&&(s=tt(),zt(n,e,r,s),lh(n,t,r))}}function oh(e){var t=e.alternate;return e===je||t!==null&&t===je}function ih(e,t){vs=_i=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function lh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ic(e,n)}}var wi={readContext:It,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},Xx={readContext:It,useCallback:function(e,t){return qt().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:$d,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ko(4194308,4,Xm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ko(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ko(4,2,e,t)},useMemo:function(e,t){var n=qt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=qt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Jx.bind(null,je,e),[r.memoizedState,e]},useRef:function(e){var t=qt();return e={current:e},t.memoizedState=e},useState:zd,useDebugValue:tu,useDeferredValue:function(e){return qt().memoizedState=e},useTransition:function(){var e=zd(!1),t=e[0];return e=Yx.bind(null,e[1]),qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=je,s=qt();if(be){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),Be===null)throw Error(B(349));Yn&30||Vm(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,$d(Gm.bind(null,r,o,e),[e]),r.flags|=2048,$s(9,qm.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=qt(),t=Be.identifierPrefix;if(be){var n=tn,r=en;n=(r&~(1<<32-Bt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Bs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Qx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},e0={readContext:It,useCallback:th,useContext:It,useEffect:eu,useImperativeHandle:eh,useInsertionEffect:Jm,useLayoutEffect:Zm,useMemo:nh,useReducer:Bl,useRef:Ym,useState:function(){return Bl(zs)},useDebugValue:tu,useDeferredValue:function(e){var t=At();return rh(t,Oe.memoizedState,e)},useTransition:function(){var e=Bl(zs)[0],t=At().memoizedState;return[e,t]},useMutableSource:Wm,useSyncExternalStore:Hm,useId:sh,unstable_isNewReconciler:!1},t0={readContext:It,useCallback:th,useContext:It,useEffect:eu,useImperativeHandle:eh,useInsertionEffect:Jm,useLayoutEffect:Zm,useMemo:nh,useReducer:zl,useRef:Ym,useState:function(){return zl(zs)},useDebugValue:tu,useDeferredValue:function(e){var t=At();return Oe===null?t.memoizedState=e:rh(t,Oe.memoizedState,e)},useTransition:function(){var e=zl(zs)[0],t=At().memoizedState;return[e,t]},useMutableSource:Wm,useSyncExternalStore:Hm,useId:sh,unstable_isNewReconciler:!1};function Tt(e,t){if(e&&e.defaultProps){t=ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Wa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ki={isMounted:function(e){return(e=e._reactInternals)?rr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tt(),s=Cn(e),o=nn(r,s);o.payload=t,n!=null&&(o.callback=n),t=bn(e,o,s),t!==null&&(zt(t,e,s,r),qo(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tt(),s=Cn(e),o=nn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=bn(e,o,s),t!==null&&(zt(t,e,s,r),qo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tt(),r=Cn(e),s=nn(n,r);s.tag=2,t!=null&&(s.callback=t),t=bn(e,s,r),t!==null&&(zt(t,e,r,n),qo(t,e,r))}};function Ud(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!As(n,r)||!As(s,o):!0}function ah(e,t,n){var r=!1,s=Rn,o=t.contextType;return typeof o=="object"&&o!==null?o=It(o):(s=at(t)?Kn:Je.current,r=t.contextTypes,o=(r=r!=null)?Dr(e,s):Rn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ki,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ki.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Gc(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=It(o):(o=at(t)?Kn:Je.current,s.context=Dr(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Wa(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ki.enqueueReplaceState(s,s.state,null),vi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ar(e,t){try{var n="",r=t;do n+=Dv(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function $l(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Va(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var n0=typeof WeakMap=="function"?WeakMap:Map;function ch(e,t,n){n=nn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Si||(Si=!0,tc=r),Va(e,t)},n}function uh(e,t,n){n=nn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Va(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Va(e,t),typeof r!="function"&&(Sn===null?Sn=new Set([this]):Sn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Hd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new n0;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=g0.bind(null,e,t,n),t.then(e,e))}function Vd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qd(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=nn(-1,1),t.tag=2,bn(n,t,1))),n.lanes|=1),e)}var r0=an.ReactCurrentOwner,it=!1;function et(e,t,n,r){t.child=e===null?Bm(t,null,n,r):Pr(t,e.child,n,r)}function Gd(e,t,n,r,s){n=n.render;var o=t.ref;return kr(t,s),r=Zc(e,t,n,r,o,s),n=Xc(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ln(e,t,s)):(be&&n&&zc(t),t.flags|=1,et(e,t,r,s),t.child)}function Kd(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!cu(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,dh(e,t,o,r,s)):(e=Zo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:As,n(i,r)&&e.ref===t.ref)return ln(e,t,s)}return t.flags|=1,e=jn(o,r),e.ref=t.ref,e.return=t,t.child=e}function dh(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(As(o,r)&&e.ref===t.ref)if(it=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(it=!0);else return t.lanes=e.lanes,ln(e,t,s)}return qa(e,t,n,r,s)}function fh(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(wr,pt),pt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(wr,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ye(wr,pt),pt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ye(wr,pt),pt|=r;return et(e,t,s,n),t.child}function ph(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qa(e,t,n,r,s){var o=at(n)?Kn:Je.current;return o=Dr(t,o),kr(t,s),n=Zc(e,t,n,r,o,s),r=Xc(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ln(e,t,s)):(be&&r&&zc(t),t.flags|=1,et(e,t,n,s),t.child)}function Qd(e,t,n,r,s){if(at(n)){var o=!0;pi(t)}else o=!1;if(kr(t,s),t.stateNode===null)Qo(e,t),ah(t,n,r),Ha(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=It(u):(u=at(n)?Kn:Je.current,u=Dr(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||c!==u)&&Wd(t,i,r,u),fn=!1;var p=t.memoizedState;i.state=p,vi(t,r,i,s),c=t.memoizedState,a!==r||p!==c||lt.current||fn?(typeof d=="function"&&(Wa(t,n,d,r),c=t.memoizedState),(a=fn||Ud(t,n,a,r,p,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,$m(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Tt(t.type,a),i.props=u,f=t.pendingProps,p=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=It(c):(c=at(n)?Kn:Je.current,c=Dr(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||p!==c)&&Wd(t,i,r,c),fn=!1,p=t.memoizedState,i.state=p,vi(t,r,i,s);var h=t.memoizedState;a!==f||p!==h||lt.current||fn?(typeof m=="function"&&(Wa(t,n,m,r),h=t.memoizedState),(u=fn||Ud(t,n,u,r,p,h,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,h,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,h,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Ga(e,t,n,r,o,s)}function Ga(e,t,n,r,s,o){ph(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Od(t,n,!1),ln(e,t,o);r=t.stateNode,r0.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Pr(t,e.child,null,o),t.child=Pr(t,null,a,o)):et(e,t,a,o),t.memoizedState=r.state,s&&Od(t,n,!0),t.child}function mh(e){var t=e.stateNode;t.pendingContext?Ad(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ad(e,t.context,!1),Kc(e,t.containerInfo)}function Yd(e,t,n,r,s){return Rr(),Uc(s),t.flags|=256,et(e,t,n,r),t.child}var Ka={dehydrated:null,treeContext:null,retryLane:0};function Qa(e){return{baseLanes:e,cachePool:null,transitions:null}}function hh(e,t,n){var r=t.pendingProps,s=Ce.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ye(Ce,s&1),e===null)return $a(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Ji(i,r,0,null),e=qn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Qa(n),t.memoizedState=Ka,e):nu(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return s0(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=jn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=jn(a,o):(o=qn(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Qa(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Ka,r}return o=e.child,e=o.sibling,r=jn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function nu(e,t){return t=Ji({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Do(e,t,n,r){return r!==null&&Uc(r),Pr(t,e.child,null,n),e=nu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function s0(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=$l(Error(B(422))),Do(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Ji({mode:"visible",children:r.children},s,0,null),o=qn(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Pr(t,e.child,null,i),t.child.memoizedState=Qa(i),t.memoizedState=Ka,o);if(!(t.mode&1))return Do(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(B(419)),r=$l(o,r,void 0),Do(e,t,i,r)}if(a=(i&e.childLanes)!==0,it||a){if(r=Be,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,on(e,s),zt(r,e,s,-1))}return au(),r=$l(Error(B(421))),Do(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=y0.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,mt=wn(s.nextSibling),gt=t,be=!0,Ft=null,e!==null&&(kt[Et++]=en,kt[Et++]=tn,kt[Et++]=Qn,en=e.id,tn=e.overflow,Qn=t),t=nu(t,r.children),t.flags|=4096,t)}function Jd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ua(e.return,t,n)}function Ul(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function gh(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(et(e,t,r.children,n),r=Ce.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jd(e,n,t);else if(e.tag===19)Jd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ye(Ce,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&xi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ul(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&xi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ul(t,!0,n,null,o);break;case"together":Ul(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ln(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Jn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=jn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=jn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function o0(e,t,n){switch(t.tag){case 3:mh(t),Rr();break;case 5:Um(t);break;case 1:at(t.type)&&pi(t);break;case 4:Kc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ye(gi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ye(Ce,Ce.current&1),t.flags|=128,null):n&t.child.childLanes?hh(e,t,n):(ye(Ce,Ce.current&1),e=ln(e,t,n),e!==null?e.sibling:null);ye(Ce,Ce.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return gh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ye(Ce,Ce.current),r)break;return null;case 22:case 23:return t.lanes=0,fh(e,t,n)}return ln(e,t,n)}var yh,Ya,vh,xh;yh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ya=function(){};vh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Wn(Qt.current);var o=null;switch(n){case"input":s=va(e,s),r=va(e,r),o=[];break;case"select":s=ke({},s,{value:void 0}),r=ke({},r,{value:void 0}),o=[];break;case"textarea":s=wa(e,s),r=wa(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=di)}Sa(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ks.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ks.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ve("scroll",e),o||a===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};xh=function(e,t,n,r){n!==r&&(t.flags|=4)};function rs(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function i0(e,t,n){var r=t.pendingProps;switch($c(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return at(t.type)&&fi(),Ke(t),null;case 3:return r=t.stateNode,Ir(),xe(lt),xe(Je),Yc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Eo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ft!==null&&(sc(Ft),Ft=null))),Ya(e,t),Ke(t),null;case 5:Qc(t);var s=Wn(Ms.current);if(n=t.type,e!==null&&t.stateNode!=null)vh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return Ke(t),null}if(e=Wn(Qt.current),Eo(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Gt]=t,r[Ls]=o,e=(t.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(s=0;s<fs.length;s++)ve(fs[s],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":id(r,o),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ve("invalid",r);break;case"textarea":ad(r,o),ve("invalid",r)}Sa(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ko(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ko(r.textContent,a,e),s=["children",""+a]):ks.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&ve("scroll",r)}switch(n){case"input":vo(r),ld(r,o,!0);break;case"textarea":vo(r),cd(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=di)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Gt]=t,e[Ls]=r,yh(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ca(n,r),n){case"dialog":ve("cancel",e),ve("close",e),s=r;break;case"iframe":case"object":case"embed":ve("load",e),s=r;break;case"video":case"audio":for(s=0;s<fs.length;s++)ve(fs[s],e);s=r;break;case"source":ve("error",e),s=r;break;case"img":case"image":case"link":ve("error",e),ve("load",e),s=r;break;case"details":ve("toggle",e),s=r;break;case"input":id(e,r),s=va(e,r),ve("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ke({},r,{value:void 0}),ve("invalid",e);break;case"textarea":ad(e,r),s=wa(e,r),ve("invalid",e);break;default:s=r}Sa(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?Yp(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Kp(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Es(e,c):typeof c=="number"&&Es(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ks.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ve("scroll",e):c!=null&&kc(e,o,c,i))}switch(n){case"input":vo(e),ld(e,r,!1);break;case"textarea":vo(e),cd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Dn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?br(e,!!r.multiple,o,!1):r.defaultValue!=null&&br(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=di)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ke(t),null;case 6:if(e&&t.stateNode!=null)xh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=Wn(Ms.current),Wn(Qt.current),Eo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Gt]=t,(o=r.nodeValue!==n)&&(e=gt,e!==null))switch(e.tag){case 3:ko(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ko(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gt]=t,t.stateNode=r}return Ke(t),null;case 13:if(xe(Ce),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(be&&mt!==null&&t.mode&1&&!(t.flags&128))Fm(),Rr(),t.flags|=98560,o=!1;else if(o=Eo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(B(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[Gt]=t}else Rr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ke(t),o=!1}else Ft!==null&&(sc(Ft),Ft=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?Te===0&&(Te=3):au())),t.updateQueue!==null&&(t.flags|=4),Ke(t),null);case 4:return Ir(),Ya(e,t),e===null&&Os(t.stateNode.containerInfo),Ke(t),null;case 10:return Vc(t.type._context),Ke(t),null;case 17:return at(t.type)&&fi(),Ke(t),null;case 19:if(xe(Ce),o=t.memoizedState,o===null)return Ke(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)rs(o,!1);else{if(Te!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=xi(e),i!==null){for(t.flags|=128,rs(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(Ce,Ce.current&1|2),t.child}e=e.sibling}o.tail!==null&&Re()>Or&&(t.flags|=128,r=!0,rs(o,!1),t.lanes=4194304)}else{if(!r)if(e=xi(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!be)return Ke(t),null}else 2*Re()-o.renderingStartTime>Or&&n!==1073741824&&(t.flags|=128,r=!0,rs(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Re(),t.sibling=null,n=Ce.current,ye(Ce,r?n&1|2:n&1),t):(Ke(t),null);case 22:case 23:return lu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?pt&1073741824&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function l0(e,t){switch($c(t),t.tag){case 1:return at(t.type)&&fi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ir(),xe(lt),xe(Je),Yc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qc(t),null;case 13:if(xe(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));Rr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(Ce),null;case 4:return Ir(),null;case 10:return Vc(t.type._context),null;case 22:case 23:return lu(),null;case 24:return null;default:return null}}var Ro=!1,Qe=!1,a0=typeof WeakSet=="function"?WeakSet:Set,V=null;function _r(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ne(e,t,r)}else n.current=null}function Ja(e,t,n){try{n()}catch(r){Ne(e,t,r)}}var Zd=!1;function c0(e,t){if(Oa=ai,e=Cm(),Bc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===s&&(a=i),p===o&&++d===r&&(c=i),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ta={focusedElem:e,selectionRange:n},ai=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var v=h.memoizedProps,g=h.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:Tt(t.type,v),g);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(C){Ne(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return h=Zd,Zd=!1,h}function xs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Ja(t,n,o)}s=s.next}while(s!==r)}}function Qi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Za(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _h(e){var t=e.alternate;t!==null&&(e.alternate=null,_h(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gt],delete t[Ls],delete t[Ma],delete t[Vx],delete t[qx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wh(e){return e.tag===5||e.tag===3||e.tag===4}function Xd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=di));else if(r!==4&&(e=e.child,e!==null))for(Xa(e,t,n),e=e.sibling;e!==null;)Xa(e,t,n),e=e.sibling}function ec(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ec(e,t,n),e=e.sibling;e!==null;)ec(e,t,n),e=e.sibling}var We=null,Lt=!1;function un(e,t,n){for(n=n.child;n!==null;)bh(e,t,n),n=n.sibling}function bh(e,t,n){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount($i,n)}catch{}switch(n.tag){case 5:Qe||_r(n,t);case 6:var r=We,s=Lt;We=null,un(e,t,n),We=r,Lt=s,We!==null&&(Lt?(e=We,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):We.removeChild(n.stateNode));break;case 18:We!==null&&(Lt?(e=We,n=n.stateNode,e.nodeType===8?Tl(e.parentNode,n):e.nodeType===1&&Tl(e,n),Ps(e)):Tl(We,n.stateNode));break;case 4:r=We,s=Lt,We=n.stateNode.containerInfo,Lt=!0,un(e,t,n),We=r,Lt=s;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Ja(n,t,i),s=s.next}while(s!==r)}un(e,t,n);break;case 1:if(!Qe&&(_r(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ne(n,t,a)}un(e,t,n);break;case 21:un(e,t,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,un(e,t,n),Qe=r):un(e,t,n);break;default:un(e,t,n)}}function ef(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new a0),t.forEach(function(r){var s=v0.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ot(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:We=a.stateNode,Lt=!1;break e;case 3:We=a.stateNode.containerInfo,Lt=!0;break e;case 4:We=a.stateNode.containerInfo,Lt=!0;break e}a=a.return}if(We===null)throw Error(B(160));bh(o,i,s),We=null,Lt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ne(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sh(t,e),t=t.sibling}function Sh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ot(t,e),Ht(e),r&4){try{xs(3,e,e.return),Qi(3,e)}catch(v){Ne(e,e.return,v)}try{xs(5,e,e.return)}catch(v){Ne(e,e.return,v)}}break;case 1:Ot(t,e),Ht(e),r&512&&n!==null&&_r(n,n.return);break;case 5:if(Ot(t,e),Ht(e),r&512&&n!==null&&_r(n,n.return),e.flags&32){var s=e.stateNode;try{Es(s,"")}catch(v){Ne(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Vp(s,o),Ca(a,i);var u=Ca(a,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?Yp(s,f):d==="dangerouslySetInnerHTML"?Kp(s,f):d==="children"?Es(s,f):kc(s,d,f,u)}switch(a){case"input":xa(s,o);break;case"textarea":qp(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?br(s,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?br(s,!!o.multiple,o.defaultValue,!0):br(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ls]=o}catch(v){Ne(e,e.return,v)}}break;case 6:if(Ot(t,e),Ht(e),r&4){if(e.stateNode===null)throw Error(B(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(v){Ne(e,e.return,v)}}break;case 3:if(Ot(t,e),Ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ps(t.containerInfo)}catch(v){Ne(e,e.return,v)}break;case 4:Ot(t,e),Ht(e);break;case 13:Ot(t,e),Ht(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(ou=Re())),r&4&&ef(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Qe=(u=Qe)||d,Ot(t,e),Qe=u):Ot(t,e),Ht(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(V=e,d=e.child;d!==null;){for(f=V=d;V!==null;){switch(p=V,m=p.child,p.tag){case 0:case 11:case 14:case 15:xs(4,p,p.return);break;case 1:_r(p,p.return);var h=p.stateNode;if(typeof h.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(v){Ne(r,n,v)}}break;case 5:_r(p,p.return);break;case 22:if(p.memoizedState!==null){nf(f);continue}}m!==null?(m.return=p,V=m):nf(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Qp("display",i))}catch(v){Ne(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Ne(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ot(t,e),Ht(e),r&4&&ef(e);break;case 21:break;default:Ot(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(wh(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Es(s,""),r.flags&=-33);var o=Xd(e);ec(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=Xd(e);Xa(e,a,i);break;default:throw Error(B(161))}}catch(c){Ne(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function u0(e,t,n){V=e,Ch(e)}function Ch(e,t,n){for(var r=(e.mode&1)!==0;V!==null;){var s=V,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Ro;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Qe;a=Ro;var u=Qe;if(Ro=i,(Qe=c)&&!u)for(V=s;V!==null;)i=V,c=i.child,i.tag===22&&i.memoizedState!==null?rf(s):c!==null?(c.return=i,V=c):rf(s);for(;o!==null;)V=o,Ch(o),o=o.sibling;V=s,Ro=a,Qe=u}tf(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,V=o):tf(e)}}function tf(e){for(;V!==null;){var t=V;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||Qi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Tt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Bd(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Bd(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ps(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Qe||t.flags&512&&Za(t)}catch(p){Ne(t,t.return,p)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function nf(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function rf(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qi(4,t)}catch(c){Ne(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Ne(t,s,c)}}var o=t.return;try{Za(t)}catch(c){Ne(t,o,c)}break;case 5:var i=t.return;try{Za(t)}catch(c){Ne(t,i,c)}}}catch(c){Ne(t,t.return,c)}if(t===e){V=null;break}var a=t.sibling;if(a!==null){a.return=t.return,V=a;break}V=t.return}}var d0=Math.ceil,bi=an.ReactCurrentDispatcher,ru=an.ReactCurrentOwner,Rt=an.ReactCurrentBatchConfig,de=0,Be=null,Ae=null,Ve=0,pt=0,wr=An(0),Te=0,Us=null,Jn=0,Yi=0,su=0,_s=null,ot=null,ou=0,Or=1/0,Zt=null,Si=!1,tc=null,Sn=null,Po=!1,gn=null,Ci=0,ws=0,nc=null,Yo=-1,Jo=0;function tt(){return de&6?Re():Yo!==-1?Yo:Yo=Re()}function Cn(e){return e.mode&1?de&2&&Ve!==0?Ve&-Ve:Kx.transition!==null?(Jo===0&&(Jo=am()),Jo):(e=me,e!==0||(e=window.event,e=e===void 0?16:hm(e.type)),e):1}function zt(e,t,n,r){if(50<ws)throw ws=0,nc=null,Error(B(185));eo(e,n,r),(!(de&2)||e!==Be)&&(e===Be&&(!(de&2)&&(Yi|=n),Te===4&&mn(e,Ve)),ct(e,r),n===1&&de===0&&!(t.mode&1)&&(Or=Re()+500,qi&&On()))}function ct(e,t){var n=e.callbackNode;Kv(e,t);var r=li(e,e===Be?Ve:0);if(r===0)n!==null&&fd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&fd(n),t===1)e.tag===0?Gx(sf.bind(null,e)):Om(sf.bind(null,e)),Wx(function(){!(de&6)&&On()}),n=null;else{switch(cm(r)){case 1:n=Pc;break;case 4:n=im;break;case 16:n=ii;break;case 536870912:n=lm;break;default:n=ii}n=Ih(n,jh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function jh(e,t){if(Yo=-1,Jo=0,de&6)throw Error(B(327));var n=e.callbackNode;if(Er()&&e.callbackNode!==n)return null;var r=li(e,e===Be?Ve:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ji(e,r);else{t=r;var s=de;de|=2;var o=Eh();(Be!==e||Ve!==t)&&(Zt=null,Or=Re()+500,Vn(e,t));do try{m0();break}catch(a){kh(e,a)}while(!0);Hc(),bi.current=o,de=s,Ae!==null?t=0:(Be=null,Ve=0,t=Te)}if(t!==0){if(t===2&&(s=Da(e),s!==0&&(r=s,t=rc(e,s))),t===1)throw n=Us,Vn(e,0),mn(e,r),ct(e,Re()),n;if(t===6)mn(e,r);else{if(s=e.current.alternate,!(r&30)&&!f0(s)&&(t=ji(e,r),t===2&&(o=Da(e),o!==0&&(r=o,t=rc(e,o))),t===1))throw n=Us,Vn(e,0),mn(e,r),ct(e,Re()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:Bn(e,ot,Zt);break;case 3:if(mn(e,r),(r&130023424)===r&&(t=ou+500-Re(),10<t)){if(li(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){tt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Fa(Bn.bind(null,e,ot,Zt),t);break}Bn(e,ot,Zt);break;case 4:if(mn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-Bt(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*d0(r/1960))-r,10<r){e.timeoutHandle=Fa(Bn.bind(null,e,ot,Zt),r);break}Bn(e,ot,Zt);break;case 5:Bn(e,ot,Zt);break;default:throw Error(B(329))}}}return ct(e,Re()),e.callbackNode===n?jh.bind(null,e):null}function rc(e,t){var n=_s;return e.current.memoizedState.isDehydrated&&(Vn(e,t).flags|=256),e=ji(e,t),e!==2&&(t=ot,ot=n,t!==null&&sc(t)),e}function sc(e){ot===null?ot=e:ot.push.apply(ot,e)}function f0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!$t(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mn(e,t){for(t&=~su,t&=~Yi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bt(t),r=1<<n;e[n]=-1,t&=~r}}function sf(e){if(de&6)throw Error(B(327));Er();var t=li(e,0);if(!(t&1))return ct(e,Re()),null;var n=ji(e,t);if(e.tag!==0&&n===2){var r=Da(e);r!==0&&(t=r,n=rc(e,r))}if(n===1)throw n=Us,Vn(e,0),mn(e,t),ct(e,Re()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bn(e,ot,Zt),ct(e,Re()),null}function iu(e,t){var n=de;de|=1;try{return e(t)}finally{de=n,de===0&&(Or=Re()+500,qi&&On())}}function Zn(e){gn!==null&&gn.tag===0&&!(de&6)&&Er();var t=de;de|=1;var n=Rt.transition,r=me;try{if(Rt.transition=null,me=1,e)return e()}finally{me=r,Rt.transition=n,de=t,!(de&6)&&On()}}function lu(){pt=wr.current,xe(wr)}function Vn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ux(n)),Ae!==null)for(n=Ae.return;n!==null;){var r=n;switch($c(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fi();break;case 3:Ir(),xe(lt),xe(Je),Yc();break;case 5:Qc(r);break;case 4:Ir();break;case 13:xe(Ce);break;case 19:xe(Ce);break;case 10:Vc(r.type._context);break;case 22:case 23:lu()}n=n.return}if(Be=e,Ae=e=jn(e.current,null),Ve=pt=t,Te=0,Us=null,su=Yi=Jn=0,ot=_s=null,Un!==null){for(t=0;t<Un.length;t++)if(n=Un[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Un=null}return e}function kh(e,t){do{var n=Ae;try{if(Hc(),Go.current=wi,_i){for(var r=je.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}_i=!1}if(Yn=0,Me=Oe=je=null,vs=!1,Bs=0,ru.current=null,n===null||n.return===null){Te=1,Us=t,Ae=null;break}e:{var o=e,i=n.return,a=n,c=t;if(t=Ve,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Vd(i);if(m!==null){m.flags&=-257,qd(m,i,a,o,t),m.mode&1&&Hd(o,u,t),t=m,c=u;var h=t.updateQueue;if(h===null){var v=new Set;v.add(c),t.updateQueue=v}else h.add(c);break e}else{if(!(t&1)){Hd(o,u,t),au();break e}c=Error(B(426))}}else if(be&&a.mode&1){var g=Vd(i);if(g!==null){!(g.flags&65536)&&(g.flags|=256),qd(g,i,a,o,t),Uc(Ar(c,a));break e}}o=c=Ar(c,a),Te!==4&&(Te=2),_s===null?_s=[o]:_s.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=ch(o,c,t);Md(o,x);break e;case 1:a=c;var y=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Sn===null||!Sn.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t;var C=uh(o,a,t);Md(o,C);break e}}o=o.return}while(o!==null)}Dh(n)}catch(k){t=k,Ae===n&&n!==null&&(Ae=n=n.return);continue}break}while(!0)}function Eh(){var e=bi.current;return bi.current=wi,e===null?wi:e}function au(){(Te===0||Te===3||Te===2)&&(Te=4),Be===null||!(Jn&268435455)&&!(Yi&268435455)||mn(Be,Ve)}function ji(e,t){var n=de;de|=2;var r=Eh();(Be!==e||Ve!==t)&&(Zt=null,Vn(e,t));do try{p0();break}catch(s){kh(e,s)}while(!0);if(Hc(),de=n,bi.current=r,Ae!==null)throw Error(B(261));return Be=null,Ve=0,Te}function p0(){for(;Ae!==null;)Nh(Ae)}function m0(){for(;Ae!==null&&!Bv();)Nh(Ae)}function Nh(e){var t=Ph(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?Dh(e):Ae=t,ru.current=null}function Dh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=l0(n,t),n!==null){n.flags&=32767,Ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Te=6,Ae=null;return}}else if(n=i0(n,t,pt),n!==null){Ae=n;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);Te===0&&(Te=5)}function Bn(e,t,n){var r=me,s=Rt.transition;try{Rt.transition=null,me=1,h0(e,t,n,r)}finally{Rt.transition=s,me=r}return null}function h0(e,t,n,r){do Er();while(gn!==null);if(de&6)throw Error(B(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Qv(e,o),e===Be&&(Ae=Be=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Po||(Po=!0,Ih(ii,function(){return Er(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Rt.transition,Rt.transition=null;var i=me;me=1;var a=de;de|=4,ru.current=null,c0(e,n),Sh(n,e),Tx(Ta),ai=!!Oa,Ta=Oa=null,e.current=n,u0(n),zv(),de=a,me=i,Rt.transition=o}else e.current=n;if(Po&&(Po=!1,gn=e,Ci=s),o=e.pendingLanes,o===0&&(Sn=null),Wv(n.stateNode),ct(e,Re()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Si)throw Si=!1,e=tc,tc=null,e;return Ci&1&&e.tag!==0&&Er(),o=e.pendingLanes,o&1?e===nc?ws++:(ws=0,nc=e):ws=0,On(),null}function Er(){if(gn!==null){var e=cm(Ci),t=Rt.transition,n=me;try{if(Rt.transition=null,me=16>e?16:e,gn===null)var r=!1;else{if(e=gn,gn=null,Ci=0,de&6)throw Error(B(331));var s=de;for(de|=4,V=e.current;V!==null;){var o=V,i=o.child;if(V.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(V=u;V!==null;){var d=V;switch(d.tag){case 0:case 11:case 15:xs(8,d,o)}var f=d.child;if(f!==null)f.return=d,V=f;else for(;V!==null;){d=V;var p=d.sibling,m=d.return;if(_h(d),d===u){V=null;break}if(p!==null){p.return=m,V=p;break}V=m}}}var h=o.alternate;if(h!==null){var v=h.child;if(v!==null){h.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(v!==null)}}V=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,V=i;else e:for(;V!==null;){if(o=V,o.flags&2048)switch(o.tag){case 0:case 11:case 15:xs(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,V=x;break e}V=o.return}}var y=e.current;for(V=y;V!==null;){i=V;var _=i.child;if(i.subtreeFlags&2064&&_!==null)_.return=i,V=_;else e:for(i=y;V!==null;){if(a=V,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qi(9,a)}}catch(k){Ne(a,a.return,k)}if(a===i){V=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,V=C;break e}V=a.return}}if(de=s,On(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot($i,e)}catch{}r=!0}return r}finally{me=n,Rt.transition=t}}return!1}function of(e,t,n){t=Ar(n,t),t=ch(e,t,1),e=bn(e,t,1),t=tt(),e!==null&&(eo(e,1,t),ct(e,t))}function Ne(e,t,n){if(e.tag===3)of(e,e,n);else for(;t!==null;){if(t.tag===3){of(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sn===null||!Sn.has(r))){e=Ar(n,e),e=uh(t,e,1),t=bn(t,e,1),e=tt(),t!==null&&(eo(t,1,e),ct(t,e));break}}t=t.return}}function g0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=tt(),e.pingedLanes|=e.suspendedLanes&n,Be===e&&(Ve&n)===n&&(Te===4||Te===3&&(Ve&130023424)===Ve&&500>Re()-ou?Vn(e,0):su|=n),ct(e,t)}function Rh(e,t){t===0&&(e.mode&1?(t=wo,wo<<=1,!(wo&130023424)&&(wo=4194304)):t=1);var n=tt();e=on(e,t),e!==null&&(eo(e,t,n),ct(e,n))}function y0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rh(e,n)}function v0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),Rh(e,n)}var Ph;Ph=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)it=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return it=!1,o0(e,t,n);it=!!(e.flags&131072)}else it=!1,be&&t.flags&1048576&&Tm(t,hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qo(e,t),e=t.pendingProps;var s=Dr(t,Je.current);kr(t,n),s=Zc(null,t,r,e,s,n);var o=Xc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(r)?(o=!0,pi(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Gc(t),s.updater=Ki,t.stateNode=s,s._reactInternals=t,Ha(t,r,e,n),t=Ga(null,t,r,!0,o,n)):(t.tag=0,be&&o&&zc(t),et(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qo(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=_0(r),e=Tt(r,e),s){case 0:t=qa(null,t,r,e,n);break e;case 1:t=Qd(null,t,r,e,n);break e;case 11:t=Gd(null,t,r,e,n);break e;case 14:t=Kd(null,t,r,Tt(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tt(r,s),qa(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tt(r,s),Qd(e,t,r,s,n);case 3:e:{if(mh(t),e===null)throw Error(B(387));r=t.pendingProps,o=t.memoizedState,s=o.element,$m(e,t),vi(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Ar(Error(B(423)),t),t=Yd(e,t,r,n,s);break e}else if(r!==s){s=Ar(Error(B(424)),t),t=Yd(e,t,r,n,s);break e}else for(mt=wn(t.stateNode.containerInfo.firstChild),gt=t,be=!0,Ft=null,n=Bm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rr(),r===s){t=ln(e,t,n);break e}et(e,t,r,n)}t=t.child}return t;case 5:return Um(t),e===null&&$a(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,La(r,s)?i=null:o!==null&&La(r,o)&&(t.flags|=32),ph(e,t),et(e,t,i,n),t.child;case 6:return e===null&&$a(t),null;case 13:return hh(e,t,n);case 4:return Kc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Pr(t,null,r,n):et(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tt(r,s),Gd(e,t,r,s,n);case 7:return et(e,t,t.pendingProps,n),t.child;case 8:return et(e,t,t.pendingProps.children,n),t.child;case 12:return et(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,ye(gi,r._currentValue),r._currentValue=i,o!==null)if($t(o.value,i)){if(o.children===s.children&&!lt.current){t=ln(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=nn(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Ua(o.return,n,t),a.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(B(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ua(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}et(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,kr(t,n),s=It(s),r=r(s),t.flags|=1,et(e,t,r,n),t.child;case 14:return r=t.type,s=Tt(r,t.pendingProps),s=Tt(r.type,s),Kd(e,t,r,s,n);case 15:return dh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tt(r,s),Qo(e,t),t.tag=1,at(r)?(e=!0,pi(t)):e=!1,kr(t,n),ah(t,r,s),Ha(t,r,s,n),Ga(null,t,r,!0,e,n);case 19:return gh(e,t,n);case 22:return fh(e,t,n)}throw Error(B(156,t.tag))};function Ih(e,t){return om(e,t)}function x0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,n,r){return new x0(e,t,n,r)}function cu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _0(e){if(typeof e=="function")return cu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Nc)return 11;if(e===Dc)return 14}return 2}function jn(e,t){var n=e.alternate;return n===null?(n=Nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zo(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")cu(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case dr:return qn(n.children,s,o,t);case Ec:i=8,s|=8;break;case ma:return e=Nt(12,n,t,s|2),e.elementType=ma,e.lanes=o,e;case ha:return e=Nt(13,n,t,s),e.elementType=ha,e.lanes=o,e;case ga:return e=Nt(19,n,t,s),e.elementType=ga,e.lanes=o,e;case Up:return Ji(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zp:i=10;break e;case $p:i=9;break e;case Nc:i=11;break e;case Dc:i=14;break e;case dn:i=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=Nt(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function qn(e,t,n,r){return e=Nt(7,e,r,t),e.lanes=n,e}function Ji(e,t,n,r){return e=Nt(22,e,r,t),e.elementType=Up,e.lanes=n,e.stateNode={isHidden:!1},e}function Wl(e,t,n){return e=Nt(6,e,null,t),e.lanes=n,e}function Hl(e,t,n){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function w0(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cl(0),this.expirationTimes=Cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function uu(e,t,n,r,s,o,i,a,c){return e=new w0(e,t,n,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Nt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gc(o),e}function b0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ur,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ah(e){if(!e)return Rn;e=e._reactInternals;e:{if(rr(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(at(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(at(n))return Am(e,n,t)}return t}function Oh(e,t,n,r,s,o,i,a,c){return e=uu(n,r,!0,e,s,o,i,a,c),e.context=Ah(null),n=e.current,r=tt(),s=Cn(n),o=nn(r,s),o.callback=t??null,bn(n,o,s),e.current.lanes=s,eo(e,s,r),ct(e,r),e}function Zi(e,t,n,r){var s=t.current,o=tt(),i=Cn(s);return n=Ah(n),t.context===null?t.context=n:t.pendingContext=n,t=nn(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=bn(s,t,i),e!==null&&(zt(e,s,i,o),qo(e,s,i)),i}function ki(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function du(e,t){lf(e,t),(e=e.alternate)&&lf(e,t)}function S0(){return null}var Th=typeof reportError=="function"?reportError:function(e){console.error(e)};function fu(e){this._internalRoot=e}Xi.prototype.render=fu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));Zi(e,t,null,null)};Xi.prototype.unmount=fu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zn(function(){Zi(null,e,null,null)}),t[sn]=null}};function Xi(e){this._internalRoot=e}Xi.prototype.unstable_scheduleHydration=function(e){if(e){var t=fm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<pn.length&&t!==0&&t<pn[n].priority;n++);pn.splice(n,0,e),n===0&&mm(e)}};function pu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function el(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function af(){}function C0(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=ki(i);o.call(u)}}var i=Oh(t,r,e,0,null,!1,!1,"",af);return e._reactRootContainer=i,e[sn]=i.current,Os(e.nodeType===8?e.parentNode:e),Zn(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=ki(c);a.call(u)}}var c=uu(e,0,!1,null,null,!1,!1,"",af);return e._reactRootContainer=c,e[sn]=c.current,Os(e.nodeType===8?e.parentNode:e),Zn(function(){Zi(t,c,n,r)}),c}function tl(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=ki(i);a.call(c)}}Zi(t,i,e,s)}else i=C0(n,t,e,s,r);return ki(i)}um=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ds(t.pendingLanes);n!==0&&(Ic(t,n|1),ct(t,Re()),!(de&6)&&(Or=Re()+500,On()))}break;case 13:Zn(function(){var r=on(e,1);if(r!==null){var s=tt();zt(r,e,1,s)}}),du(e,1)}};Ac=function(e){if(e.tag===13){var t=on(e,134217728);if(t!==null){var n=tt();zt(t,e,134217728,n)}du(e,134217728)}};dm=function(e){if(e.tag===13){var t=Cn(e),n=on(e,t);if(n!==null){var r=tt();zt(n,e,t,r)}du(e,t)}};fm=function(){return me};pm=function(e,t){var n=me;try{return me=e,t()}finally{me=n}};ka=function(e,t,n){switch(t){case"input":if(xa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Vi(r);if(!s)throw Error(B(90));Hp(r),xa(r,s)}}}break;case"textarea":qp(e,n);break;case"select":t=n.value,t!=null&&br(e,!!n.multiple,t,!1)}};Xp=iu;em=Zn;var j0={usingClientEntryPoint:!1,Events:[no,hr,Vi,Jp,Zp,iu]},ss={findFiberByHostInstance:$n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k0={bundleType:ss.bundleType,version:ss.version,rendererPackageName:ss.rendererPackageName,rendererConfig:ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rm(e),e===null?null:e.stateNode},findFiberByHostInstance:ss.findFiberByHostInstance||S0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Io.isDisabled&&Io.supportsFiber)try{$i=Io.inject(k0),Kt=Io}catch{}}_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j0;_t.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pu(t))throw Error(B(200));return b0(e,t,null,n)};_t.createRoot=function(e,t){if(!pu(e))throw Error(B(299));var n=!1,r="",s=Th;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=uu(e,1,!1,null,null,n,!1,r,s),e[sn]=t.current,Os(e.nodeType===8?e.parentNode:e),new fu(t)};_t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=rm(t),e=e===null?null:e.stateNode,e};_t.flushSync=function(e){return Zn(e)};_t.hydrate=function(e,t,n){if(!el(t))throw Error(B(200));return tl(null,e,t,!0,n)};_t.hydrateRoot=function(e,t,n){if(!pu(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=Th;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Oh(t,null,e,1,n??null,s,!1,o,i),e[sn]=t.current,Os(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Xi(t)};_t.render=function(e,t,n){if(!el(t))throw Error(B(200));return tl(null,e,t,!1,n)};_t.unmountComponentAtNode=function(e){if(!el(e))throw Error(B(40));return e._reactRootContainer?(Zn(function(){tl(null,null,e,!1,function(){e._reactRootContainer=null,e[sn]=null})}),!0):!1};_t.unstable_batchedUpdates=iu;_t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!el(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return tl(e,t,n,!1,r)};_t.version="18.3.1-next-f1338f8080-20240426";function Lh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lh)}catch(e){console.error(e)}}Lh(),Lp.exports=_t;var nl=Lp.exports;const E0=Bi(nl);var cf=nl;fa.createRoot=cf.createRoot,fa.hydrateRoot=cf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ws(){return Ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ws.apply(this,arguments)}var yn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(yn||(yn={}));const uf="popstate";function N0(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:a}=r.location;return oc("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ei(s)}return R0(t,n,null,e)}function Pe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function D0(){return Math.random().toString(36).substr(2,8)}function df(e,t){return{usr:e.state,key:e.key,idx:t}}function oc(e,t,n,r){return n===void 0&&(n=null),Ws({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ur(t):t,{state:n,key:t&&t.key||r||D0()})}function Ei(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ur(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function R0(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=yn.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Ws({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=yn.Pop;let g=d(),x=g==null?null:g-u;u=g,c&&c({action:a,location:v.location,delta:x})}function p(g,x){a=yn.Push;let y=oc(v.location,g,x);u=d()+1;let _=df(y,u),C=v.createHref(y);try{i.pushState(_,"",C)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(C)}o&&c&&c({action:a,location:v.location,delta:1})}function m(g,x){a=yn.Replace;let y=oc(v.location,g,x);u=d();let _=df(y,u),C=v.createHref(y);i.replaceState(_,"",C),o&&c&&c({action:a,location:v.location,delta:0})}function h(g){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof g=="string"?g:Ei(g);return y=y.replace(/ $/,"%20"),Pe(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let v={get action(){return a},get location(){return e(s,i)},listen(g){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(uf,f),c=g,()=>{s.removeEventListener(uf,f),c=null}},createHref(g){return t(s,g)},createURL:h,encodeLocation(g){let x=h(g);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(g){return i.go(g)}};return v}var ff;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ff||(ff={}));function P0(e,t,n){return n===void 0&&(n="/"),I0(e,t,n)}function I0(e,t,n,r){let s=typeof t=="string"?Ur(t):t,o=mu(s.pathname||"/",n);if(o==null)return null;let i=Mh(e);A0(i);let a=null;for(let c=0;a==null&&c<i.length;++c){let u=V0(o);a=U0(i[c],u)}return a}function Mh(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Pe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=kn([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(Pe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Mh(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:z0(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let c of Bh(o.path))s(o,i,c)}),t}function Bh(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=Bh(r.join("/")),a=[];return a.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&a.push(...i),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function A0(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:$0(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const O0=/^:[\w-]+$/,T0=3,L0=2,F0=1,M0=10,B0=-2,pf=e=>e==="*";function z0(e,t){let n=e.split("/"),r=n.length;return n.some(pf)&&(r+=B0),t&&(r+=L0),n.filter(s=>!pf(s)).reduce((s,o)=>s+(O0.test(o)?T0:o===""?F0:M0),r)}function $0(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function U0(e,t,n){let{routesMeta:r}=e,s={},o="/",i=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=W0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:kn([o,f.pathname]),pathnameBase:Q0(kn([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=kn([o,f.pathnameBase]))}return i}function W0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=H0(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let v=a[f]||"";i=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const h=a[f];return m&&!h?u[p]=void 0:u[p]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function H0(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Fh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function V0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function mu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function q0(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ur(e):e;return{pathname:n?n.startsWith("/")?n:G0(n,t):t,search:Y0(r),hash:J0(s)}}function G0(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Vl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function K0(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function hu(e,t){let n=K0(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function gu(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ur(e):(s=Ws({},e),Pe(!s.pathname||!s.pathname.includes("?"),Vl("?","pathname","search",s)),Pe(!s.pathname||!s.pathname.includes("#"),Vl("#","pathname","hash",s)),Pe(!s.search||!s.search.includes("#"),Vl("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?t[f]:"/"}let c=q0(s,a),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const kn=e=>e.join("/").replace(/\/\/+/g,"/"),Q0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Y0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,J0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Z0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const zh=["post","put","patch","delete"];new Set(zh);const X0=["get",...zh];new Set(X0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hs.apply(this,arguments)}const yu=w.createContext(null),e_=w.createContext(null),Tn=w.createContext(null),rl=w.createContext(null),Ln=w.createContext({outlet:null,matches:[],isDataRoute:!1}),$h=w.createContext(null);function t_(e,t){let{relative:n}=t===void 0?{}:t;Wr()||Pe(!1);let{basename:r,navigator:s}=w.useContext(Tn),{hash:o,pathname:i,search:a}=Wh(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:kn([r,i])),s.createHref({pathname:c,search:a,hash:o})}function Wr(){return w.useContext(rl)!=null}function so(){return Wr()||Pe(!1),w.useContext(rl).location}function Uh(e){w.useContext(Tn).static||w.useLayoutEffect(e)}function oo(){let{isDataRoute:e}=w.useContext(Ln);return e?m_():n_()}function n_(){Wr()||Pe(!1);let e=w.useContext(yu),{basename:t,future:n,navigator:r}=w.useContext(Tn),{matches:s}=w.useContext(Ln),{pathname:o}=so(),i=JSON.stringify(hu(s,n.v7_relativeSplatPath)),a=w.useRef(!1);return Uh(()=>{a.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=gu(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:kn([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,o,e])}function Wh(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(Tn),{matches:s}=w.useContext(Ln),{pathname:o}=so(),i=JSON.stringify(hu(s,r.v7_relativeSplatPath));return w.useMemo(()=>gu(e,JSON.parse(i),o,n==="path"),[e,i,o,n])}function r_(e,t){return s_(e,t)}function s_(e,t,n,r){Wr()||Pe(!1);let{navigator:s}=w.useContext(Tn),{matches:o}=w.useContext(Ln),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=so(),d;if(t){var f;let g=typeof t=="string"?Ur(t):t;c==="/"||(f=g.pathname)!=null&&f.startsWith(c)||Pe(!1),d=g}else d=u;let p=d.pathname||"/",m=p;if(c!=="/"){let g=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(g.length).join("/")}let h=P0(e,{pathname:m}),v=c_(h&&h.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:kn([c,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:kn([c,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,n,r);return t&&v?w.createElement(rl.Provider,{value:{location:Hs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:yn.Pop}},v):v}function o_(){let e=p_(),t=Z0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:s},n):null,null)}const i_=w.createElement(o_,null);class l_ extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(Ln.Provider,{value:this.props.routeContext},w.createElement($h.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function a_(e){let{routeContext:t,match:n,children:r}=e,s=w.useContext(yu);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Ln.Provider,{value:t},r)}function c_(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Pe(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:m}=n,h=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||h){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,p)=>{let m,h=!1,v=null,g=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||i_,c&&(u<0&&p===0?(h_("route-fallback"),h=!0,g=null):u===p&&(h=!0,g=f.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,p+1)),y=()=>{let _;return m?_=v:h?_=g:f.route.Component?_=w.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,w.createElement(a_,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?w.createElement(l_,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var Hh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Hh||{}),Vh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Vh||{});function u_(e){let t=w.useContext(yu);return t||Pe(!1),t}function d_(e){let t=w.useContext(e_);return t||Pe(!1),t}function f_(e){let t=w.useContext(Ln);return t||Pe(!1),t}function qh(e){let t=f_(),n=t.matches[t.matches.length-1];return n.route.id||Pe(!1),n.route.id}function p_(){var e;let t=w.useContext($h),n=d_(),r=qh();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function m_(){let{router:e}=u_(Hh.UseNavigateStable),t=qh(Vh.UseNavigateStable),n=w.useRef(!1);return Uh(()=>{n.current=!0}),w.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Hs({fromRouteId:t},o)))},[e,t])}const mf={};function h_(e,t,n){mf[e]||(mf[e]=!0)}function g_(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function y_(e){let{to:t,replace:n,state:r,relative:s}=e;Wr()||Pe(!1);let{future:o,static:i}=w.useContext(Tn),{matches:a}=w.useContext(Ln),{pathname:c}=so(),u=oo(),d=gu(t,hu(a,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function cr(e){Pe(!1)}function v_(e){let{basename:t="/",children:n=null,location:r,navigationType:s=yn.Pop,navigator:o,static:i=!1,future:a}=e;Wr()&&Pe(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:o,static:i,future:Hs({v7_relativeSplatPath:!1},a)}),[c,a,o,i]);typeof r=="string"&&(r=Ur(r));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:h="default"}=r,v=w.useMemo(()=>{let g=mu(d,c);return g==null?null:{location:{pathname:g,search:f,hash:p,state:m,key:h},navigationType:s}},[c,d,f,p,m,h,s]);return v==null?null:w.createElement(Tn.Provider,{value:u},w.createElement(rl.Provider,{children:n,value:v}))}function x_(e){let{children:t,location:n}=e;return r_(ic(t),n)}new Promise(()=>{});function ic(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,s)=>{if(!w.isValidElement(r))return;let o=[...t,s];if(r.type===w.Fragment){n.push.apply(n,ic(r.props.children,o));return}r.type!==cr&&Pe(!1),!r.props.index||!r.props.children||Pe(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=ic(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lc.apply(this,arguments)}function __(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function w_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function b_(e,t){return e.button===0&&(!t||t==="_self")&&!w_(e)}const S_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],C_="6";try{window.__reactRouterVersion=C_}catch{}const j_="startTransition",hf=gv[j_];function k_(e){let{basename:t,children:n,future:r,window:s}=e,o=w.useRef();o.current==null&&(o.current=N0({window:s,v5Compat:!0}));let i=o.current,[a,c]=w.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=w.useCallback(f=>{u&&hf?hf(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>i.listen(d),[i,d]),w.useEffect(()=>g_(r),[r]),w.createElement(v_,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}const E_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",N_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gh=w.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:i,state:a,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,p=__(t,S_),{basename:m}=w.useContext(Tn),h,v=!1;if(typeof u=="string"&&N_.test(u)&&(h=u,E_))try{let _=new URL(window.location.href),C=u.startsWith("//")?new URL(_.protocol+u):new URL(u),k=mu(C.pathname,m);C.origin===_.origin&&k!=null?u=k+C.search+C.hash:v=!0}catch{}let g=t_(u,{relative:s}),x=D_(u,{replace:i,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:f});function y(_){r&&r(_),_.defaultPrevented||x(_)}return w.createElement("a",lc({},p,{href:h||g,onClick:v||o?r:y,ref:n,target:c}))});var gf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(gf||(gf={}));var yf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yf||(yf={}));function D_(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:a}=t===void 0?{}:t,c=oo(),u=so(),d=Wh(e,{relative:i});return w.useCallback(f=>{if(b_(f,n)){f.preventDefault();let p=r!==void 0?r:Ei(u)===Ei(d);c(e,{replace:p,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[u,c,d,r,s,n,e,o,i,a])}function Kh(e,t){return function(){return e.apply(t,arguments)}}const{toString:R_}=Object.prototype,{getPrototypeOf:vu}=Object,{iterator:sl,toStringTag:Qh}=Symbol,ol=(e=>t=>{const n=R_.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ut=e=>(e=e.toLowerCase(),t=>ol(t)===e),il=e=>t=>typeof t===e,{isArray:Hr}=Array,Tr=il("undefined");function io(e){return e!==null&&!Tr(e)&&e.constructor!==null&&!Tr(e.constructor)&&ut(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Yh=Ut("ArrayBuffer");function P_(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Yh(e.buffer),t}const I_=il("string"),ut=il("function"),Jh=il("number"),lo=e=>e!==null&&typeof e=="object",A_=e=>e===!0||e===!1,Xo=e=>{if(ol(e)!=="object")return!1;const t=vu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Qh in e)&&!(sl in e)},O_=e=>{if(!lo(e)||io(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},T_=Ut("Date"),L_=Ut("File"),F_=Ut("Blob"),M_=Ut("FileList"),B_=e=>lo(e)&&ut(e.pipe),z_=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ut(e.append)&&((t=ol(e))==="formdata"||t==="object"&&ut(e.toString)&&e.toString()==="[object FormData]"))},$_=Ut("URLSearchParams"),[U_,W_,H_,V_]=["ReadableStream","Request","Response","Headers"].map(Ut),q_=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ao(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Hr(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(io(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let a;for(r=0;r<i;r++)a=o[r],t.call(null,e[a],a,e)}}function Zh(e,t){if(io(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Hn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Xh=e=>!Tr(e)&&e!==Hn;function ac(){const{caseless:e,skipUndefined:t}=Xh(this)&&this||{},n={},r=(s,o)=>{const i=e&&Zh(n,o)||o;Xo(n[i])&&Xo(s)?n[i]=ac(n[i],s):Xo(s)?n[i]=ac({},s):Hr(s)?n[i]=s.slice():(!t||!Tr(s))&&(n[i]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&ao(arguments[s],r);return n}const G_=(e,t,n,{allOwnKeys:r}={})=>(ao(t,(s,o)=>{n&&ut(s)?e[o]=Kh(s,n):e[o]=s},{allOwnKeys:r}),e),K_=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Q_=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Y_=(e,t,n,r)=>{let s,o,i;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)i=s[o],(!r||r(i,e,t))&&!a[i]&&(t[i]=e[i],a[i]=!0);e=n!==!1&&vu(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},J_=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Z_=e=>{if(!e)return null;if(Hr(e))return e;let t=e.length;if(!Jh(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},X_=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&vu(Uint8Array)),ew=(e,t)=>{const r=(e&&e[sl]).call(e);let s;for(;(s=r.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},tw=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},nw=Ut("HTMLFormElement"),rw=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),vf=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),sw=Ut("RegExp"),eg=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ao(n,(s,o)=>{let i;(i=t(s,o,e))!==!1&&(r[o]=i||s)}),Object.defineProperties(e,r)},ow=e=>{eg(e,(t,n)=>{if(ut(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ut(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},iw=(e,t)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return Hr(e)?r(e):r(String(e).split(t)),n},lw=()=>{},aw=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function cw(e){return!!(e&&ut(e.append)&&e[Qh]==="FormData"&&e[sl])}const uw=e=>{const t=new Array(10),n=(r,s)=>{if(lo(r)){if(t.indexOf(r)>=0)return;if(io(r))return r;if(!("toJSON"in r)){t[s]=r;const o=Hr(r)?[]:{};return ao(r,(i,a)=>{const c=n(i,s+1);!Tr(c)&&(o[a]=c)}),t[s]=void 0,o}}return r};return n(e,0)},dw=Ut("AsyncFunction"),fw=e=>e&&(lo(e)||ut(e))&&ut(e.then)&&ut(e.catch),tg=((e,t)=>e?setImmediate:t?((n,r)=>(Hn.addEventListener("message",({source:s,data:o})=>{s===Hn&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Hn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ut(Hn.postMessage)),pw=typeof queueMicrotask<"u"?queueMicrotask.bind(Hn):typeof process<"u"&&process.nextTick||tg,mw=e=>e!=null&&ut(e[sl]),A={isArray:Hr,isArrayBuffer:Yh,isBuffer:io,isFormData:z_,isArrayBufferView:P_,isString:I_,isNumber:Jh,isBoolean:A_,isObject:lo,isPlainObject:Xo,isEmptyObject:O_,isReadableStream:U_,isRequest:W_,isResponse:H_,isHeaders:V_,isUndefined:Tr,isDate:T_,isFile:L_,isBlob:F_,isRegExp:sw,isFunction:ut,isStream:B_,isURLSearchParams:$_,isTypedArray:X_,isFileList:M_,forEach:ao,merge:ac,extend:G_,trim:q_,stripBOM:K_,inherits:Q_,toFlatObject:Y_,kindOf:ol,kindOfTest:Ut,endsWith:J_,toArray:Z_,forEachEntry:ew,matchAll:tw,isHTMLForm:nw,hasOwnProperty:vf,hasOwnProp:vf,reduceDescriptors:eg,freezeMethods:ow,toObjectSet:iw,toCamelCase:rw,noop:lw,toFiniteNumber:aw,findKey:Zh,global:Hn,isContextDefined:Xh,isSpecCompliantForm:cw,toJSONObject:uw,isAsyncFn:dw,isThenable:fw,setImmediate:tg,asap:pw,isIterable:mw};function ne(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}A.inherits(ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:A.toJSONObject(this.config),code:this.code,status:this.status}}});const ng=ne.prototype,rg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{rg[e]={value:e}});Object.defineProperties(ne,rg);Object.defineProperty(ng,"isAxiosError",{value:!0});ne.from=(e,t,n,r,s,o)=>{const i=Object.create(ng);A.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const a=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ne.call(i,a,c,n,r,s),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};const hw=null;function cc(e){return A.isPlainObject(e)||A.isArray(e)}function sg(e){return A.endsWith(e,"[]")?e.slice(0,-2):e}function xf(e,t,n){return e?e.concat(t).map(function(s,o){return s=sg(s),!n&&o?"["+s+"]":s}).join(n?".":""):t}function gw(e){return A.isArray(e)&&!e.some(cc)}const yw=A.toFlatObject(A,{},null,function(t){return/^is[A-Z]/.test(t)});function ll(e,t,n){if(!A.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=A.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,g){return!A.isUndefined(g[v])});const r=n.metaTokens,s=n.visitor||d,o=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&A.isSpecCompliantForm(t);if(!A.isFunction(s))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(A.isDate(h))return h.toISOString();if(A.isBoolean(h))return h.toString();if(!c&&A.isBlob(h))throw new ne("Blob is not supported. Use a Buffer instead.");return A.isArrayBuffer(h)||A.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function d(h,v,g){let x=h;if(h&&!g&&typeof h=="object"){if(A.endsWith(v,"{}"))v=r?v:v.slice(0,-2),h=JSON.stringify(h);else if(A.isArray(h)&&gw(h)||(A.isFileList(h)||A.endsWith(v,"[]"))&&(x=A.toArray(h)))return v=sg(v),x.forEach(function(_,C){!(A.isUndefined(_)||_===null)&&t.append(i===!0?xf([v],C,o):i===null?v:v+"[]",u(_))}),!1}return cc(h)?!0:(t.append(xf(g,v,o),u(h)),!1)}const f=[],p=Object.assign(yw,{defaultVisitor:d,convertValue:u,isVisitable:cc});function m(h,v){if(!A.isUndefined(h)){if(f.indexOf(h)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(h),A.forEach(h,function(x,y){(!(A.isUndefined(x)||x===null)&&s.call(t,x,A.isString(y)?y.trim():y,v,p))===!0&&m(x,v?v.concat(y):[y])}),f.pop()}}if(!A.isObject(e))throw new TypeError("data must be an object");return m(e),t}function _f(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function xu(e,t){this._pairs=[],e&&ll(e,this,t)}const og=xu.prototype;og.append=function(t,n){this._pairs.push([t,n])};og.toString=function(t){const n=t?function(r){return t.call(this,r,_f)}:_f;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function vw(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ig(e,t,n){if(!t)return e;const r=n&&n.encode||vw;A.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(t,n):o=A.isURLSearchParams(t)?t.toString():new xu(t,n).toString(r),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class wf{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){A.forEach(this.handlers,function(r){r!==null&&t(r)})}}const lg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xw=typeof URLSearchParams<"u"?URLSearchParams:xu,_w=typeof FormData<"u"?FormData:null,ww=typeof Blob<"u"?Blob:null,bw={isBrowser:!0,classes:{URLSearchParams:xw,FormData:_w,Blob:ww},protocols:["http","https","file","blob","url","data"]},_u=typeof window<"u"&&typeof document<"u",uc=typeof navigator=="object"&&navigator||void 0,Sw=_u&&(!uc||["ReactNative","NativeScript","NS"].indexOf(uc.product)<0),Cw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",jw=_u&&window.location.href||"http://localhost",kw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_u,hasStandardBrowserEnv:Sw,hasStandardBrowserWebWorkerEnv:Cw,navigator:uc,origin:jw},Symbol.toStringTag,{value:"Module"})),Ye={...kw,...bw};function Ew(e,t){return ll(e,new Ye.classes.URLSearchParams,{visitor:function(n,r,s,o){return Ye.isNode&&A.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function Nw(e){return A.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Dw(e){const t={},n=Object.keys(e);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],t[o]=e[o];return t}function ag(e){function t(n,r,s,o){let i=n[o++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),c=o>=n.length;return i=!i&&A.isArray(s)?s.length:i,c?(A.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!a):((!s[i]||!A.isObject(s[i]))&&(s[i]=[]),t(n,r,s[i],o)&&A.isArray(s[i])&&(s[i]=Dw(s[i])),!a)}if(A.isFormData(e)&&A.isFunction(e.entries)){const n={};return A.forEachEntry(e,(r,s)=>{t(Nw(r),s,n,0)}),n}return null}function Rw(e,t,n){if(A.isString(e))try{return(t||JSON.parse)(e),A.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const co={transitional:lg,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=A.isObject(t);if(o&&A.isHTMLForm(t)&&(t=new FormData(t)),A.isFormData(t))return s?JSON.stringify(ag(t)):t;if(A.isArrayBuffer(t)||A.isBuffer(t)||A.isStream(t)||A.isFile(t)||A.isBlob(t)||A.isReadableStream(t))return t;if(A.isArrayBufferView(t))return t.buffer;if(A.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ew(t,this.formSerializer).toString();if((a=A.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ll(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),Rw(t)):t}],transformResponse:[function(t){const n=this.transitional||co.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(A.isResponse(t)||A.isReadableStream(t))return t;if(t&&A.isString(t)&&(r&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(a){if(i)throw a.name==="SyntaxError"?ne.from(a,ne.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ye.classes.FormData,Blob:Ye.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};A.forEach(["delete","get","head","post","put","patch"],e=>{co.headers[e]={}});const Pw=A.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Iw=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||t[n]&&Pw[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},bf=Symbol("internals");function os(e){return e&&String(e).trim().toLowerCase()}function ei(e){return e===!1||e==null?e:A.isArray(e)?e.map(ei):String(e)}function Aw(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Ow=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ql(e,t,n,r,s){if(A.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!A.isString(t)){if(A.isString(r))return t.indexOf(r)!==-1;if(A.isRegExp(r))return r.test(t)}}function Tw(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Lw(e,t){const n=A.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,o,i){return this[r].call(this,t,s,o,i)},configurable:!0})})}let dt=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function o(a,c,u){const d=os(c);if(!d)throw new Error("header name must be a non-empty string");const f=A.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=ei(a))}const i=(a,c)=>A.forEach(a,(u,d)=>o(u,d,c));if(A.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(A.isString(t)&&(t=t.trim())&&!Ow(t))i(Iw(t),n);else if(A.isObject(t)&&A.isIterable(t)){let a={},c,u;for(const d of t){if(!A.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(c=a[u])?A.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(a,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=os(t),t){const r=A.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return Aw(s);if(A.isFunction(n))return n.call(this,s,r);if(A.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=os(t),t){const r=A.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||ql(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function o(i){if(i=os(i),i){const a=A.findKey(r,i);a&&(!n||ql(r,r[a],a,n))&&(delete r[a],s=!0)}}return A.isArray(t)?t.forEach(o):o(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!t||ql(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const n=this,r={};return A.forEach(this,(s,o)=>{const i=A.findKey(r,o);if(i){n[i]=ei(s),delete n[o];return}const a=t?Tw(o):String(o).trim();a!==o&&delete n[o],n[a]=ei(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return A.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&A.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[bf]=this[bf]={accessors:{}}).accessors,s=this.prototype;function o(i){const a=os(i);r[a]||(Lw(s,i),r[a]=!0)}return A.isArray(t)?t.forEach(o):o(t),this}};dt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);A.reduceDescriptors(dt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});A.freezeMethods(dt);function Gl(e,t){const n=this||co,r=t||n,s=dt.from(r.headers);let o=r.data;return A.forEach(e,function(a){o=a.call(n,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function cg(e){return!!(e&&e.__CANCEL__)}function Vr(e,t,n){ne.call(this,e??"canceled",ne.ERR_CANCELED,t,n),this.name="CanceledError"}A.inherits(Vr,ne,{__CANCEL__:!0});function ug(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ne("Request failed with status code "+n.status,[ne.ERR_BAD_REQUEST,ne.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Fw(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Mw(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,o=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[o];i||(i=u),n[s]=c,r[s]=u;let f=o,p=0;for(;f!==s;)p+=n[f++],f=f%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),u-i<t)return;const m=d&&u-d;return m?Math.round(p*1e3/m):void 0}}function Bw(e,t){let n=0,r=1e3/t,s,o;const i=(u,d=Date.now())=>{n=d,s=null,o&&(clearTimeout(o),o=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?i(u,d):(s=u,o||(o=setTimeout(()=>{o=null,i(s)},r-f)))},()=>s&&i(s)]}const Ni=(e,t,n=3)=>{let r=0;const s=Mw(50,250);return Bw(o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,c=i-r,u=s(c),d=i<=a;r=i;const f={loaded:i,total:a,progress:a?i/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&d?(a-i)/u:void 0,event:o,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(f)},n)},Sf=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Cf=e=>(...t)=>A.asap(()=>e(...t)),zw=Ye.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ye.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ye.origin),Ye.navigator&&/(msie|trident)/i.test(Ye.navigator.userAgent)):()=>!0,$w=Ye.hasStandardBrowserEnv?{write(e,t,n,r,s,o,i){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];A.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),A.isString(r)&&a.push(`path=${r}`),A.isString(s)&&a.push(`domain=${s}`),o===!0&&a.push("secure"),A.isString(i)&&a.push(`SameSite=${i}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Uw(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Ww(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function dg(e,t,n){let r=!Uw(t);return e&&(r||n==!1)?Ww(e,t):t}const jf=e=>e instanceof dt?{...e}:e;function Xn(e,t){t=t||{};const n={};function r(u,d,f,p){return A.isPlainObject(u)&&A.isPlainObject(d)?A.merge.call({caseless:p},u,d):A.isPlainObject(d)?A.merge({},d):A.isArray(d)?d.slice():d}function s(u,d,f,p){if(A.isUndefined(d)){if(!A.isUndefined(u))return r(void 0,u,f,p)}else return r(u,d,f,p)}function o(u,d){if(!A.isUndefined(d))return r(void 0,d)}function i(u,d){if(A.isUndefined(d)){if(!A.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,f){if(f in t)return r(u,d);if(f in e)return r(void 0,u)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(u,d,f)=>s(jf(u),jf(d),f,!0)};return A.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||s,p=f(e[d],t[d],d);A.isUndefined(p)&&f!==a||(n[d]=p)}),n}const fg=e=>{const t=Xn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:a}=t;if(t.headers=i=dt.from(i),t.url=ig(dg(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),A.isFormData(n)){if(Ye.hasStandardBrowserEnv||Ye.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(A.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(Ye.hasStandardBrowserEnv&&(r&&A.isFunction(r)&&(r=r(t)),r||r!==!1&&zw(t.url))){const c=s&&o&&$w.read(o);c&&i.set(s,c)}return t},Hw=typeof XMLHttpRequest<"u",Vw=Hw&&function(e){return new Promise(function(n,r){const s=fg(e);let o=s.data;const i=dt.from(s.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=s,d,f,p,m,h;function v(){m&&m(),h&&h(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let g=new XMLHttpRequest;g.open(s.method.toUpperCase(),s.url,!0),g.timeout=s.timeout;function x(){if(!g)return;const _=dt.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:_,config:e,request:g};ug(function(N){n(N),v()},function(N){r(N),v()},k),g=null}"onloadend"in g?g.onloadend=x:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(x)},g.onabort=function(){g&&(r(new ne("Request aborted",ne.ECONNABORTED,e,g)),g=null)},g.onerror=function(C){const k=C&&C.message?C.message:"Network Error",D=new ne(k,ne.ERR_NETWORK,e,g);D.event=C||null,r(D),g=null},g.ontimeout=function(){let C=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const k=s.transitional||lg;s.timeoutErrorMessage&&(C=s.timeoutErrorMessage),r(new ne(C,k.clarifyTimeoutError?ne.ETIMEDOUT:ne.ECONNABORTED,e,g)),g=null},o===void 0&&i.setContentType(null),"setRequestHeader"in g&&A.forEach(i.toJSON(),function(C,k){g.setRequestHeader(k,C)}),A.isUndefined(s.withCredentials)||(g.withCredentials=!!s.withCredentials),a&&a!=="json"&&(g.responseType=s.responseType),u&&([p,h]=Ni(u,!0),g.addEventListener("progress",p)),c&&g.upload&&([f,m]=Ni(c),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(d=_=>{g&&(r(!_||_.type?new Vr(null,e,g):_),g.abort(),g=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const y=Fw(s.url);if(y&&Ye.protocols.indexOf(y)===-1){r(new ne("Unsupported protocol "+y+":",ne.ERR_BAD_REQUEST,e));return}g.send(o||null)})},qw=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const o=function(u){if(!s){s=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof ne?d:new Vr(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,o(new ne(`timeout ${t} of ms exceeded`,ne.ETIMEDOUT))},t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>A.asap(a),c}},Gw=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},Kw=async function*(e,t){for await(const n of Qw(e))yield*Gw(n,t)},Qw=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},kf=(e,t,n,r)=>{const s=Kw(e,t);let o=0,i,a=c=>{i||(i=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){a(),c.close();return}let f=d.byteLength;if(n){let p=o+=f;n(p)}c.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(c){return a(c),s.return()}},{highWaterMark:2})},Ef=64*1024,{isFunction:Ao}=A,Yw=(({Request:e,Response:t})=>({Request:e,Response:t}))(A.global),{ReadableStream:Nf,TextEncoder:Df}=A.global,Rf=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Jw=e=>{e=A.merge.call({skipUndefined:!0},Yw,e);const{fetch:t,Request:n,Response:r}=e,s=t?Ao(t):typeof fetch=="function",o=Ao(n),i=Ao(r);if(!s)return!1;const a=s&&Ao(Nf),c=s&&(typeof Df=="function"?(h=>v=>h.encode(v))(new Df):async h=>new Uint8Array(await new n(h).arrayBuffer())),u=o&&a&&Rf(()=>{let h=!1;const v=new n(Ye.origin,{body:new Nf,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!v}),d=i&&a&&Rf(()=>A.isReadableStream(new r("").body)),f={stream:d&&(h=>h.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!f[h]&&(f[h]=(v,g)=>{let x=v&&v[h];if(x)return x.call(v);throw new ne(`Response type '${h}' is not supported`,ne.ERR_NOT_SUPPORT,g)})});const p=async h=>{if(h==null)return 0;if(A.isBlob(h))return h.size;if(A.isSpecCompliantForm(h))return(await new n(Ye.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(A.isArrayBufferView(h)||A.isArrayBuffer(h))return h.byteLength;if(A.isURLSearchParams(h)&&(h=h+""),A.isString(h))return(await c(h)).byteLength},m=async(h,v)=>{const g=A.toFiniteNumber(h.getContentLength());return g??p(v)};return async h=>{let{url:v,method:g,data:x,signal:y,cancelToken:_,timeout:C,onDownloadProgress:k,onUploadProgress:D,responseType:N,headers:b,withCredentials:S="same-origin",fetchOptions:j}=fg(h),E=t||fetch;N=N?(N+"").toLowerCase():"text";let P=qw([y,_&&_.toAbortSignal()],C),O=null;const U=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let z;try{if(D&&u&&g!=="get"&&g!=="head"&&(z=await m(b,x))!==0){let T=new n(v,{method:"POST",body:x,duplex:"half"}),M;if(A.isFormData(x)&&(M=T.headers.get("content-type"))&&b.setContentType(M),T.body){const[$,J]=Sf(z,Ni(Cf(D)));x=kf(T.body,Ef,$,J)}}A.isString(S)||(S=S?"include":"omit");const F=o&&"credentials"in n.prototype,H={...j,signal:P,method:g.toUpperCase(),headers:b.normalize().toJSON(),body:x,duplex:"half",credentials:F?S:void 0};O=o&&new n(v,H);let R=await(o?E(O,j):E(v,H));const I=d&&(N==="stream"||N==="response");if(d&&(k||I&&U)){const T={};["status","statusText","headers"].forEach(ee=>{T[ee]=R[ee]});const M=A.toFiniteNumber(R.headers.get("content-length")),[$,J]=k&&Sf(M,Ni(Cf(k),!0))||[];R=new r(kf(R.body,Ef,$,()=>{J&&J(),U&&U()}),T)}N=N||"text";let L=await f[A.findKey(f,N)||"text"](R,h);return!I&&U&&U(),await new Promise((T,M)=>{ug(T,M,{data:L,headers:dt.from(R.headers),status:R.status,statusText:R.statusText,config:h,request:O})})}catch(F){throw U&&U(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new ne("Network Error",ne.ERR_NETWORK,h,O),{cause:F.cause||F}):ne.from(F,F&&F.code,h,O)}}},Zw=new Map,pg=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,o=[r,s,n];let i=o.length,a=i,c,u,d=Zw;for(;a--;)c=o[a],u=d.get(c),u===void 0&&d.set(c,u=a?new Map:Jw(t)),d=u;return u};pg();const wu={http:hw,xhr:Vw,fetch:{get:pg}};A.forEach(wu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Pf=e=>`- ${e}`,Xw=e=>A.isFunction(e)||e===null||e===!1;function eb(e,t){e=A.isArray(e)?e:[e];const{length:n}=e;let r,s;const o={};for(let i=0;i<n;i++){r=e[i];let a;if(s=r,!Xw(r)&&(s=wu[(a=String(r)).toLowerCase()],s===void 0))throw new ne(`Unknown adapter '${a}'`);if(s&&(A.isFunction(s)||(s=s.get(t))))break;o[a||"#"+i]=s}if(!s){const i=Object.entries(o).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?i.length>1?`since :
`+i.map(Pf).join(`
`):" "+Pf(i[0]):"as no adapter specified";throw new ne("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const mg={getAdapter:eb,adapters:wu};function Kl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Vr(null,e)}function If(e){return Kl(e),e.headers=dt.from(e.headers),e.data=Gl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),mg.getAdapter(e.adapter||co.adapter,e)(e).then(function(r){return Kl(e),r.data=Gl.call(e,e.transformResponse,r),r.headers=dt.from(r.headers),r},function(r){return cg(r)||(Kl(e),r&&r.response&&(r.response.data=Gl.call(e,e.transformResponse,r.response),r.response.headers=dt.from(r.response.headers))),Promise.reject(r)})}const hg="1.13.1",al={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{al[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Af={};al.transitional=function(t,n,r){function s(o,i){return"[Axios v"+hg+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,a)=>{if(t===!1)throw new ne(s(i," has been removed"+(n?" in "+n:"")),ne.ERR_DEPRECATED);return n&&!Af[i]&&(Af[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,i,a):!0}};al.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function tb(e,t,n){if(typeof e!="object")throw new ne("options must be an object",ne.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],i=t[o];if(i){const a=e[o],c=a===void 0||i(a,o,e);if(c!==!0)throw new ne("option "+o+" must be "+c,ne.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ne("Unknown option "+o,ne.ERR_BAD_OPTION)}}const ti={assertOptions:tb,validators:al},Vt=ti.validators;let Gn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new wf,response:new wf}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Xn(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&ti.assertOptions(r,{silentJSONParsing:Vt.transitional(Vt.boolean),forcedJSONParsing:Vt.transitional(Vt.boolean),clarifyTimeoutError:Vt.transitional(Vt.boolean)},!1),s!=null&&(A.isFunction(s)?n.paramsSerializer={serialize:s}:ti.assertOptions(s,{encode:Vt.function,serialize:Vt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ti.assertOptions(n,{baseUrl:Vt.spelling("baseURL"),withXsrfToken:Vt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&A.merge(o.common,o[n.method]);o&&A.forEach(["delete","get","head","post","put","patch","common"],h=>{delete o[h]}),n.headers=dt.concat(i,o);const a=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(c=c&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,f=0,p;if(!c){const h=[If.bind(this),void 0];for(h.unshift(...a),h.push(...u),p=h.length,d=Promise.resolve(n);f<p;)d=d.then(h[f++],h[f++]);return d}p=a.length;let m=n;for(;f<p;){const h=a[f++],v=a[f++];try{m=h(m)}catch(g){v.call(this,g);break}}try{d=If.call(this,m)}catch(h){return Promise.reject(h)}for(f=0,p=u.length;f<p;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Xn(this.defaults,t);const n=dg(t.baseURL,t.url,t.allowAbsoluteUrls);return ig(n,t.params,t.paramsSerializer)}};A.forEach(["delete","get","head","options"],function(t){Gn.prototype[t]=function(n,r){return this.request(Xn(r||{},{method:t,url:n,data:(r||{}).data}))}});A.forEach(["post","put","patch"],function(t){function n(r){return function(o,i,a){return this.request(Xn(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}Gn.prototype[t]=n(),Gn.prototype[t+"Form"]=n(!0)});let nb=class gg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(a=>{r.subscribe(a),o=a}).then(s);return i.cancel=function(){r.unsubscribe(o)},i},t(function(o,i,a){r.reason||(r.reason=new Vr(o,i,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new gg(function(s){t=s}),cancel:t}}};function rb(e){return function(n){return e.apply(null,n)}}function sb(e){return A.isObject(e)&&e.isAxiosError===!0}const dc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(dc).forEach(([e,t])=>{dc[t]=e});function yg(e){const t=new Gn(e),n=Kh(Gn.prototype.request,t);return A.extend(n,Gn.prototype,t,{allOwnKeys:!0}),A.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return yg(Xn(e,s))},n}const Ie=yg(co);Ie.Axios=Gn;Ie.CanceledError=Vr;Ie.CancelToken=nb;Ie.isCancel=cg;Ie.VERSION=hg;Ie.toFormData=ll;Ie.AxiosError=ne;Ie.Cancel=Ie.CanceledError;Ie.all=function(t){return Promise.all(t)};Ie.spread=rb;Ie.isAxiosError=sb;Ie.mergeConfig=Xn;Ie.AxiosHeaders=dt;Ie.formToJSON=e=>ag(A.isHTMLForm(e)?new FormData(e):e);Ie.getAdapter=mg.getAdapter;Ie.HttpStatusCode=dc;Ie.default=Ie;const{Axios:AN,AxiosError:ON,CanceledError:TN,isCancel:LN,CancelToken:FN,VERSION:MN,all:BN,Cancel:zN,isAxiosError:$N,spread:UN,toFormData:WN,AxiosHeaders:HN,HttpStatusCode:VN,formToJSON:qN,getAdapter:GN,mergeConfig:KN}=Ie,ob="http://149.71.141.253:3000",Y=Ie.create({baseURL:ob});Y.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`,console.log(" Token added to request:",e.url)),e},e=>Promise.reject(e));const vg=w.createContext(null),sr=()=>{const e=w.useContext(vg);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},ib=({children:e})=>{const[t,n]=w.useState(()=>JSON.parse(localStorage.getItem("user"))||null),[r,s]=w.useState(localStorage.getItem("token")),[o,i]=w.useState(!0),[a,c]=w.useState(!1),u=ce.useRef(!1);w.useEffect(()=>{(async()=>{if(!u.current){if(r)try{await Y.get("/api/auth/verify"),c(!0),u.current=!0}catch(v){console.error("Token verification failed:",v),p()}else u.current=!0;i(!1)}})()},[r]),w.useEffect(()=>{const h=()=>{console.log("Auth error detected, logging out."),p()};return window.addEventListener("auth-error",h),()=>window.removeEventListener("auth-error",h)},[]);const d=async(h,v)=>{i(!0),console.log(" Attempting login...");try{const g=await Y.post("/api/auth/login",{email:h,password:v});console.log(" Login response:",g.data);const x=g.data.accessToken;if(console.log(" Token from accessToken:",x?`YES (${x.substring(0,20)}...)`:"NO"),x){localStorage.setItem("token",x);const y=g.data.user;return localStorage.setItem("user",JSON.stringify(y)),console.log(" Token and user saved to localStorage"),s(x),n(y),c(!0),y}else throw console.error(" No accessToken found in response"),new Error("No authentication token received")}catch(g){throw console.error("Login error:",g),g}finally{i(!1)}},f=async h=>(await Y.post("/api/auth/register",h)).data,p=()=>{s(null),c(!1),n(null),localStorage.removeItem("token"),localStorage.removeItem("user")},m={user:t,token:r,login:d,logout:p,register:f,isAuthenticated:a,loading:o,api:Y};return l.jsx(vg.Provider,{value:m,children:!o&&e})};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ab=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Of=e=>{const t=ab(e);return t.charAt(0).toUpperCase()+t.slice(1)},xg=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),cb=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ub={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},c)=>w.createElement("svg",{ref:c,...ub,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:xg("lucide",s),...!o&&!cb(a)&&{"aria-hidden":"true"},...a},[...i.map(([u,d])=>w.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(e,t)=>{const n=w.forwardRef(({className:r,...s},o)=>w.createElement(db,{ref:o,iconNode:t,className:xg(`lucide-${lb(Of(e))}`,`lucide-${e}`,r),...s}));return n.displayName=Of(e),n};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],pb=fe("arrow-down-to-line",fb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],_g=fe("arrow-down",mb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]],gb=fe("arrow-up-from-line",hb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],wg=fe("arrow-up",yb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ql=fe("briefcase",vb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],_b=fe("bug",xb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],bg=fe("calendar",wb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bu=fe("circle-check-big",bb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Tf=fe("circle-x",Sb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Lf=fe("cloud-upload",Cb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],uo=fe("download",jb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],cl=fe("file-text",kb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],bs=fe("layout-grid",Eb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Db=fe("layout-dashboard",Nb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Pb=fe("link-2",Rb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ab=fe("log-out",Ib);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Su=fe("package",Ob);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Lb=fe("play",Tb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],er=fe("plus",Fb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]],Vs=fe("pound-sterling",Mb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Sg=fe("printer",Bb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$b=fe("save",zb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ff=fe("settings",Ub);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],fo=fe("square-pen",Wb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],or=fe("trash-2",Hb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Cu=fe("triangle-alert",Vb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Oo=fe("truck",qb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ju=fe("upload",Gb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Cg=fe("user",Kb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Mf=fe("users",Qb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],Ss=fe("weight",Yb);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ft=fe("x",Jb);var jg={exports:{}},Zb="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Xb=Zb,e1=Xb;function kg(){}function Eg(){}Eg.resetWarningCache=kg;var t1=function(){function e(r,s,o,i,a,c){if(c!==e1){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Eg,resetWarningCache:kg};return n.PropTypes=n,n};jg.exports=t1();var n1=jg.exports;const Fe=Bi(n1),Yl=(e,t)=>{if(t)return t.split(".").reduce((n,r)=>n&&n[r],e)},r1=(e=[],{initialSortKey:t,filterKeys:n=[]})=>{const[r,s]=w.useState({key:t,direction:"ascending"}),[o,i]=w.useState(""),a=w.useMemo(()=>{if(!e)return[];let d=[...e];return r.key!==null&&d.sort((f,p)=>{const m=Yl(f,r.key),h=Yl(p,r.key),v=typeof m=="string"?m.toLowerCase():m,g=typeof h=="string"?h.toLowerCase():h;return v<g?r.direction==="ascending"?-1:1:v>g?r.direction==="ascending"?1:-1:0}),d},[e,r]),c=w.useCallback(d=>{let f="ascending";r.key===d&&r.direction==="ascending"&&(f="descending"),s({key:d,direction:f})},[r]);return{sortedAndFilteredData:w.useMemo(()=>o?a.filter(d=>n.some(f=>{const p=Yl(d,f);return p&&String(p).toLowerCase().includes(o.toLowerCase())})):a,[a,o,n]),sortConfig:r,filterText:o,setFilterText:i,handleSort:c}},s1=(e,t)=>{if(!(!e||!t||typeof e!="object"))try{return t.split(".").reduce((n,r)=>n&&n[r],e)}catch(n){console.warn("Error accessing nested value:",{path:t,obj:e,error:n});return}},Yt=({items:e=[],columns:t=[],onRefresh:n,onEdit:r,onDelete:s,title:o="",customActions:i=[],filterPlaceholder:a="Search...",initialSortKey:c,filterKeys:u=[],currentUser:d,isLoading:f=!1,loadingText:p="Loading...",onContextMenu:m,footerData:h})=>{if(!Array.isArray(e)||!Array.isArray(t))return console.error("DataTable: items and columns must be arrays"),null;const{sortedAndFilteredData:v,sortConfig:g,filterText:x,setFilterText:y,handleSort:_}=r1(e,{initialSortKey:c,filterKeys:u}),[C,k]=w.useState(x);w.useEffect(()=>{const N=setTimeout(()=>{y(C)},300);return()=>clearTimeout(N)},[C,y]);const D=N=>g.key===N?g.direction==="ascending"?l.jsx(wg,{size:14,"aria-label":"sorted ascending"}):l.jsx(_g,{size:14,"aria-label":"sorted descending"}):null;return l.jsxs("div",{style:{display:"flex",flexDirection:"column",flexGrow:1,minHeight:0},children:[l.jsxs("h2",{children:[o," (",v.length,")"]}),l.jsx("input",{type:"text",placeholder:a,value:C,onChange:N=>k(N.target.value),className:"filter-input",style:{marginTop:"1rem"},"aria-label":"Filter table data"}),l.jsx("div",{className:"table-wrapper",children:v.length>0?l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[t.map(N=>l.jsx("th",{onClick:N.sortable?()=>_(N.key):void 0,"aria-sort":g.key===N.key?g.direction==="ascending"?"ascending":"descending":"none",children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[N.icon,l.jsx("span",{children:N.header}),N.sortable&&D(N.key)]})},N.key)),(r||s||i.length>0)&&l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:v.map(N=>l.jsxs("tr",{onContextMenu:m?b=>m(b,N):void 0,style:m?{cursor:"context-menu"}:{},children:[t.map(b=>l.jsx("td",{children:b.render?b.render(N):s1(N,b.key)},`${N.id}-${b.key}`)),(r||s||i.length>0)&&l.jsxs("td",{className:"actions-cell",children:[d&&d.id===N.id?l.jsx("span",{className:"text-muted","aria-label":"Current user",children:"This is you"}):l.jsxs(l.Fragment,{children:[r&&l.jsx("button",{onClick:()=>r(N),className:"btn-icon",title:"Edit","aria-label":`Edit ${N.name||"item"}`,children:l.jsx(fo,{size:16})}),s&&l.jsx("button",{onClick:()=>s(N),className:"btn-icon btn-danger",title:"Delete","aria-label":`Delete ${N.name||"item"}`,children:l.jsx(or,{size:16})})]}),i.map((b,S)=>l.jsx("button",{onClick:()=>b.onClick(N),className:"btn-icon",title:b.title,"aria-label":b.title,children:b.icon},S))]})]},N.id))}),h&&l.jsx("tfoot",{children:l.jsxs("tr",{children:[t.map(N=>l.jsx("td",{children:h[N.key]?l.jsx("strong",{children:h[N.key]}):null},`footer-${N.key}`)),(r||s||i.length>0)&&l.jsx("td",{})]})})]}):l.jsx("p",{className:"no-results-message","aria-live":"polite",children:x?"No results match the search criteria.":"No data in the database."})})]})};Yt.propTypes={items:Fe.array,columns:Fe.arrayOf(Fe.shape({key:Fe.string.isRequired,header:Fe.string.isRequired,sortable:Fe.bool,render:Fe.func,icon:Fe.node})),onEdit:Fe.func,onDelete:Fe.func,title:Fe.string,customActions:Fe.array,filterPlaceholder:Fe.string,initialSortKey:Fe.string,filterKeys:Fe.array,currentUser:Fe.object,onContextMenu:Fe.func,footerData:Fe.object};const Ng=w.createContext(null),Se=()=>{const e=w.useContext(Ng);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},o1=({message:e,type:t,onClose:n})=>{const r={success:l.jsx(bu,{}),error:l.jsx(Cu,{})};return l.jsxs("div",{className:`toast toast-${t}`,children:[l.jsx("div",{className:"toast-icon",children:r[t]}),l.jsx("p",{className:"toast-message",children:e}),l.jsx("button",{onClick:n,className:"toast-close-btn",children:l.jsx(ft,{size:18})})]})},i1=({children:e})=>{const[t,n]=w.useState(null),r=w.useCallback((o,i="success")=>{n({message:o,type:i}),setTimeout(()=>{n(null)},5e3)},[]),s=()=>{n(null)};return l.jsxs(Ng.Provider,{value:{showToast:r},children:[e,t&&l.jsx(o1,{message:t.message,type:t.type,onClose:s})]})},l1=({items:e=[],onRefresh:t,onEdit:n})=>{const r=[{key:"first_name",header:"Name",sortable:!0,render:i=>`${i.first_name} ${i.last_name}`},{key:"license_number",header:"Driver's License",sortable:!0},{key:"phone_number",header:"Phone",sortable:!0},{key:"cpc_number",header:"CPC",sortable:!0,render:i=>i.cpc_number||"N/A"},{key:"login_code",header:"Login Code",sortable:!0,render:i=>i.login_code||"N/A"},{key:"is_active",header:"Status",sortable:!0,render:i=>l.jsx("span",{className:`status ${i.is_active?"active":"inactive"}`,children:i.is_active?"Active":"Inactive"})}],{showToast:s}=Se(),o=async i=>{var a,c;if(window.confirm(`Are you sure you want to delete driver ${i.first_name} ${i.last_name}?`))try{await Y.delete(`/api/drivers/${i.id}`),s("Driver deleted successfully.","success"),t()}catch(u){s(((c=(a=u.response)==null?void 0:a.data)==null?void 0:c.error)||"Failed to delete driver.","error")}};return l.jsx(Yt,{items:e||[],columns:r,onRefresh:t,onEdit:n,onDelete:o,title:"Driver List",filterPlaceholder:"Filter drivers...",initialSortKey:"first_name",filterKeys:["first_name","last_name","license_number","cpc_number","login_code"]})},To=(e,t)=>{if(e===t)return!0;if(!e||!t||typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n)if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1;return!0},qr=({initialState:e,validate:t,onSubmit:n,itemToEdit:r=null})=>{const s=w.useRef(e),[o,i]=w.useState(s.current),[a,c]=w.useState({}),[u,d]=w.useState(!1);w.useEffect(()=>{const h=e??s.current;if(r){const v={...h,...r};if(v.cargo_details){const g=v.cargo_details.pallets;g&&typeof g=="object"&&!Array.isArray(g)?v.cargo_details.pallets=Object.entries(g).map(([x,y])=>({type:x,quantity:Number((y==null?void 0:y.quantity)??(y==null?void 0:y.count)??0)||0,spaces:Number((y==null?void 0:y.spaces)??0)||0,weight:Number((y==null?void 0:y.weight)??0)||0})).filter(x=>x.quantity>0):Array.isArray(g)||(v.cargo_details.pallets=[])}i(g=>To(g,v)?g:v),c({})}else i(v=>To(v,h)?v:h),c({})},[r]);const f=w.useCallback(h=>{const{name:v,value:g,type:x,checked:y}=h.target,_=x==="checkbox"?y:g;i(C=>{const k={...C,[v]:_};return To(C,k)?C:k}),a[v]&&c(C=>({...C,[v]:null}))},[a]),p=w.useCallback((h,v)=>{const{name:g,value:x}=v.target;i(y=>{const _={...y,[h]:{...y[h]??{},[g]:x}};return To(y,_)?y:_})},[]),m=w.useCallback(async h=>{h.preventDefault();const v=t?t(o):{};if(c(v),!Object.values(v).some(x=>typeof x=="object"&&x!==null?Object.keys(x).length>0:!!x)){d(!0);try{await n(o)}catch(x){console.error("Form submission error:",x)}finally{d(!1)}}},[o,n,t]);return{formData:o,setFormData:i,errors:a,loading:u,handleChange:f,handleNestedChange:p,handleSubmit:m}},a1={first_name:"",last_name:"",phone_number:"",license_number:"",cpc_number:"",login_code:"",is_active:!0},c1=({onSuccess:e,onCancel:t,itemToEdit:n})=>{const{showToast:r}=Se(),s=!!n,o=p=>{const m={};return p.first_name||(m.first_name="First name is required."),p.last_name||(m.last_name="Last name is required."),p.license_number||(m.license_number="License number is required."),m},i=async p=>{var v,g;const m=s?`/api/drivers/${n.id}`:"/api/drivers",h=s?"put":"post";try{await Y[h](m,p),r(`Driver ${s?"updated":"added"} successfully!`,"success"),e&&e()}catch(x){const y=((g=(v=x.response)==null?void 0:v.data)==null?void 0:g.error)||"A server error occurred.";throw r(y,"error"),new Error(y)}},{formData:a,errors:c,loading:u,handleChange:d,handleSubmit:f}=qr({initialState:a1,validate:o,onSubmit:i,itemToEdit:n});return l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:s?"Edit Driver":"Add New Driver"}),l.jsx("button",{onClick:t,className:"btn-icon",children:l.jsx(ft,{size:20})})]}),c.form&&l.jsx("div",{className:"error-message",children:c.form}),l.jsxs("form",{onSubmit:f,className:"form",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"First Name *"}),l.jsx("input",{type:"text",name:"first_name",value:a.first_name,onChange:d,required:!0,className:c.first_name?"input-error":""}),c.first_name&&l.jsx("span",{className:"error-text",children:c.first_name})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Last Name *"}),l.jsx("input",{type:"text",name:"last_name",value:a.last_name,onChange:d,required:!0,className:c.last_name?"input-error":""}),c.last_name&&l.jsx("span",{className:"error-text",children:c.last_name})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Phone Number"}),l.jsx("input",{type:"tel",name:"phone_number",value:a.phone_number,onChange:d})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Driver's License Number *"}),l.jsx("input",{type:"text",name:"license_number",value:a.license_number,onChange:d,required:!0,className:c.license_number?"input-error":""}),c.license_number&&l.jsx("span",{className:"error-text",children:c.license_number})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Certificate of Professional Competency (CPC)"}),l.jsx("input",{type:"text",name:"cpc_number",value:a.cpc_number,onChange:d})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Login Code (for mobile app)"}),l.jsx("input",{type:"text",name:"login_code",value:a.login_code,onChange:d})]}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{children:[l.jsx("input",{type:"checkbox",name:"is_active",checked:a.is_active,onChange:d}),"Active"]})}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:u,children:"Cancel"}),l.jsx("button",{type:"submit",disabled:u,className:"btn-primary",children:u?s?"Saving...":"Adding...":s?"Save Changes":"Add Driver"})]})]})]})},u1=({items:e=[],onRefresh:t,onEdit:n})=>{const r=[{key:"registration_plate",header:"Registration",sortable:!0},{key:"brand",header:"Brand",sortable:!0},{key:"model",header:"Model",sortable:!0},{key:"vin",header:"VIN",sortable:!0},{key:"production_year",header:"Year",sortable:!0},{key:"type_of_truck",header:"Vehicle Type",sortable:!0},{key:"total_weight",header:"Total Weight (kg)",sortable:!0,render:i=>i.type_of_truck==="rigid"&&i.total_weight?`${i.total_weight} kg`:"-"},{key:"pallet_capacity",header:"Pallet Capacity",sortable:!0,render:i=>i.type_of_truck==="rigid"&&i.pallet_capacity?i.pallet_capacity:"-"},{key:"max_payload_kg",header:"Payload (kg)",sortable:!0,render:i=>i.type_of_truck==="rigid"&&i.max_payload_kg?`${i.max_payload_kg} kg`:"-"}],{showToast:s}=Se(),o=async i=>{var a,c;if(window.confirm(`Are you sure you want to delete vehicle ${i.registration_plate}?`))try{await Y.delete(`/api/trucks/${i.id}`),s("Vehicle deleted successfully.","success"),t()}catch(u){s(((c=(a=u.response)==null?void 0:a.data)==null?void 0:c.error)||"Failed to delete vehicle.","error")}};return l.jsx(Yt,{items:e||[],columns:r,onRefresh:t,onEdit:n,onDelete:o,title:"Vehicle List",filterPlaceholder:"Filter vehicles...",initialSortKey:"registration_plate",filterKeys:["registration_plate","brand","model","vin","type_of_truck"]})},d1=({onSuccess:e,onCancel:t,itemToEdit:n})=>{const r=!!n,s={registration_plate:"",brand:"",model:"",vin:"",production_year:"",type_of_truck:"tractor",total_weight:"",pallet_capacity:"",max_payload_kg:"",is_active:!0},[o,i]=w.useState(s),[a,c]=w.useState({}),[u,d]=w.useState(!1);w.useEffect(()=>{if(r&&n){const h=Object.keys(s).reduce((v,g)=>(v[g]=n[g]??s[g],v),{});i(h)}else i(s)},[n,r]);const f=w.useCallback(h=>{const v={};return h.registration_plate||(v.registration_plate="Registration plate is required."),h.brand||(v.brand="Brand is required."),h.model||(v.model="Model is required."),h.type_of_truck==="rigid"&&(h.total_weight||(v.total_weight="Total weight is required for rigid trucks."),h.pallet_capacity||(v.pallet_capacity="Pallet capacity is required for rigid trucks."),h.max_payload_kg||(v.max_payload_kg="Max payload is required for rigid trucks.")),v},[]),p=async h=>{var y,_;h.preventDefault();const v=f(o);if(c(v),Object.keys(v).length>0)return;d(!0);const g={...o,production_year:o.production_year?Number(o.production_year):null,total_weight:o.type_of_truck==="rigid"&&o.total_weight?Number(o.total_weight):null,pallet_capacity:o.type_of_truck==="rigid"&&o.pallet_capacity?Number(o.pallet_capacity):null,max_payload_kg:o.type_of_truck==="rigid"&&o.max_payload_kg?Number(o.max_payload_kg):null},x=r?Y.put(`/api/trucks/${n.id}`,g):Y.post("/api/trucks",g);try{await x,e(),t()}catch(C){const k=((_=(y=C.response)==null?void 0:y.data)==null?void 0:_.error)||`An error occurred while ${r?"updating":"adding"} the vehicle.`;c({form:k}),console.error(`Bd ${r?"aktualizacji":"dodawania"} pojazdu:`,C)}finally{d(!1)}},m=h=>{const{name:v,value:g,type:x,checked:y}=h.target,_={...o,[v]:x==="checkbox"?y:g};if(i(_),a[v]||o.type_of_truck==="rigid"&&a[v]){const C=f(_);c(C)}};return l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:r?"Edit Vehicle":"Add New Vehicle"}),l.jsx("button",{onClick:t,className:"btn-icon",children:l.jsx(ft,{size:20})})]}),a.form&&l.jsx("div",{className:"error-message",children:a.form}),l.jsxs("form",{onSubmit:p,className:"form",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Brand:"}),l.jsx("input",{type:"text",name:"brand",value:o.brand||"",onChange:m,required:!0,className:a.brand?"input-error":""}),a.brand&&l.jsx("span",{className:"error-text",children:a.brand})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Model:"}),l.jsx("input",{type:"text",name:"model",value:o.model||"",onChange:m,required:!0,className:a.model?"input-error":""}),a.model&&l.jsx("span",{className:"error-text",children:a.model})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Registration Plate:"}),l.jsx("input",{type:"text",name:"registration_plate",value:o.registration_plate||"",onChange:m,required:!0,className:a.registration_plate?"input-error":""}),a.registration_plate&&l.jsx("span",{className:"error-text",children:a.registration_plate})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"VIN:"}),l.jsx("input",{type:"text",name:"vin",value:o.vin||"",onChange:m,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Production Year:"}),l.jsx("input",{type:"number",name:"production_year",value:o.production_year||"",onChange:m,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Vehicle Type:"}),l.jsxs("select",{name:"type_of_truck",value:o.type_of_truck,onChange:m,required:!0,children:[l.jsx("option",{value:"tractor",children:"Tractor Unit"}),l.jsx("option",{value:"rigid",children:"Rigid Truck"})]})]}),o.type_of_truck==="rigid"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Total Weight (kg) *"}),l.jsx("input",{type:"number",name:"total_weight",value:o.total_weight||"",onChange:m,required:!0,className:a.total_weight?"input-error":""}),a.total_weight&&l.jsx("span",{className:"error-text",children:a.total_weight})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Pallet Capacity *"}),l.jsx("input",{type:"number",name:"pallet_capacity",value:o.pallet_capacity||"",onChange:m,required:!0,className:a.pallet_capacity?"input-error":""}),a.pallet_capacity&&l.jsx("span",{className:"error-text",children:a.pallet_capacity})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Max Payload (kg) *"}),l.jsx("input",{type:"number",name:"max_payload_kg",value:o.max_payload_kg||"",onChange:m,required:!0,className:a.max_payload_kg?"input-error":""}),a.max_payload_kg&&l.jsx("span",{className:"error-text",children:a.max_payload_kg})]})]}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{children:[l.jsx("input",{type:"checkbox",name:"is_active",checked:o.is_active,onChange:m}),"Active"]})}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?r?"Saving...":"Adding...":r?"Save Changes":"Add Vehicle"}),l.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:u,children:"Cancel"})]})]})]})},f1=({items:e=[],onRefresh:t,onEdit:n})=>{const r=[{key:"registration_plate",header:"Trailer Code",sortable:!0},{key:"description",header:"Description",sortable:!0},{key:"category",header:"Category",sortable:!0},{key:"max_payload_kg",header:"Payload (kg)",sortable:!0},{key:"max_spaces",header:"Spaces",sortable:!0},{key:"length_m",header:"Length (m)",sortable:!0},{key:"status",header:"Status",sortable:!0,render:i=>l.jsx("span",{className:`status ${i.status}`,children:i.status})}],{showToast:s}=Se(),o=async i=>{var a,c;if(window.confirm(`Are you sure you want to delete trailer ${i.registration_plate}?`))try{await Y.delete(`/api/trailers/${i.id}`),s("Trailer deleted successfully.","success"),t()}catch(u){s(((c=(a=u.response)==null?void 0:a.data)==null?void 0:c.error)||"Failed to delete trailer.","error")}};return l.jsx(Yt,{items:e||[],columns:r,onRefresh:t,onEdit:n,onDelete:o,title:"Trailer List",filterPlaceholder:"Filter trailers...",initialSortKey:"registration_plate",filterKeys:["registration_plate","description","category","status"]})},p1=({onSuccess:e,onCancel:t,itemToEdit:n})=>{const r=!!n,s={registration_plate:"",description:"",category:"Own",brand:"",max_payload_kg:"",max_spaces:"",length_m:"",width_m:"",height_m:"",weight_kg:"",status:"active"},[o,i]=w.useState(s),[a,c]=w.useState(!1),[u,d]=w.useState({}),{showToast:f}=Se();w.useEffect(()=>{if(r&&n){const v=Object.keys(s).reduce((g,x)=>(g[x]=n[x]??s[x],g),{});i(v)}else i(s)},[n,r]);const p=w.useCallback(v=>{const g={};return v.registration_plate||(g.registration_plate="Trailer Code is required."),v.description||(g.description="Description is required."),v.brand||(g.brand="Brand is required."),v.max_payload_kg||(g.max_payload_kg="Max Payload is required."),v.max_spaces||(g.max_spaces="Max Pallet Spaces is required."),g},[]),m=async v=>{var C,k;v.preventDefault();const g=p(o);if(d(g),Object.keys(g).length>0)return;c(!0);const x={...o,max_payload_kg:o.max_payload_kg?Number(o.max_payload_kg):null,max_spaces:o.max_spaces?Number(o.max_spaces):null,length_m:o.length_m?Number(o.length_m):null,width_m:o.width_m?Number(o.width_m):null,height_m:o.height_m?Number(o.height_m):null,weight_kg:o.weight_kg?Number(o.weight_kg):null},y=r?`/api/trailers/${n.id}`:"/api/trailers",_=r?"put":"post";try{await Y[_](y,x),f(`Trailer ${r?"updated":"added"} successfully!`,"success"),e()}catch(D){const N=((k=(C=D.response)==null?void 0:C.data)==null?void 0:k.error)||`An error occurred while ${r?"updating":"adding"} the trailer.`;d({form:N}),f(N,"error"),console.error(`Bd ${r?"aktualizacji":"dodawania"} naczepy:`,D)}finally{c(!1)}},h=w.useCallback(v=>{const{name:g,value:x}=v.target,y={...o,[g]:x};if(i(y),u[g]){const _=p(y);d(_)}},[o,u,p]);return l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:r?"Edit Trailer":"Add New Trailer"}),l.jsx("button",{onClick:t,className:"btn-icon",children:l.jsx(ft,{size:20})})]}),u.form&&l.jsx("div",{className:"error-message",children:u.form}),l.jsxs("form",{onSubmit:m,className:"form",children:[l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-column",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Trailer Code (Reg. Plate) *"}),l.jsx("input",{type:"text",name:"registration_plate",value:o.registration_plate,onChange:h,required:!0,className:u.registration_plate?"input-error":""}),u.registration_plate&&l.jsx("span",{className:"error-text",children:u.registration_plate})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Description *"}),l.jsx("input",{type:"text",name:"description",value:o.description,onChange:h,required:!0,className:u.description?"input-error":""}),u.description&&l.jsx("span",{className:"error-text",children:u.description})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Brand *"}),l.jsx("input",{type:"text",name:"brand",value:o.brand,onChange:h,required:!0,className:u.brand?"input-error":""}),u.brand&&l.jsx("span",{className:"error-text",children:u.brand})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Category"}),l.jsxs("select",{name:"category",value:o.category,onChange:h,children:[l.jsx("option",{value:"Own",children:"Own"}),l.jsx("option",{value:"Subcontractor",children:"Subcontractor"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Status"}),l.jsxs("select",{name:"status",value:o.status,onChange:h,children:[l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),l.jsxs("div",{className:"form-column",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Max Payload (kg) *"}),l.jsx("input",{type:"number",name:"max_payload_kg",value:o.max_payload_kg,onChange:h,required:!0,className:u.max_payload_kg?"input-error":""}),u.max_payload_kg&&l.jsx("span",{className:"error-text",children:u.max_payload_kg})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Max Pallet Spaces *"}),l.jsx("input",{type:"number",name:"max_spaces",value:o.max_spaces,onChange:h,required:!0,className:u.max_spaces?"input-error":""}),u.max_spaces&&l.jsx("span",{className:"error-text",children:u.max_spaces})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Length (m)"}),l.jsx("input",{type:"number",step:"0.01",name:"length_m",value:o.length_m,onChange:h})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Width (m)"}),l.jsx("input",{type:"number",step:"0.01",name:"width_m",value:o.width_m,onChange:h})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Height (m)"}),l.jsx("input",{type:"number",step:"0.01",name:"height_m",value:o.height_m,onChange:h})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Weight (kg)"}),l.jsx("input",{type:"number",name:"weight_kg",value:o.weight_kg,onChange:h})]})]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:a,children:"Cancel"}),l.jsx("button",{type:"submit",disabled:a,className:"btn-primary",children:a?r?"Saving...":"Adding...":r?"Save Changes":"Add Trailer"})]})]})]})},m1=({items:e=[],onRefresh:t,onEdit:n})=>{const r=[{key:"customer_code",header:"Code"},{key:"name",header:"Name"},{key:"address_line1",header:"Address"},{key:"postcode",header:"Postcode"},{key:"phone_number",header:"Phone"},{key:"vat_number",header:"VAT Number"},{key:"created_at",header:"Creation Date",render:i=>new Date(i.created_at).toLocaleDateString()}],{showToast:s}=Se(),o=async i=>{var a,c;if(window.confirm(`Are you sure you want to delete customer "${i.name}"?`))try{await Y.delete(`/api/customers/${i.id}`),s("Customer deleted successfully.","success"),t()}catch(u){s(((c=(a=u.response)==null?void 0:a.data)==null?void 0:c.error)||"Failed to delete customer.","error")}};return l.jsx(Yt,{items:e,columns:r,onEdit:n,onDelete:o,onRefresh:t,title:"Customers",filterPlaceholder:"Filter customers...",initialSortKey:"name",filterKeys:["name","customer_code","postcode"]})},h1={customer_code:"",name:"",address_line1:"",address_line2:"",address_line3:"",address_line4:"",postcode:"",phone_number:"",country_code:"GB",category:"",currency:"GBP",vat_number:"",payment_terms:"30",status:"active",pod_on_portal:!1,invoice_on_portal:!1,handheld_status_on_portal:!1,eta_status_on_portal:!1,general_status_on_portal:!1},g1=({onSuccess:e,onCancel:t,itemToEdit:n})=>{const r=!!n,{showToast:s}=Se(),o=p=>{const m={};return p.name||(m.name="Customer name is required."),p.customer_code||(m.customer_code="Customer code is required."),m},i=async p=>{var h,v;const m=r?Y.put(`/api/customers/${n.id}`,p):Y.post("/api/customers",p);try{await m,s(`Customer ${r?"updated":"added"} successfully!`,"success"),e()}catch(g){const x=((v=(h=g.response)==null?void 0:h.data)==null?void 0:v.error)||"An unexpected error occurred.";throw s(x,"error"),new Error(x)}},{formData:a,errors:c,loading:u,handleChange:d,handleSubmit:f}=qr({initialState:h1,validate:o,onSubmit:i,itemToEdit:n});return l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:r?"Edit Customer":"Add New Customer"}),l.jsx("button",{onClick:t,className:"btn-icon",children:l.jsx(ft,{size:20})})]}),c.form&&l.jsx("div",{className:"error-message",children:c.form}),l.jsxs("form",{onSubmit:f,className:"form",children:[l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-column",children:[l.jsx("h4",{children:"Main Details"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Customer Code"}),l.jsx("input",{type:"text",name:"customer_code",value:a.customer_code??"",onChange:d,className:c.customer_code?"input-error":""}),c.customer_code&&l.jsx("span",{className:"error-text",children:c.customer_code})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Customer Name *"}),l.jsx("input",{type:"text",name:"name",value:a.name??"",onChange:d,required:!0,className:c.name?"input-error":""}),c.name&&l.jsx("span",{className:"error-text",children:c.name})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Status"}),l.jsxs("select",{name:"status",value:a.status,onChange:d,children:[l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Category"}),l.jsx("input",{type:"text",name:"category",value:a.category??"",onChange:d})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"VAT Number"}),l.jsx("input",{type:"text",name:"vat_number",value:a.vat_number??"",onChange:d})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Payment Terms (days)"}),l.jsx("input",{type:"number",name:"payment_terms",value:a.payment_terms??"",onChange:d})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Currency"}),l.jsx("input",{type:"text",name:"currency",value:a.currency??"",onChange:d})]})]}),l.jsxs("div",{className:"form-column",children:[l.jsx("h4",{children:"Address & Contact"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Address Line 1"}),l.jsx("input",{type:"text",name:"address_line1",value:a.address_line1??"",onChange:d})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Address Line 2"}),l.jsx("input",{type:"text",name:"address_line2",value:a.address_line2??"",onChange:d})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Postcode"}),l.jsx("input",{type:"text",name:"postcode",value:a.postcode??"",onChange:d})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Phone Number"}),l.jsx("input",{type:"tel",name:"phone_number",value:a.phone_number??"",onChange:d})]})]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:u,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Saving...":"Save Customer"})]})]})]})},Di=(e,t)=>{var r;if(!e||!((r=t==null?void 0:t.postcode_patterns)!=null&&r.length))return!1;const n=e.split(" ")[0].toUpperCase();return t.postcode_patterns.some(s=>{const o=s.replace(/\s/g,"").toUpperCase(),i=o.endsWith("%")?o.slice(0,-1):o;return n.startsWith(i)})},y1=({items:e=[],zones:t=[],onRefresh:n,onEdit:r})=>{const{showToast:s}=Se(),[o,i]=ce.useState("all"),[a,c]=ce.useState({start:new Date().toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),u=[{key:"order_number",header:"Consignment #",icon:l.jsx(Su,{size:16})},{key:"customer_reference",header:"Customer Ref"},{key:"status",header:"Status",render:m=>l.jsx("span",{className:`status status-${m.status}`,children:m.status})},{key:"sender_details.name",header:"Loading",render:m=>{var h,v;return l.jsxs("div",{children:[l.jsxs("div",{children:[(h=m.sender_details)==null?void 0:h.name,", ",(v=m.sender_details)==null?void 0:v.townCity]}),l.jsx("div",{className:"date-time",children:new Date(m.loading_date_time).toLocaleString()})]})}},{key:"recipient_details.name",header:"Unloading",render:m=>{var h,v;return l.jsxs("div",{children:[l.jsxs("div",{children:[(h=m.recipient_details)==null?void 0:h.name,", ",(v=m.recipient_details)==null?void 0:v.townCity]}),l.jsx("div",{className:"date-time",children:new Date(m.unloading_date_time).toLocaleString()})]})}},{key:"final_price",header:"Price",icon:l.jsx(Vs,{size:16}),render:m=>m.final_price?`${parseFloat(m.final_price).toFixed(2)}`:"-"},{key:"created_at",header:"Created",icon:l.jsx(bg,{size:16}),render:m=>new Date(m.created_at).toLocaleDateString()}],d=async m=>{try{const h=await Y.get(`/api/orders/${m.id}/labels`,{responseType:"blob"}),v=window.URL.createObjectURL(new Blob([h.data])),g=document.createElement("a");g.href=v,g.setAttribute("download",`labels_order_${m.id}.pdf`),document.body.appendChild(g),g.click(),g.remove()}catch{s("Failed to generate labels.","error")}},f=async m=>{var h,v;if(window.confirm(`Are you sure you want to delete order ${m.customer_reference||m.id}?`))try{await Y.delete(`/api/orders/${m.id}`),s("Order deleted successfully.","success"),n()}catch(g){s(((v=(h=g.response)==null?void 0:h.data)==null?void 0:v.error)||"Failed to delete order.","error")}},p=ce.useMemo(()=>{let m=[...e];const h=t.find(x=>x.is_home_zone);o==="delivery"&&h?m=m.filter(x=>{var y;return Di((y=x.recipient_details)==null?void 0:y.postCode,h)}):o==="collections"&&h&&(m=m.filter(x=>{var y;return Di((y=x.sender_details)==null?void 0:y.postCode,h)}));const{start:v,end:g}=a;return v&&g&&(m=m.filter(x=>{const y=o==="collections"?x.loading_date_time:x.unloading_date_time;if(!y)return!1;const _=new Date(y).toISOString().split("T")[0];return _>=v&&_<=g})),m},[e,t,o,a]);return l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"planit-section-header",style:{padding:"0 0 1rem 0",marginBottom:"1rem"},children:[l.jsxs("div",{className:"tabs-container",children:[l.jsx("button",{className:`tab-button ${o==="all"?"active":""}`,onClick:()=>i("all"),children:"All Orders"}),l.jsx("button",{className:`tab-button ${o==="delivery"?"active":""}`,onClick:()=>i("delivery"),children:"Delivery"}),l.jsx("button",{className:`tab-button ${o==="collections"?"active":""}`,onClick:()=>i("collections"),children:"Collections"})]}),l.jsxs("div",{className:"form-group",style:{margin:"0 0 0 1rem",minWidth:"160px"},children:[l.jsx("label",{style:{fontSize:"0.8rem",marginBottom:"0.25rem"},children:"From Date"}),l.jsx("input",{type:"date",value:a.start,onChange:m=>c(h=>({...h,start:m.target.value}))})]}),l.jsxs("div",{className:"form-group",style:{margin:"0 0 0 1rem",minWidth:"160px"},children:[l.jsx("label",{style:{fontSize:"0.8rem",marginBottom:"0.25rem"},children:"To Date"}),l.jsx("input",{type:"date",value:a.end,onChange:m=>c(h=>({...h,end:m.target.value}))})]})]}),l.jsx(Yt,{items:p,columns:u,onRefresh:n,onEdit:r,onDelete:f,customActions:[{icon:l.jsx(Sg,{size:16}),onClick:d,title:"Print Pallet Labels"}],title:"Order List",filterPlaceholder:"Filter orders...",initialSortKey:"created_at",filterKeys:["order_number","customer_reference","status","sender_details.townCity","recipient_details.townCity","sender_details.name","recipient_details.name"]})]})},Jl={customer_id:"",order_number:"",customer_reference:"",service_level:"A",status:"nowe",sender_details:{name:"",address1:"",address2:"",city:"",postCode:"",contactName:"",contactPhone:""},recipient_details:{name:"",address1:"",address2:"",city:"",postCode:"",contactName:"",contactPhone:""},cargo_details:{pallets:[],total_kilos:0,total_spaces:0},loading_date_time:new Date().toISOString().split("T")[0],unloading_date_time:new Date().toISOString().split("T")[0],unloading_start_time:"",unloading_end_time:"",selected_surcharges:[],notes:"",final_price:""},Dg=({onSuccess:e,onCancel:t,itemToEdit:n,clients:r=[],surcharges:s=[]})=>{var k,D,N,b;const o=!!n,{showToast:i}=Se(),a=S=>{const j={};return S.customer_id||(j.customer_id="Customer is required."),S.sender_details.name||(j.sender_name="Sender name is required."),S.recipient_details.name||(j.recipient_name="Recipient name is required."),j},c=async S=>{var P,O;const j=o?`/api/orders/${n.id}`:"/api/orders",E=o?"put":"post";try{await Y[E](j,S),i(`Order ${o?"updated":"created"} successfully!`,"success"),e&&e()}catch(U){const z=((O=(P=U.response)==null?void 0:P.data)==null?void 0:O.error)||`Failed to ${o?"update":"create"} order.`;throw i(z,"error"),new Error(z)}},{formData:u,setFormData:d,loading:f,handleChange:p,handleNestedChange:m,handleSubmit:h}=qr({initialState:Jl,validate:a,onSubmit:c,itemToEdit:w.useMemo(()=>n?{...n,loading_date_time:n.loading_date_time?String(n.loading_date_time).split("T")[0]:Jl.loading_date_time,unloading_date_time:n.unloading_date_time?String(n.unloading_date_time).split("T")[0]:Jl.unloading_date_time}:null,[n])});w.useEffect(()=>{d(S=>{var U;const j=(U=S.cargo_details)==null?void 0:U.pallets,E=Array.isArray(j)?j:j&&typeof j=="object"?Object.entries(j).map(([z,F])=>({type:z,quantity:Number((F==null?void 0:F.quantity)??(F==null?void 0:F.count)??0)||0,spaces:Number((F==null?void 0:F.spaces)??0)||0,weight:Number((F==null?void 0:F.weight)??0)||0})).filter(z=>z.quantity>0):[],P=E.reduce((z,F)=>z+Number(F.spaces)*Number(F.quantity),0),O=E.reduce((z,F)=>z+(Number(F.weight)||0),0);return S.cargo_details.total_spaces!==P||S.cargo_details.total_kilos!==O?{...S,cargo_details:{...S.cargo_details,pallets:E,total_spaces:P,total_kilos:O}}:S})},[(k=u==null?void 0:u.cargo_details)==null?void 0:k.pallets]);const v=S=>{const{value:j,checked:E}=S.target,P=s.find(O=>O.code===j);d(O=>{let U=[...O.selected_surcharges||[]];if(E){let z=O.unloading_start_time,F=O.unloading_end_time;if(P!=null&&P.requires_time){const H=s.filter(R=>R.requires_time).map(R=>R.code);U=U.filter(R=>!H.includes(R)),P.code!=="BW"?(z=P.start_time||O.unloading_start_time,F=P.end_time||O.unloading_end_time):(z="",F="")}return U.push(j),{...O,selected_surcharges:U,unloading_start_time:z,unloading_end_time:F}}else{U=U.filter(R=>R!==j);const z=U.some(R=>{var I;return(I=s.find(L=>L.code===R))==null?void 0:I.requires_time}),F=z?O.unloading_start_time:"",H=z?O.unloading_end_time:"";return{...O,selected_surcharges:U,unloading_start_time:F,unloading_end_time:H}}})},g=w.useMemo(()=>{var O;const S=s.find(U=>U.code==="BW");if(!((O=u.selected_surcharges)!=null&&O.includes("BW"))||!(S!=null&&S.start_time)||!(S!=null&&S.end_time))return[];const j=[];let E=new Date(`1970-01-01T${S.start_time}`);const P=new Date(`1970-01-01T${S.end_time}`);for(;new Date(E.getTime()+4*60*60*1e3)<=P;){const U=new Date(E.getTime()+144e5),z=E.toTimeString().slice(0,5),F=U.toTimeString().slice(0,5);j.push({value:`${z}-${F}`,label:`${z} - ${F}`}),E.setHours(E.getHours()+1)}return j},[u.selected_surcharges,s]),x=S=>{const[j,E]=S.target.value.split("-");d(P=>({...P,unloading_start_time:j,unloading_end_time:E}))},y=(S,j,E)=>{d(P=>{var z;const U=[...Array.isArray((z=P==null?void 0:P.cargo_details)==null?void 0:z.pallets)?P.cargo_details.pallets:[]];return U[S]={...U[S],[j]:E},{...P,cargo_details:{...P.cargo_details,pallets:U}}})},_=()=>{d(S=>{var j;return{...S,cargo_details:{...S.cargo_details,pallets:[...Array.isArray((j=S==null?void 0:S.cargo_details)==null?void 0:j.pallets)?S.cargo_details.pallets:[],{type:"full",quantity:1,weight:0,spaces:1}]}}})},C=S=>{d(j=>{var O;const P=(Array.isArray((O=j==null?void 0:j.cargo_details)==null?void 0:O.pallets)?j.cargo_details.pallets:[]).filter((U,z)=>z!==S);return{...j,cargo_details:{...j.cargo_details,pallets:P}}})};return l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:o?"Edit Order":"Add New Order"}),l.jsx("button",{onClick:t,className:"btn-icon",children:l.jsx(ft,{size:20})})]}),l.jsxs("form",{onSubmit:h,className:"form",style:{maxHeight:"80vh",overflowY:"auto",paddingRight:"1rem"},children:[l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group form-span-2",children:[l.jsx("label",{children:"Customer *"}),l.jsxs("select",{name:"customer_id",value:u.customer_id,onChange:p,required:!0,children:[l.jsx("option",{value:"",children:"Select a customer..."}),r.map(S=>l.jsx("option",{value:S.id,children:S.name},S.id))]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Order Number"}),l.jsx("input",{type:"text",name:"order_number",value:u.order_number,onChange:p})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Customer Reference"}),l.jsx("input",{type:"text",name:"customer_reference",value:u.customer_reference,onChange:p})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Service Level"}),l.jsxs("select",{name:"service_level",value:u.service_level,onChange:p,children:[l.jsx("option",{value:"A",children:"A"}),l.jsx("option",{value:"B",children:"B"}),l.jsx("option",{value:"C",children:"C"}),l.jsx("option",{value:"D",children:"D"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Status"}),l.jsxs("select",{name:"status",value:u.status,onChange:p,children:[l.jsx("option",{value:"nowe",children:"New"}),l.jsx("option",{value:"w trakcie",children:"In Progress"}),l.jsx("option",{value:"zakoczone",children:"Completed"}),l.jsx("option",{value:"anulowane",children:"Cancelled"})]})]})]}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-column",children:[l.jsx("h4",{children:"Sender Details"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Name *"}),l.jsx("input",{type:"text",name:"name",value:u.sender_details.name,onChange:S=>m("sender_details",S),required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Address 1"}),l.jsx("input",{type:"text",name:"address1",value:u.sender_details.address1,onChange:S=>m("sender_details",S)})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Postcode"}),l.jsx("input",{type:"text",name:"postCode",value:u.sender_details.postCode,onChange:S=>m("sender_details",S)})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Loading Date"}),l.jsx("input",{type:"date",name:"loading_date_time",value:u.loading_date_time,onChange:p})]})]}),l.jsxs("div",{className:"form-column",children:[l.jsx("h4",{children:"Recipient Details"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Name *"}),l.jsx("input",{type:"text",name:"name",value:u.recipient_details.name,onChange:S=>m("recipient_details",S),required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Address 1"}),l.jsx("input",{type:"text",name:"address1",value:u.recipient_details.address1,onChange:S=>m("recipient_details",S)})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Postcode"}),l.jsx("input",{type:"text",name:"postCode",value:u.recipient_details.postCode,onChange:S=>m("recipient_details",S)})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Unloading Date"}),l.jsx("input",{type:"date",name:"unloading_date_time",value:u.unloading_date_time,onChange:p})]})]})]}),l.jsx("h4",{children:"Cargo Details"}),l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Type"}),l.jsx("th",{children:"Quantity"}),l.jsx("th",{children:"Weight (kg)"}),l.jsx("th",{children:"Spaces"}),l.jsx("th",{})]})}),l.jsx("tbody",{children:(Array.isArray((D=u==null?void 0:u.cargo_details)==null?void 0:D.pallets)?u.cargo_details.pallets:[]).map((S,j)=>l.jsxs("tr",{children:[l.jsx("td",{children:l.jsxs("select",{value:S.type,onChange:E=>y(j,"type",E.target.value),children:[l.jsx("option",{value:"micro",children:"Micro"}),l.jsx("option",{value:"quarter",children:"Quarter"}),l.jsx("option",{value:"half",children:"Half"}),l.jsx("option",{value:"half_plus",children:"Half Plus"}),l.jsx("option",{value:"full",children:"Full"})]})}),l.jsx("td",{children:l.jsx("input",{type:"number",value:S.quantity,onChange:E=>y(j,"quantity",E.target.value),min:"1"})}),l.jsx("td",{children:l.jsx("input",{type:"number",value:S.weight,onChange:E=>y(j,"weight",E.target.value),min:"0"})}),l.jsx("td",{children:l.jsx("input",{type:"number",step:"0.1",value:S.spaces,onChange:E=>y(j,"spaces",E.target.value),min:"0"})}),l.jsx("td",{children:l.jsx("button",{type:"button",onClick:()=>C(j),className:"btn-icon btn-danger",children:l.jsx(or,{size:16})})})]},j))})]}),l.jsx("button",{type:"button",onClick:_,className:"btn-secondary",style:{marginTop:"1rem",alignSelf:"flex-start"},children:"Add Pallet"}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Total Weight (kg)"}),l.jsx("input",{type:"number",name:"total_kilos",value:u.cargo_details.total_kilos,readOnly:!0,disabled:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Total Spaces"}),l.jsx("input",{type:"number",name:"total_spaces",value:u.cargo_details.total_spaces,readOnly:!0,disabled:!0})]})]}),l.jsx("h4",{children:"Surcharges"}),(N=u.selected_surcharges)!=null&&N.includes("BW")?l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"4-Hour Window"}),l.jsxs("select",{onChange:x,value:`${u.unloading_start_time}-${u.unloading_end_time}`,children:[l.jsx("option",{value:"",children:"-- Select a time window --"}),g.map(S=>l.jsx("option",{value:S.value,children:S.label},S.value))]})]}):((b=u.selected_surcharges)==null?void 0:b.some(S=>{var j;return(j=s.find(E=>E.code===S))==null?void 0:j.requires_time}))&&l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Unloading Start Time"}),l.jsx("input",{type:"time",name:"unloading_start_time",value:u.unloading_start_time||"",onChange:p})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Unloading End Time"}),l.jsx("input",{type:"time",name:"unloading_end_time",value:u.unloading_end_time||"",onChange:p})]})]}),l.jsx("div",{className:"surcharge-options",children:s.map(S=>l.jsxs("div",{className:"form-group-checkbox",children:[l.jsx("input",{type:"checkbox",id:`surcharge-${S.code}`,value:S.code,checked:u.selected_surcharges.includes(S.code),onChange:v}),l.jsx("label",{htmlFor:`surcharge-${S.code}`,children:S.name})]},S.id))}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Notes"}),l.jsx("textarea",{name:"notes",value:u.notes||"",onChange:p})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Final Price ()"}),l.jsx("input",{type:"number",step:"0.01",name:"final_price",value:u.final_price,onChange:p,placeholder:u.calculated_price||"Auto-calculated"}),u.calculated_price&&l.jsxs("small",{children:["Calculated: ",u.calculated_price]})]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:f,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:f,children:f?"Saving...":o?"Save Changes":"Add Order"})]})]})]})},v1=({items:e=[],onRefresh:t,onEdit:n,currentUser:r})=>{const s=[{key:"name",header:"Name",sortable:!0,render:a=>`${a.first_name||""} ${a.last_name||""}`.trim()||a.email},{key:"email",header:"Email",sortable:!0},{key:"role",header:"Role",sortable:!0,render:a=>a.role==="admin"?"Admin":"Dispatcher"}],{showToast:o}=Se(),i=async a=>{var c,u;if(window.confirm(`Are you sure you want to delete user ${a.email}?`))try{await Y.delete(`/api/users/${a.id}`),o("User deleted successfully.","success"),t()}catch(d){o(((u=(c=d.response)==null?void 0:c.data)==null?void 0:u.error)||"Failed to delete user.","error")}};return l.jsx(Yt,{items:e,columns:s,onRefresh:t,onEdit:n,onDelete:i,title:"User List",filterPlaceholder:"Filter by email or role...",initialSortKey:"name",filterKeys:["email","role"],currentUser:r})},x1=({onSuccess:e,onCancel:t,itemToEdit:n})=>{const r=!!n,[s,o]=w.useState({email:"",first_name:"",last_name:"",password:"",role:"dispatcher"}),[i,a]=w.useState(!1),[c,u]=w.useState({}),{showToast:d}=Se();w.useEffect(()=>{o(r&&n?{email:n.email,first_name:n.first_name||"",last_name:n.last_name||"",password:"",role:n.role}:{email:"",password:"",role:"dispatcher",first_name:"",last_name:""})},[n,r]);const f=w.useCallback((h,v)=>{const g={};return h.email||(g.email="Email is required."),h.first_name||(g.first_name="First name is required."),h.last_name||(g.last_name="Last name is required."),!v&&(!h.password||h.password.length<6)&&(g.password="Password must be at least 6 characters long."),g},[]),p=w.useCallback(h=>{const{name:v,value:g}=h.target,x={...s,[v]:g};o(x),c[v]&&u(y=>({...y,[v]:void 0}))},[s,c]),m=async h=>{var g,x;h.preventDefault();const v=f(s,r);if(u(v),!(Object.keys(v).length>0)){a(!0);try{r?(await Y.put(`/api/users/${n.id}`,{role:s.role,first_name:s.first_name,last_name:s.last_name}),d("User updated successfully!","success")):(await Y.post("/api/users",s),d("User created successfully!","success")),e(),t()}catch(y){const _=((x=(g=y.response)==null?void 0:g.data)==null?void 0:x.error)||"An error occurred.";u({form:_}),d(_,"error")}finally{a(!1)}}};return l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:r?"Edit User":"Add New User"}),l.jsx("button",{onClick:t,className:"btn-icon",children:l.jsx(ft,{size:20})})]}),c.form&&l.jsx("div",{className:"error-message",children:c.form}),l.jsxs("form",{onSubmit:m,className:"form",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Email *"}),l.jsx("input",{type:"email",name:"email",value:s.email,onChange:p,required:!0,disabled:r,className:c.email?"input-error":""}),c.email&&l.jsx("span",{className:"error-text",children:c.email})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"First Name *"}),l.jsx("input",{type:"text",name:"first_name",value:s.first_name,onChange:p,required:!0,className:c.first_name?"input-error":""}),c.first_name&&l.jsx("span",{className:"error-text",children:c.first_name})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Last Name *"}),l.jsx("input",{type:"text",name:"last_name",value:s.last_name,onChange:p,required:!0,className:c.last_name?"input-error":""}),c.last_name&&l.jsx("span",{className:"error-text",children:c.last_name})]}),!r&&l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Password *"}),l.jsx("input",{type:"password",name:"password",value:s.password,onChange:p,required:!0,className:c.password?"input-error":""}),c.password&&l.jsx("span",{className:"error-text",children:c.password})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Role *"}),l.jsxs("select",{name:"role",value:s.role,onChange:p,required:!0,children:[l.jsx("option",{value:"dispatcher",children:"Dispatcher"}),l.jsx("option",{value:"admin",children:"Admin"})]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:i,children:"Cancel"}),l.jsx("button",{type:"submit",disabled:i,className:"btn-primary",children:i?r?"Saving...":"Adding...":r?"Save Changes":"Add User"})]})]})]})},Bf={run_date:new Date().toISOString().split("T")[0],type:"delivery",driver_id:"",truck_id:"",trailer_id:""},Rg=({onSuccess:e,onCancel:t,itemToEdit:n,drivers:r=[],trucks:s=[],trailers:o=[]})=>{const i=!!n,{showToast:a}=Se(),c=v=>{const g={};return v.run_date||(g.run_date="Run date is required."),v.driver_id||(g.driver_id="Driver is required."),v.truck_id||(g.truck_id="Truck is required."),g},u=async v=>{try{await e(v)}catch(g){throw a(g.message||`Failed to ${i?"update":"create"} run.`,"error"),g}},{formData:d,errors:f,loading:p,handleChange:m,handleSubmit:h}=qr({initialState:Bf,validate:c,onSubmit:u,itemToEdit:w.useMemo(()=>n?{...n,run_date:n.run_date?new Date(n.run_date).toISOString().split("T")[0]:Bf.run_date,driver_id:n.driver_id||"",truck_id:n.truck_id||"",trailer_id:n.trailer_id||""}:null,[n])});return l.jsxs("div",{className:"card",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1010,width:"400px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:i?"Edit Run":"Add New Run"}),l.jsx("button",{type:"button",onClick:t,className:"btn-icon","aria-label":"Close add run form",children:l.jsx(ft,{size:20})})]}),l.jsxs("form",{onSubmit:h,className:"form",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Run Date"}),l.jsx("input",{type:"date",name:"run_date",value:d.run_date,onChange:m,required:!0,className:f.run_date?"input-error":""}),f.run_date&&l.jsx("span",{className:"error-text",children:f.run_date})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Driver"}),l.jsxs("select",{name:"driver_id",value:d.driver_id,onChange:m,required:!0,className:f.driver_id?"input-error":"",children:[l.jsx("option",{value:"",children:"Select a driver..."}),r.map(v=>l.jsxs("option",{value:v.id,children:[v.first_name," ",v.last_name]},v.id))]}),f.driver_id&&l.jsx("span",{className:"error-text",children:f.driver_id})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Truck"}),l.jsxs("select",{name:"truck_id",value:d.truck_id,onChange:m,required:!0,className:f.truck_id?"input-error":"",children:[l.jsx("option",{value:"",children:"Select a truck..."}),s.map(v=>l.jsx("option",{value:v.id,children:v.registration_plate},v.id))]}),f.truck_id&&l.jsx("span",{className:"error-text",children:f.truck_id})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Trailer (optional)"}),l.jsxs("select",{name:"trailer_id",value:d.trailer_id,onChange:m,children:[l.jsx("option",{value:"",children:"Select a trailer..."}),o.map(v=>l.jsx("option",{value:v.id,children:v.registration_plate},v.id))]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:p,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:p,children:p?"Saving...":i?"Save Changes":"Add Run"})]})]})]})},_1=({runs:e=[],trucks:t=[],trailers:n=[],drivers:r=[],onDataRefresh:s,runActions:o})=>{const[i,a]=w.useState(!1),[c,u]=w.useState(null),{showToast:d}=Se(),f=w.useCallback(()=>{u(null),a(!0)},[]),p=w.useCallback(k=>{u(k),a(!0)},[]),m=w.useCallback(()=>{a(!1),u(null)},[]),h=w.useCallback(async k=>{var D,N;try{c?await o.update(c.id,k):await o.create(k),d("Run saved successfully!","success")}catch(b){d(((N=(D=b.response)==null?void 0:D.data)==null?void 0:N.error)||"Failed to save run.","error")}m()},[s,m]),v=w.useMemo(()=>new Map(r.map(k=>[k.id,`${k.first_name} ${k.last_name}`])),[r]),g=w.useMemo(()=>new Map(t.map(k=>[k.id,k.registration_plate])),[t]),x=w.useMemo(()=>new Map(n.map(k=>[k.id,k.registration_plate])),[n]),y=w.useMemo(()=>e.map(k=>({...k,driverName:v.get(k.driver_id)||"N/A",truckPlate:g.get(k.truck_id)||"N/A",trailerPlate:k.trailer_id?x.get(k.trailer_id):"N/A"})),[e,v,g,x]),_=[{key:"run_date",header:"Date",sortable:!0,render:k=>new Date(k.run_date).toLocaleDateString()},{key:"driverName",header:"Driver",sortable:!0},{key:"truckPlate",header:"Truck",sortable:!0},{key:"trailerPlate",header:"Trailer",sortable:!0},{key:"type",header:"Type",sortable:!0,render:k=>l.jsx("span",{style:{textTransform:"capitalize"},children:k.type})}],C=w.useCallback(async k=>{var S,j;const D=y.find(E=>E.id===k.id),N=(D==null?void 0:D.driverName)||"N/A",b=new Date(k.run_date).toLocaleDateString();if(window.confirm(`Are you sure you want to delete run for ${N} on ${b}?`))try{await o.delete(k.id),d("Run deleted successfully.","success")}catch(E){d(((j=(S=E.response)==null?void 0:S.data)==null?void 0:j.error)||"Failed to delete run.","error")}},[o,d,y]);return l.jsxs("div",{className:"card",children:[i&&l.jsx("div",{className:"modal-overlay",children:l.jsx(Rg,{onSuccess:h,onCancel:m,itemToEdit:c,drivers:r,trucks:t,trailers:n})}),l.jsxs("div",{className:"card-header",children:[l.jsx("h3",{children:"Run Management"}),l.jsxs("button",{onClick:f,className:"btn-primary",children:[l.jsx(er,{size:16})," Add New Run"]})]}),l.jsx(Yt,{items:y,columns:_,onEdit:p,onDelete:C,filterPlaceholder:"Filter runs...",filterKeys:["run_date","driverName","truckPlate","trailerPlate","type"],initialSortKey:"run_date",initialSortOrder:"desc"})]})},st=(e,t="resource")=>{const[n,r]=w.useState([]),[s,o]=w.useState(!1),[i,a]=w.useState(null),c=w.useRef(e),u=w.useRef(t);w.useEffect(()=>{c.current=e,u.current=t},[e,t]);const d=w.useCallback(async()=>{var y,_;const g=c.current,x=u.current;if(g){o(!0),a(null);try{const C=await Y.get(g);return r(C.data),C.data}catch(C){const k=((_=(y=C.response)==null?void 0:y.data)==null?void 0:_.error)||`Failed to fetch ${x}.`;a(k)}finally{o(!1)}}},[]);w.useEffect(()=>{e&&d()},[e]);const f=w.useCallback(async(g,x)=>{var k,D;const y=c.current,_=u.current;let C=null;if(x){C=`temp-${Date.now()}`;const N=x(g,C);r(b=>[...b,N])}o(!0),a(null);try{const N=await Y.post(y,g);return r(x?b=>b.map(S=>S.id===C?N.data:S):b=>[...b,N.data]),N.data}catch(N){x&&r(S=>S.filter(j=>j.id!==C));const b=((D=(k=N.response)==null?void 0:k.data)==null?void 0:D.error)||`Failed to create ${_}.`;return a(b),null}finally{o(!1)}},[]),p=w.useCallback(async g=>{var k,D;const x=c.current,y=u.current;let _=null,C=-1;if(r(N=>(C=N.findIndex(b=>b.id===g),C===-1?N:(_=N[C],N.filter(b=>b.id!==g)))),C!==-1){o(!0),a(null);try{await Y.delete(`${x}/${g}`)}catch(N){r(S=>{const j=[...S];return j.splice(C,0,_),j});const b=((D=(k=N.response)==null?void 0:k.data)==null?void 0:D.error)||`Failed to delete ${y}.`;a(b)}finally{o(!1)}}},[]),m=w.useCallback(async(g,x)=>{var k,D;const y=c.current,_=u.current;let C=null;r(N=>(C=[...N],N.map(b=>b.id===g?{...b,...x}:b))),o(!0),a(null);try{const N=await Y.put(`${y}/${g}`,x);return r(b=>b.map(S=>S.id===g?N.data:S)),N.data}catch(N){C&&r(C);const b=((D=(k=N.response)==null?void 0:k.data)==null?void 0:D.error)||`Failed to update ${_}.`;return a(b),null}finally{o(!1)}},[]),h=w.useCallback(async g=>{var _,C;const x=c.current,y=u.current;o(!0),a(null);try{const k=await Y.post(`${x}/bulk`,g);return d(),{success:!0,message:k.data.message||`${y} created successfully.`}}catch(k){const D=((C=(_=k.response)==null?void 0:_.data)==null?void 0:C.error)||`Failed to bulk create ${y}.`;return a(D),{success:!1,message:D}}finally{o(!1)}},[]),v=w.useCallback(g=>{r(g)},[]);return{data:n,isLoading:s,error:i,fetchData:d,createResource:f,updateResource:m,deleteResource:p,bulkCreate:h,setData:v}};function Xe(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var w1=typeof Symbol=="function"&&Symbol.observable||"@@observable",zf=w1,$f=()=>Math.random().toString(36).substring(7).split("").join("."),b1={INIT:`@@redux/INIT${$f()}`,REPLACE:`@@redux/REPLACE${$f()}`},Uf=b1;function S1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Pg(e,t,n){if(typeof e!="function")throw new Error(Xe(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xe(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xe(1));return n(Pg)(e,t)}let r=e,s=t,o=new Map,i=o,a=0,c=!1;function u(){i===o&&(i=new Map,o.forEach((g,x)=>{i.set(x,g)}))}function d(){if(c)throw new Error(Xe(3));return s}function f(g){if(typeof g!="function")throw new Error(Xe(4));if(c)throw new Error(Xe(5));let x=!0;u();const y=a++;return i.set(y,g),function(){if(x){if(c)throw new Error(Xe(6));x=!1,u(),i.delete(y),o=null}}}function p(g){if(!S1(g))throw new Error(Xe(7));if(typeof g.type>"u")throw new Error(Xe(8));if(typeof g.type!="string")throw new Error(Xe(17));if(c)throw new Error(Xe(9));try{c=!0,s=r(s,g)}finally{c=!1}return(o=i).forEach(y=>{y()}),g}function m(g){if(typeof g!="function")throw new Error(Xe(10));r=g,p({type:Uf.REPLACE})}function h(){const g=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Xe(11));function y(){const C=x;C.next&&C.next(d())}return y(),{unsubscribe:g(y)}},[zf](){return this}}}return p({type:Uf.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:m,[zf]:h}}function Wf(e,t){return function(...n){return t(e.apply(this,n))}}function Hf(e,t){if(typeof e=="function")return Wf(e,t);if(typeof e!="object"||e===null)throw new Error(Xe(16));const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=Wf(s,t))}return n}function Ig(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function C1(...e){return t=>(n,r)=>{const s=t(n,r);let o=()=>{throw new Error(Xe(15))};const i={getState:s.getState,dispatch:(c,...u)=>o(c,...u)},a=e.map(c=>c(i));return o=Ig(...a)(s.dispatch),{...s,dispatch:o}}}var j1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var po=w;function k1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var E1=typeof Object.is=="function"?Object.is:k1,N1=po.useSyncExternalStore,D1=po.useRef,R1=po.useEffect,P1=po.useMemo,I1=po.useDebugValue;j1.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var o=D1(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=P1(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),s!==void 0&&i.hasValue){var h=i.value;if(s(h,m))return f=h}return f=m}if(h=f,E1(d,m))return h;var v=r(m);return s!==void 0&&s(h,v)?(d=m,h):(d=m,f=v)}var u=!1,d,f,p=n===void 0?null:n;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,n,r,s]);var a=N1(e,o[0],o[1]);return R1(function(){i.hasValue=!0,i.value=a},[a]),I1(a),a};var A1=w.version.startsWith("19"),O1=Symbol.for(A1?"react.transitional.element":"react.element"),T1=Symbol.for("react.portal"),L1=Symbol.for("react.fragment"),F1=Symbol.for("react.strict_mode"),M1=Symbol.for("react.profiler"),B1=Symbol.for("react.consumer"),z1=Symbol.for("react.context"),Ag=Symbol.for("react.forward_ref"),$1=Symbol.for("react.suspense"),U1=Symbol.for("react.suspense_list"),ku=Symbol.for("react.memo"),W1=Symbol.for("react.lazy"),H1=Ag,V1=ku;function q1(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case O1:switch(e=e.type,e){case L1:case M1:case F1:case $1:case U1:return e;default:switch(e=e&&e.$$typeof,e){case z1:case Ag:case W1:case ku:return e;case B1:return e;default:return t}}case T1:return t}}}function G1(e){return q1(e)===ku}function K1(e,t,n,r,{areStatesEqual:s,areOwnPropsEqual:o,areStatePropsEqual:i}){let a=!1,c,u,d,f,p;function m(y,_){return c=y,u=_,d=e(c,u),f=t(r,u),p=n(d,f,u),a=!0,p}function h(){return d=e(c,u),t.dependsOnOwnProps&&(f=t(r,u)),p=n(d,f,u),p}function v(){return e.dependsOnOwnProps&&(d=e(c,u)),t.dependsOnOwnProps&&(f=t(r,u)),p=n(d,f,u),p}function g(){const y=e(c,u),_=!i(y,d);return d=y,_&&(p=n(d,f,u)),p}function x(y,_){const C=!o(_,u),k=!s(y,c,_,u);return c=y,u=_,C&&k?h():C?v():k?g():p}return function(_,C){return a?x(_,C):m(_,C)}}function Q1(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...s}){const o=t(e,s),i=n(e,s),a=r(e,s);return K1(o,i,a,e,s)}function Y1(e,t){const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=(...o)=>t(s(...o)))}return n}function fc(e){return function(n){const r=e(n);function s(){return r}return s.dependsOnOwnProps=!1,s}}function Vf(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function Og(e,t){return function(r,{displayName:s}){const o=function(a,c){return o.dependsOnOwnProps?o.mapToProps(a,c):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,c){o.mapToProps=e,o.dependsOnOwnProps=Vf(e);let u=o(a,c);return typeof u=="function"&&(o.mapToProps=u,o.dependsOnOwnProps=Vf(u),u=o(a,c)),u},o}}function Eu(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function J1(e){return e&&typeof e=="object"?fc(t=>Y1(e,t)):e?typeof e=="function"?Og(e):Eu(e,"mapDispatchToProps"):fc(t=>({dispatch:t}))}function Z1(e){return e?typeof e=="function"?Og(e):Eu(e,"mapStateToProps"):fc(()=>({}))}function X1(e,t,n){return{...n,...e,...t}}function eS(e){return function(n,{displayName:r,areMergedPropsEqual:s}){let o=!1,i;return function(c,u,d){const f=e(c,u,d);return o?s(f,i)||(i=f):(o=!0,i=f),i}}}function tS(e){return e?typeof e=="function"?eS(e):Eu(e,"mergeProps"):()=>X1}function nS(e){e()}function rS(){let e=null,t=null;return{clear(){e=null,t=null},notify(){nS(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var qf={notify(){},get:()=>[]};function Tg(e,t){let n,r=qf,s=0,o=!1;function i(v){d();const g=r.subscribe(v);let x=!1;return()=>{x||(x=!0,g(),f())}}function a(){r.notify()}function c(){h.onStateChange&&h.onStateChange()}function u(){return o}function d(){s++,n||(n=t?t.addNestedSub(c):e.subscribe(c),r=rS())}function f(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=qf)}function p(){o||(o=!0,d())}function m(){o&&(o=!1,f())}const h={addNestedSub:i,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return h}var sS=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oS=sS(),iS=()=>typeof navigator<"u"&&navigator.product==="ReactNative",lS=iS(),aS=()=>oS||lS?w.useLayoutEffect:w.useEffect,Ri=aS();function Gf(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Zl(e,t){if(Gf(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(t,n[s])||!Gf(e[n[s]],t[n[s]]))return!1;return!0}var cS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},uS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},dS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Lg={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},fS={[H1]:dS,[V1]:Lg};function Kf(e){return G1(e)?Lg:fS[e.$$typeof]||cS}var pS=Object.defineProperty,mS=Object.getOwnPropertyNames,Qf=Object.getOwnPropertySymbols,hS=Object.getOwnPropertyDescriptor,gS=Object.getPrototypeOf,Yf=Object.prototype;function pc(e,t){if(typeof t!="string"){if(Yf){const o=gS(t);o&&o!==Yf&&pc(e,o)}let n=mS(t);Qf&&(n=n.concat(Qf(t)));const r=Kf(e),s=Kf(t);for(let o=0;o<n.length;++o){const i=n[o];if(!uS[i]&&!(s&&s[i])&&!(r&&r[i])){const a=hS(t,i);try{pS(e,i,a)}catch{}}}}return e}var Xl=Symbol.for("react-redux-context"),ea=typeof globalThis<"u"?globalThis:{};function yS(){if(!w.createContext)return{};const e=ea[Xl]??(ea[Xl]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var Fg=yS(),vS=[null,null];function xS(e,t,n){Ri(()=>e(...t),n)}function _S(e,t,n,r,s,o){e.current=r,n.current=!1,s.current&&(s.current=null,o())}function wS(e,t,n,r,s,o,i,a,c,u,d){if(!e)return()=>{};let f=!1,p=null;const m=()=>{if(f||!a.current)return;const v=t.getState();let g,x;try{g=r(v,s.current)}catch(y){x=y,p=y}x||(p=null),g===o.current?i.current||u():(o.current=g,c.current=g,i.current=!0,d())};return n.onStateChange=m,n.trySubscribe(),m(),()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,p)throw p}}function bS(e,t){return e===t}function SS(e,t,n,{pure:r,areStatesEqual:s=bS,areOwnPropsEqual:o=Zl,areStatePropsEqual:i=Zl,areMergedPropsEqual:a=Zl,forwardRef:c=!1,context:u=Fg}={}){const d=u,f=Z1(e),p=J1(t),m=tS(n),h=!!e;return g=>{const x=g.displayName||g.name||"Component",y=`Connect(${x})`,_={shouldHandleStateChanges:h,displayName:y,wrappedComponentName:x,WrappedComponent:g,initMapStateToProps:f,initMapDispatchToProps:p,initMergeProps:m,areStatesEqual:s,areStatePropsEqual:i,areOwnPropsEqual:o,areMergedPropsEqual:a};function C(N){const[b,S,j]=w.useMemo(()=>{const{reactReduxForwardedRef:oe,...ge}=N;return[N.context,oe,ge]},[N]),E=w.useMemo(()=>{let oe=d;return b!=null&&b.Consumer,oe},[b,d]),P=w.useContext(E),O=!!N.store&&!!N.store.getState&&!!N.store.dispatch,U=!!P&&!!P.store,z=O?N.store:P.store,F=U?P.getServerState:z.getState,H=w.useMemo(()=>Q1(z.dispatch,_),[z]),[R,I]=w.useMemo(()=>{if(!h)return vS;const oe=Tg(z,O?void 0:P.subscription),ge=oe.notifyNestedSubs.bind(oe);return[oe,ge]},[z,O,P]),L=w.useMemo(()=>O?P:{...P,subscription:R},[O,P,R]),T=w.useRef(void 0),M=w.useRef(j),$=w.useRef(void 0),J=w.useRef(!1),ee=w.useRef(!1),ae=w.useRef(void 0);Ri(()=>(ee.current=!0,()=>{ee.current=!1}),[]);const Ee=w.useMemo(()=>()=>$.current&&j===M.current?$.current:H(z.getState(),j),[z,j]),se=w.useMemo(()=>ge=>R?wS(h,z,R,H,M,T,J,ee,$,I,ge):()=>{},[R]);xS(_S,[M,T,J,j,$,I]);let ie;try{ie=w.useSyncExternalStore(se,Ee,F?()=>H(F(),j):Ee)}catch(oe){throw ae.current&&(oe.message+=`
The error may be correlated with this previous error:
${ae.current.stack}

`),oe}Ri(()=>{ae.current=void 0,$.current=void 0,T.current=ie});const he=w.useMemo(()=>w.createElement(g,{...ie,ref:S}),[S,g,ie]);return w.useMemo(()=>h?w.createElement(E.Provider,{value:L},he):he,[E,he,L])}const D=w.memo(C);if(D.WrappedComponent=g,D.displayName=C.displayName=y,c){const b=w.forwardRef(function(j,E){return w.createElement(D,{...j,reactReduxForwardedRef:E})});return b.displayName=y,b.WrappedComponent=g,pc(b,g)}return pc(D,g)}}var Mg=SS;function CS(e){const{children:t,context:n,serverState:r,store:s}=e,o=w.useMemo(()=>{const c=Tg(s);return{store:s,subscription:c,getServerState:r?()=>r:void 0}},[s,r]),i=w.useMemo(()=>s.getState(),[s]);Ri(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,i]);const a=n||Fg;return w.createElement(a.Provider,{value:o},t)}var jS=CS,kS="Invariant failed";function ES(e,t){throw new Error(kS)}var Mt=function(t){var n=t.top,r=t.right,s=t.bottom,o=t.left,i=r-o,a=s-n,c={top:n,right:r,bottom:s,left:o,width:i,height:a,x:o,y:n,center:{x:(r+o)/2,y:(s+n)/2}};return c},Nu=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},Jf=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},NS=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},ta={top:0,right:0,bottom:0,left:0},Du=function(t){var n=t.borderBox,r=t.margin,s=r===void 0?ta:r,o=t.border,i=o===void 0?ta:o,a=t.padding,c=a===void 0?ta:a,u=Mt(Nu(n,s)),d=Mt(Jf(n,i)),f=Mt(Jf(d,c));return{marginBox:u,borderBox:Mt(n),paddingBox:d,contentBox:f,margin:s,border:i,padding:c}},jt=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var s=Number(n);return isNaN(s)&&ES(),s},DS=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Pi=function(t,n){var r=t.borderBox,s=t.border,o=t.margin,i=t.padding,a=NS(r,n);return Du({borderBox:a,border:s,margin:o,padding:i})},Ii=function(t,n){return n===void 0&&(n=DS()),Pi(t,n)},Bg=function(t,n){var r={top:jt(n.marginTop),right:jt(n.marginRight),bottom:jt(n.marginBottom),left:jt(n.marginLeft)},s={top:jt(n.paddingTop),right:jt(n.paddingRight),bottom:jt(n.paddingBottom),left:jt(n.paddingLeft)},o={top:jt(n.borderTopWidth),right:jt(n.borderRightWidth),bottom:jt(n.borderBottomWidth),left:jt(n.borderLeftWidth)};return Du({borderBox:t,margin:r,padding:s,border:o})},zg=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return Bg(n,r)},qs=function(t){var n=[],r=null,s=function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];n=a,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return s.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},s};function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ai.apply(null,arguments)}function $g(e,t){}$g.bind(null,"warn");$g.bind(null,"error");function En(){}function RS(e,t){return{...e,...t}}function Dt(e,t,n){const r=t.map(s=>{const o=RS(n,s.options);return e.addEventListener(s.eventName,s.fn,o),function(){e.removeEventListener(s.eventName,s.fn,o)}});return function(){r.forEach(o=>{o()})}}const PS="Invariant failed";class Oi extends Error{}Oi.prototype.toString=function(){return this.message};function W(e,t){throw new Oi(PS)}let IS=class extends ce.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=En,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Oi&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Dt(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Oi){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}};const AS=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Ti=e=>e+1,OS=e=>`
  You have lifted an item in position ${Ti(e.source.index)}
`,Ug=(e,t)=>{const n=e.droppableId===t.droppableId,r=Ti(e.index),s=Ti(t.index);return n?`
      You have moved the item from position ${r}
      to position ${s}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${s}
  `},Wg=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,TS=e=>{const t=e.destination;if(t)return Ug(e.source,t);const n=e.combine;return n?Wg(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},Zf=e=>`
  The item has returned to its starting position
  of ${Ti(e.index)}
`,LS=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${Zf(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${Ug(e.source,t)}
    `:n?`
      You have dropped the item.
      ${Wg(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${Zf(e.source)}
  `},ni={dragHandleUsageInstructions:AS,onDragStart:OS,onDragUpdate:TS,onDragEnd:LS};function FS(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function Hg(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!FS(e[n],t[n]))return!1;return!0}function ue(e,t){const n=w.useState(()=>({inputs:t,result:e()}))[0],r=w.useRef(!0),s=w.useRef(n),i=r.current||!!(t&&s.current.inputs&&Hg(t,s.current.inputs))?s.current:{inputs:t,result:e()};return w.useEffect(()=>{r.current=!1,s.current=i},[i]),i.result}function K(e,t){return ue(()=>e,t)}const $e={x:0,y:0},He=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),ht=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Nn=(e,t)=>e.x===t.x&&e.y===t.y,Gr=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),tr=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Gs=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),Xf=(e,t)=>Math.min(...t.map(n=>Gs(e,n))),Vg=e=>t=>({x:e(t.x),y:e(t.y)});var MS=(e,t)=>{const n=Mt({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const mo=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),ep=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],BS={top:0,right:0,bottom:0,left:0},zS=(e,t)=>t?mo(e,t.scroll.diff.displacement):e,$S=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,US=(e,t)=>t&&t.shouldClipSubject?MS(t.pageMarginBox,e):Mt(e);var Lr=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const s=zS(e.marginBox,r),o=$S(s,n,t),i=US(o,r);return{page:e,withPlaceholder:t,active:i}},Ru=(e,t)=>{e.frame||W();const n=e.frame,r=ht(t,n.scroll.initial),s=Gr(r),o={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:s},max:n.scroll.max}},i=Lr({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:i}};function ze(e,t=Hg){let n=null;function r(...s){if(n&&n.lastThis===this&&t(s,n.lastArgs))return n.lastResult;const o=e.apply(this,s);return n={lastResult:o,lastArgs:s,lastThis:this},o}return r.clear=function(){n=null},r}const qg=ze(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),Gg=ze(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),ul=ze(e=>Object.values(e)),WS=ze(e=>Object.values(e));var Kr=ze((e,t)=>WS(t).filter(r=>e===r.descriptor.droppableId).sort((r,s)=>r.descriptor.index-s.descriptor.index));function Pu(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function dl(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var fl=ze((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),HS=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:s})=>{if(!n.isCombineEnabled||!Pu(s))return null;function i(m){const h={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return{...s,at:h}}const a=s.displaced.all,c=a.length?a[0]:null;if(e)return c?i(c):null;const u=fl(t,r);if(!c){if(!u.length)return null;const m=u[u.length-1];return i(m.descriptor.id)}const d=u.findIndex(m=>m.descriptor.id===c);d===-1&&W();const f=d-1;if(f<0)return null;const p=u[f];return i(p.descriptor.id)},Qr=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const Kg={point:$e,value:0},Ks={invisible:{},visible:{},all:[]},VS={displaced:Ks,displacedBy:Kg,at:null};var Pt=(e,t)=>n=>e<=n&&n<=t,Qg=e=>{const t=Pt(e.top,e.bottom),n=Pt(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const o=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(o&&i)return!0;const c=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right;return c&&u?!0:c&&i||u&&o}},qS=e=>{const t=Pt(e.top,e.bottom),n=Pt(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const Iu={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Yg={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var GS=e=>t=>{const n=Pt(t.top,t.bottom),r=Pt(t.left,t.right);return s=>e===Iu?n(s.top)&&n(s.bottom):r(s.left)&&r(s.right)};const KS=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:$e;return mo(e,n)},QS=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,YS=(e,t,n)=>n(t)(e),Au=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:s})=>{const o=r?KS(e,t):e;return QS(o,t,s)&&YS(o,n,s)},JS=e=>Au({...e,isVisibleThroughFrameFn:Qg}),Jg=e=>Au({...e,isVisibleThroughFrameFn:qS}),ZS=e=>Au({...e,isVisibleThroughFrameFn:GS(e.destination.axis)}),XS=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:s}=t;if(r[e])return!1;const o=s[e];return o?o.shouldAnimate:!0};function eC(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Mt(Nu(n,r))}function Qs({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:s,last:o}){return e.reduce(function(a,c){const u=eC(c,n),d=c.descriptor.id;if(a.all.push(d),!JS({target:u,destination:t,viewport:r,withDroppableDisplacement:!0}))return a.invisible[c.descriptor.id]=!0,a;const p=XS(d,o,s),m={draggableId:d,shouldAnimate:p};return a.visible[d]=m,a},{all:[],visible:{},invisible:{}})}function tC(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function tp({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const s=tC(e,{inHomeList:t});return{displaced:Ks,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Li({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:s,last:o,index:i,forceShouldAnimate:a}){const c=Qr(e,n);if(i==null)return tp({insideDestination:t,inHomeList:c,displacedBy:s,destination:n});const u=t.find(h=>h.descriptor.index===i);if(!u)return tp({insideDestination:t,inHomeList:c,displacedBy:s,destination:n});const d=fl(e,t),f=t.indexOf(u),p=d.slice(f);return{displaced:Qs({afterDragging:p,destination:n,displacedBy:s,last:o,viewport:r.frame,forceShouldAnimate:a}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:i}}}}function Pn(e,t){return!!t.effected[e]}var nC=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:s})=>{if(!t.isCombineEnabled)return null;const o=r.draggableId,a=n[o].descriptor.index;return Pn(o,s)?e?a:a-1:e?a+1:a},rC=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const s=r.index,o=e?s+1:s-1,i=n[0].descriptor.index,a=n[n.length-1].descriptor.index,c=t?a:a+1;return o<i||o>c?null:o},sC=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:s,insideDestination:o,previousImpact:i,viewport:a,afterCritical:c})=>{const u=i.at;if(u||W(),u.type==="REORDER"){const f=rC({isMovingForward:e,isInHomeList:t,location:u.destination,insideDestination:o});return f==null?null:Li({draggable:n,insideDestination:o,destination:s,viewport:a,last:i.displaced,displacedBy:i.displacedBy,index:f})}const d=nC({isMovingForward:e,destination:s,displaced:i.displaced,draggables:r,combine:u.combine,afterCritical:c});return d==null?null:Li({draggable:n,insideDestination:o,destination:s,viewport:a,last:i.displaced,displacedBy:i.displacedBy,index:d})},oC=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const s=!!(e.visible[n]||e.invisible[n]);return Pn(n,t)?s?$e:Gr(r.point):s?r.point:$e},iC=({afterCritical:e,impact:t,draggables:n})=>{const r=dl(t);r||W();const s=r.draggableId,o=n[s].page.borderBox.center,i=oC({displaced:t.displaced,afterCritical:e,combineWith:s,displacedBy:t.displacedBy});return He(o,i)};const Zg=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,lC=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,Ou=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,np=({axis:e,moveRelativeTo:t,isMoving:n})=>tr(e.line,t.marginBox[e.end]+Zg(e,n),Ou(e,t.marginBox,n)),rp=({axis:e,moveRelativeTo:t,isMoving:n})=>tr(e.line,t.marginBox[e.start]-lC(e,n),Ou(e,t.marginBox,n)),aC=({axis:e,moveInto:t,isMoving:n})=>tr(e.line,t.contentBox[e.start]+Zg(e,n),Ou(e,t.contentBox,n));var cC=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:s})=>{const o=Kr(r.descriptor.id,n),i=t.page,a=r.axis;if(!o.length)return aC({axis:a,moveInto:r.page,isMoving:i});const{displaced:c,displacedBy:u}=e,d=c.all[0];if(d){const p=n[d];if(Pn(d,s))return rp({axis:a,moveRelativeTo:p.page,isMoving:i});const m=Pi(p.page,u.point);return rp({axis:a,moveRelativeTo:m,isMoving:i})}const f=o[o.length-1];if(f.descriptor.id===t.descriptor.id)return i.borderBox.center;if(Pn(f.descriptor.id,s)){const p=Pi(f.page,Gr(s.displacedBy.point));return np({axis:a,moveRelativeTo:p,isMoving:i})}return np({axis:a,moveRelativeTo:f.page,isMoving:i})},mc=(e,t)=>{const n=e.frame;return n?He(t,n.scroll.diff.displacement):t};const uC=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:s})=>{const o=t.page.borderBox.center,i=e.at;return!n||!i?o:i.type==="REORDER"?cC({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s}):iC({impact:e,draggables:r,afterCritical:s})};var pl=e=>{const t=uC(e),n=e.droppable;return n?mc(n,t):t},Xg=(e,t)=>{const n=ht(t,e.scroll.initial),r=Gr(n);return{frame:Mt({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function sp(e,t){return e.map(n=>t[n])}function dC(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var fC=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:s})=>{const o=Xg(t,He(t.scroll.current,s)),i=n.frame?Ru(n,He(n.frame.scroll.current,s)):n,a=e.displaced,c=Qs({afterDragging:sp(a.all,r),destination:n,displacedBy:e.displacedBy,viewport:o.frame,last:a,forceShouldAnimate:!1}),u=Qs({afterDragging:sp(a.all,r),destination:i,displacedBy:e.displacedBy,viewport:t.frame,last:a,forceShouldAnimate:!1}),d={},f={},p=[a,c,u];return a.all.forEach(h=>{const v=dC(h,p);if(v){f[h]=v;return}d[h]=!0}),{...e,displaced:{all:a.all,invisible:d,visible:f}}},pC=(e,t)=>He(e.scroll.diff.displacement,t),Tu=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=pC(n,e),s=ht(r,t.page.borderBox.center);return He(t.client.borderBox.center,s)},ey=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:s,onlyOnMainAxis:o=!1})=>{const i=ht(n,e.page.borderBox.center),c={target:mo(e.page.borderBox,i),destination:t,withDroppableDisplacement:s,viewport:r};return o?ZS(c):Jg(c)},mC=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:s,viewport:o,previousPageBorderBoxCenter:i,previousClientSelection:a,afterCritical:c})=>{if(!n.isEnabled)return null;const u=Kr(n.descriptor.id,r),d=Qr(t,n),f=HS({isMovingForward:e,draggable:t,destination:n,insideDestination:u,previousImpact:s})||sC({isMovingForward:e,isInHomeList:d,draggable:t,draggables:r,destination:n,insideDestination:u,previousImpact:s,viewport:o,afterCritical:c});if(!f)return null;const p=pl({impact:f,draggable:t,droppable:n,draggables:r,afterCritical:c});if(ey({draggable:t,destination:n,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Tu({pageBorderBoxCenter:p,draggable:t,viewport:o}),impact:f,scrollJumpRequest:null};const h=ht(p,i),v=fC({impact:f,viewport:o,destination:n,draggables:r,maxScrollChange:h});return{clientSelection:a,impact:v,scrollJumpRequest:h}};const Ze=e=>{const t=e.subject.active;return t||W(),t};var hC=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:s})=>{const o=n.subject.active;if(!o)return null;const i=n.axis,a=Pt(o[i.start],o[i.end]),c=ul(r).filter(d=>d!==n).filter(d=>d.isEnabled).filter(d=>!!d.subject.active).filter(d=>Qg(s.frame)(Ze(d))).filter(d=>{const f=Ze(d);return e?o[i.crossAxisEnd]<f[i.crossAxisEnd]:f[i.crossAxisStart]<o[i.crossAxisStart]}).filter(d=>{const f=Ze(d),p=Pt(f[i.start],f[i.end]);return a(f[i.start])||a(f[i.end])||p(o[i.start])||p(o[i.end])}).sort((d,f)=>{const p=Ze(d)[i.crossAxisStart],m=Ze(f)[i.crossAxisStart];return e?p-m:m-p}).filter((d,f,p)=>Ze(d)[i.crossAxisStart]===Ze(p[0])[i.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const u=c.filter(d=>Pt(Ze(d)[i.start],Ze(d)[i.end])(t[i.line]));return u.length===1?u[0]:u.length>1?u.sort((d,f)=>Ze(d)[i.start]-Ze(f)[i.start])[0]:c.sort((d,f)=>{const p=Xf(t,ep(Ze(d))),m=Xf(t,ep(Ze(f)));return p!==m?p-m:Ze(d)[i.start]-Ze(f)[i.start]})[0]};const op=(e,t)=>{const n=e.page.borderBox.center;return Pn(e.descriptor.id,t)?ht(n,t.displacedBy.point):n},gC=(e,t)=>{const n=e.page.borderBox;return Pn(e.descriptor.id,t)?mo(n,Gr(t.displacedBy.point)):n};var yC=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:s})=>r.filter(i=>Jg({target:gC(i,s),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((i,a)=>{const c=Gs(e,mc(n,op(i,s))),u=Gs(e,mc(n,op(a,s)));return c<u?-1:u<c?1:i.descriptor.index-a.descriptor.index})[0]||null,ho=ze(function(t,n){const r=n[t.line];return{value:r,point:tr(t.line,r)}});const vC=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return tr(r.line,t[r.line]);const s=e.subject.page.contentBox[r.size],c=Kr(e.descriptor.id,n).reduce((u,d)=>u+d.client.marginBox[r.size],0)+t[r.line]-s;return c<=0?null:tr(r.line,c)},ty=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),ny=(e,t,n)=>{const r=e.frame;Qr(t,e)&&W(),e.subject.withPlaceholder&&W();const s=ho(e.axis,t.displaceBy).point,o=vC(e,s,n),i={placeholderSize:s,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const d=Lr({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame});return{...e,subject:d}}const a=o?He(r.scroll.max,o):r.scroll.max,c=ty(r,a),u=Lr({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:c});return{...e,subject:u,frame:c}},xC=e=>{const t=e.subject.withPlaceholder;t||W();const n=e.frame;if(!n){const i=Lr({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:i}}const r=t.oldFrameMaxScroll;r||W();const s=ty(n,r),o=Lr({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return{...e,subject:o,frame:s}};var _C=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:s,destination:o,viewport:i,afterCritical:a})=>{if(!t){if(n.length)return null;const f={displaced:Ks,displacedBy:Kg,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},p=pl({impact:f,draggable:r,droppable:o,draggables:s,afterCritical:a}),m=Qr(r,o)?o:ny(o,r,s);return ey({draggable:r,destination:m,newPageBorderBoxCenter:p,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const c=e[o.axis.line]<=t.page.borderBox.center[o.axis.line],u=(()=>{const f=t.descriptor.index;return t.descriptor.id===r.descriptor.id||c?f:f+1})(),d=ho(o.axis,r.displaceBy);return Li({draggable:r,insideDestination:n,destination:o,viewport:i,displacedBy:d,last:Ks,index:u})},wC=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:s,droppables:o,viewport:i,afterCritical:a})=>{const c=hC({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:o,viewport:i});if(!c)return null;const u=Kr(c.descriptor.id,s),d=yC({pageBorderBoxCenter:t,viewport:i,destination:c,insideDestination:u,afterCritical:a}),f=_C({previousPageBorderBoxCenter:t,destination:c,draggable:n,draggables:s,moveRelativeTo:d,insideDestination:u,viewport:i,afterCritical:a});if(!f)return null;const p=pl({impact:f,draggable:n,droppable:c,draggables:s,afterCritical:a});return{clientSelection:Tu({pageBorderBoxCenter:p,draggable:n,viewport:i}),impact:f,scrollJumpRequest:null}},yt=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const bC=(e,t)=>{const n=yt(e);return n?t[n]:null};var SC=({state:e,type:t})=>{const n=bC(e.impact,e.dimensions.droppables),r=!!n,s=e.dimensions.droppables[e.critical.droppable.id],o=n||s,i=o.axis.direction,a=i==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||i==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(a&&!r)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],d=e.current.page.borderBoxCenter,{draggables:f,droppables:p}=e.dimensions;return a?mC({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:o,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):wC({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:o,draggables:f,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function zn(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function ry(e){const t=Pt(e.top,e.bottom),n=Pt(e.left,e.right);return function(s){return t(s.y)&&n(s.x)}}function CC(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function jC({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,s=n.map(o=>{const i=o.axis,a=tr(o.axis.line,e.center[i.line],o.page.borderBox.center[i.crossAxisLine]);return{id:o.descriptor.id,distance:Gs(r,a)}}).sort((o,i)=>i.distance-o.distance);return s[0]?s[0].id:null}function kC({pageBorderBox:e,draggable:t,droppables:n}){const r=ul(n).filter(s=>{if(!s.isEnabled)return!1;const o=s.subject.active;if(!o||!CC(e,o))return!1;if(ry(o)(e.center))return!0;const i=s.axis,a=o.center[i.crossAxisLine],c=e[i.crossAxisStart],u=e[i.crossAxisEnd],d=Pt(o[i.crossAxisStart],o[i.crossAxisEnd]),f=d(c),p=d(u);return!f&&!p?!0:f?c<a:u>a});return r.length?r.length===1?r[0].descriptor.id:jC({pageBorderBox:e,draggable:t,candidates:r}):null}const sy=(e,t)=>Mt(mo(e,t));var EC=(e,t)=>{const n=e.frame;return n?sy(t,n.scroll.diff.value):t};function oy({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function NC({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var DC=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:s,viewport:o,afterCritical:i})=>{const a=n.axis,c=ho(n.axis,t.displaceBy),u=c.value,d=e[a.start],f=e[a.end],m=fl(t,r).find(v=>{const g=v.descriptor.id,x=v.page.borderBox.center[a.line],y=Pn(g,i),_=oy({displaced:s,id:g});return y?_?f<=x:d<x-u:_?f<=x+u:d<x})||null,h=NC({draggable:t,closest:m,inHomeList:Qr(t,n)});return Li({draggable:t,insideDestination:r,destination:n,viewport:o,last:s,displacedBy:c,index:h})};const RC=4;var PC=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:s,afterCritical:o})=>{if(!r.isCombineEnabled)return null;const i=r.axis,a=ho(r.axis,e.displaceBy),c=a.value,u=t[i.start],d=t[i.end],p=fl(e,s).find(h=>{const v=h.descriptor.id,g=h.page.borderBox,y=g[i.size]/RC,_=Pn(v,o),C=oy({displaced:n.displaced,id:v});return _?C?d>g[i.start]+y&&d<g[i.end]-y:u>g[i.start]-c+y&&u<g[i.end]-c-y:C?d>g[i.start]+c+y&&d<g[i.end]+c-y:u>g[i.start]+y&&u<g[i.end]-y});return p?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:r.descriptor.id}}}:null},iy=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:s,viewport:o,afterCritical:i})=>{const a=sy(t.page.borderBox,e),c=kC({pageBorderBox:a,draggable:t,droppables:r});if(!c)return VS;const u=r[c],d=Kr(u.descriptor.id,n),f=EC(u,a);return PC({pageBorderBoxWithDroppableScroll:f,draggable:t,previousImpact:s,destination:u,insideDestination:d,afterCritical:i})||DC({pageBorderBoxWithDroppableScroll:f,draggable:t,destination:u,insideDestination:d,last:s.displaced,viewport:o,afterCritical:i})},Lu=(e,t)=>({...e,[t.descriptor.id]:t});const IC=({previousImpact:e,impact:t,droppables:n})=>{const r=yt(e),s=yt(t);if(!r||r===s)return n;const o=n[r];if(!o.subject.withPlaceholder)return n;const i=xC(o);return Lu(n,i)};var AC=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:s})=>{const o=IC({previousImpact:r,impact:s,droppables:n}),i=yt(s);if(!i)return o;const a=n[i];if(Qr(e,a)||a.subject.withPlaceholder)return o;const c=ny(a,e,t);return Lu(o,c)},Cs=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:s,scrollJumpRequest:o})=>{const i=r||e.viewport,a=n||e.dimensions,c=t||e.current.client.selection,u=ht(c,e.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:He(e.initial.client.borderBoxCenter,u)},f={selection:He(d.selection,i.scroll.current),borderBoxCenter:He(d.borderBoxCenter,i.scroll.current),offset:He(d.offset,i.scroll.diff.value)},p={client:d,page:f};if(e.phase==="COLLECTING")return{...e,dimensions:a,viewport:i,current:p};const m=a.draggables[e.critical.draggable.id],h=s||iy({pageOffset:f.offset,draggable:m,draggables:a.draggables,droppables:a.droppables,previousImpact:e.impact,viewport:i,afterCritical:e.afterCritical}),v=AC({draggable:m,impact:h,previousImpact:e.impact,draggables:a.draggables,droppables:a.droppables});return{...e,current:p,dimensions:{draggables:a.draggables,droppables:v},impact:h,viewport:i,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function OC(e,t){return e.map(n=>t[n])}var ly=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:s})=>{const o=e.displaced,i=OC(o.all,n),a=Qs({afterDragging:i,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:s,last:o});return{...e,displaced:a}},ay=({impact:e,draggable:t,droppable:n,draggables:r,viewport:s,afterCritical:o})=>{const i=pl({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o});return Tu({pageBorderBoxCenter:i,draggable:t,viewport:s})},cy=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&W();const r=e.impact,s=n||e.viewport,o=t||e.dimensions,{draggables:i,droppables:a}=o,c=i[e.critical.draggable.id],u=yt(r);u||W();const d=a[u],f=ly({impact:r,viewport:s,destination:d,draggables:i}),p=ay({impact:f,draggable:c,droppable:d,draggables:i,viewport:s,afterCritical:e.afterCritical});return Cs({impact:f,clientSelection:p,state:e,dimensions:o,viewport:s})},TC=e=>({index:e.index,droppableId:e.droppableId}),uy=({draggable:e,home:t,draggables:n,viewport:r})=>{const s=ho(t.axis,e.displaceBy),o=Kr(t.descriptor.id,n),i=o.indexOf(e);i===-1&&W();const a=o.slice(i+1),c=a.reduce((p,m)=>(p[m.descriptor.id]=!0,p),{}),u={inVirtualList:t.descriptor.mode==="virtual",displacedBy:s,effected:c};return{impact:{displaced:Qs({afterDragging:a,destination:t,displacedBy:s,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:TC(e.descriptor)}},afterCritical:u}},LC=(e,t)=>({draggables:e.draggables,droppables:Lu(e.droppables,t)}),FC=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Pi(e.client,t),s=Ii(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:s}},MC=e=>{const t=e.frame;return t||W(),t},BC=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(s=>{const o=s.descriptor.droppableId,i=t[o],c=MC(i).scroll.diff.value,u=He(r,c);return FC({draggable:s,offset:u,initialWindowScroll:n.scroll.initial})})},zC=({state:e,published:t})=>{const n=t.modified.map(x=>{const y=e.dimensions.droppables[x.droppableId];return Ru(y,x.scroll)}),r={...e.dimensions.droppables,...qg(n)},s=Gg(BC({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),o={...e.dimensions.draggables,...s};t.removals.forEach(x=>{delete o[x]});const i={droppables:r,draggables:o},a=yt(e.impact),c=a?i.droppables[a]:null,u=i.draggables[e.critical.draggable.id],d=i.droppables[e.critical.droppable.id],{impact:f,afterCritical:p}=uy({draggable:u,home:d,draggables:o,viewport:e.viewport}),m=c&&c.isCombineEnabled?e.impact:f,h=iy({pageOffset:e.current.page.offset,draggable:i.draggables[e.critical.draggable.id],draggables:i.draggables,droppables:i.droppables,previousImpact:m,viewport:e.viewport,afterCritical:p}),v={...e,phase:"DRAGGING",impact:h,onLiftImpact:f,dimensions:i,afterCritical:p,forceShouldAnimate:!1};return e.phase==="COLLECTING"?v:{...v,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const hc=e=>e.movementMode==="SNAP",na=(e,t,n)=>{const r=LC(e.dimensions,t);return!hc(e)||n?Cs({state:e,dimensions:r}):cy({state:e,dimensions:r})};function ra(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const ip={phase:"IDLE",completed:null,shouldFlush:!1};var $C=(e=ip,t)=>{if(t.type==="FLUSH")return{...ip,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&W();const{critical:n,clientSelection:r,viewport:s,dimensions:o,movementMode:i}=t.payload,a=o.draggables[n.draggable.id],c=o.droppables[n.droppable.id],u={selection:r,borderBoxCenter:a.client.borderBox.center,offset:$e},d={client:u,page:{selection:He(u.selection,s.scroll.initial),borderBoxCenter:He(u.selection,s.scroll.initial),offset:He(u.selection,s.scroll.diff.value)}},f=ul(o.droppables).every(v=>!v.isFixedOnPage),{impact:p,afterCritical:m}=uy({draggable:a,home:c,draggables:o.draggables,viewport:s});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:i,dimensions:o,initial:d,current:d,isWindowScrollAllowed:f,impact:p,afterCritical:m,onLiftImpact:p,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&W(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||W(),zC({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;zn(e)||W();const{client:n}=t.payload;return Nn(n,e.current.client.selection)?e:Cs({state:e,clientSelection:n,impact:hc(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return ra(e);zn(e)||W();const{id:n,newScroll:r}=t.payload,s=e.dimensions.droppables[n];if(!s)return e;const o=Ru(s,r);return na(e,o,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;zn(e)||W();const{id:n,isEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||W(),s.isEnabled===r&&W();const o={...s,isEnabled:r};return na(e,o,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;zn(e)||W();const{id:n,isCombineEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||W(),s.isCombineEnabled===r&&W();const o={...s,isCombineEnabled:r};return na(e,o,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;zn(e)||W(),e.isWindowScrollAllowed||W();const n=t.payload.newScroll;if(Nn(e.viewport.scroll.current,n))return ra(e);const r=Xg(e.viewport,n);return hc(e)?cy({state:e,viewport:r}):Cs({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!zn(e))return e;const n=t.payload.maxScroll;if(Nn(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&W();const n=SC({state:e,type:t.type});return n?Cs({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&W(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:s}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||W(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:s,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function pe(e,t){return e instanceof Object&&"type"in e&&e.type===t}const UC=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),WC=e=>({type:"LIFT",payload:e}),HC=e=>({type:"INITIAL_PUBLISH",payload:e}),VC=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),qC=()=>({type:"COLLECTION_STARTING",payload:null}),GC=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),KC=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),QC=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),dy=e=>({type:"MOVE",payload:e}),YC=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),JC=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),ZC=()=>({type:"MOVE_UP",payload:null}),XC=()=>({type:"MOVE_DOWN",payload:null}),ej=()=>({type:"MOVE_RIGHT",payload:null}),tj=()=>({type:"MOVE_LEFT",payload:null}),Fu=()=>({type:"FLUSH",payload:null}),nj=e=>({type:"DROP_ANIMATE",payload:e}),Mu=e=>({type:"DROP_COMPLETE",payload:e}),fy=e=>({type:"DROP",payload:e}),rj=e=>({type:"DROP_PENDING",payload:e}),py=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var sj=e=>({getState:t,dispatch:n})=>r=>s=>{if(!pe(s,"LIFT")){r(s);return}const{id:o,clientSelection:i,movementMode:a}=s.payload,c=t();c.phase==="DROP_ANIMATING"&&n(Mu({completed:c.completed})),t().phase!=="IDLE"&&W(),n(Fu()),n(UC({draggableId:o,movementMode:a}));const d={draggableId:o,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:f,dimensions:p,viewport:m}=e.startPublishing(d);n(HC({critical:f,dimensions:p,clientSelection:i,movementMode:a,viewport:m}))},oj=e=>()=>t=>n=>{pe(n,"INITIAL_PUBLISH")&&e.dragging(),pe(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(pe(n,"FLUSH")||pe(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const Bu={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ys={opacity:{drop:0,combining:.7},scale:{drop:.75}},my={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Fn=`${my.outOfTheWay}s ${Bu.outOfTheWay}`,js={fluid:`opacity ${Fn}`,snap:`transform ${Fn}, opacity ${Fn}`,drop:e=>{const t=`${e}s ${Bu.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Fn}`,placeholder:`height ${Fn}, width ${Fn}, margin ${Fn}`},lp=e=>Nn(e,$e)?void 0:`translate(${e.x}px, ${e.y}px)`,gc={moveTo:lp,drop:(e,t)=>{const n=lp(e);if(n)return t?`${n} scale(${Ys.scale.drop})`:n}},{minDropTime:yc,maxDropTime:hy}=my,ij=hy-yc,ap=1500,lj=.6;var aj=({current:e,destination:t,reason:n})=>{const r=Gs(e,t);if(r<=0)return yc;if(r>=ap)return hy;const s=r/ap,o=yc+ij*s,i=n==="CANCEL"?o*lj:o;return Number(i.toFixed(2))},cj=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:s})=>{const{draggables:o,droppables:i}=n,a=yt(e),c=a?i[a]:null,u=i[t.descriptor.droppableId],d=ay({impact:e,draggable:t,draggables:o,afterCritical:s,droppable:c||u,viewport:r});return ht(d,t.client.borderBox.center)},uj=({draggables:e,reason:t,lastImpact:n,home:r,viewport:s,onLiftImpact:o})=>!n.at||t!=="DROP"?{impact:ly({draggables:e,impact:o,destination:r,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Ks},didDropInsideDroppable:!0};const dj=({getState:e,dispatch:t})=>n=>r=>{if(!pe(r,"DROP")){n(r);return}const s=e(),o=r.payload.reason;if(s.phase==="COLLECTING"){t(rj({reason:o}));return}if(s.phase==="IDLE")return;s.phase==="DROP_PENDING"&&s.isWaiting&&W(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||W();const a=s.critical,c=s.dimensions,u=c.draggables[s.critical.draggable.id],{impact:d,didDropInsideDroppable:f}=uj({reason:o,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),p=f?Pu(d):null,m=f?dl(d):null,h={index:a.draggable.index,droppableId:a.droppable.id},v={draggableId:u.descriptor.id,type:u.descriptor.type,source:h,reason:o,mode:s.movementMode,destination:p,combine:m},g=cj({impact:d,draggable:u,dimensions:c,viewport:s.viewport,afterCritical:s.afterCritical}),x={critical:s.critical,afterCritical:s.afterCritical,result:v,impact:d};if(!(!Nn(s.current.client.offset,g)||!!v.combine)){t(Mu({completed:x}));return}const _=aj({current:s.current.client.offset,destination:g,reason:o});t(nj({newHomeClientOffset:g,dropDuration:_,completed:x}))};var gy=()=>({x:window.pageXOffset,y:window.pageYOffset});function fj(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function pj({onWindowScroll:e}){function t(){e(gy())}const n=qs(t),r=fj(n);let s=En;function o(){return s!==En}function i(){o()&&W(),s=Dt(window,[r])}function a(){o()||W(),n.cancel(),s(),s=En}return{start:i,stop:a,isActive:o}}const mj=e=>pe(e,"DROP_COMPLETE")||pe(e,"DROP_ANIMATE")||pe(e,"FLUSH"),hj=e=>{const t=pj({onWindowScroll:n=>{e.dispatch(YC({newScroll:n}))}});return n=>r=>{!t.isActive()&&pe(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&mj(r)&&t.stop(),n(r)}};var gj=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),s=o=>{t||n||(t=!0,e(o),clearTimeout(r))};return s.wasCalled=()=>t,s},yj=()=>{const e=[],t=s=>{const o=e.findIndex(a=>a.timerId===s);o===-1&&W();const[i]=e.splice(o,1);i.callback()};return{add:s=>{const o=setTimeout(()=>t(o)),i={timerId:o,callback:s};e.push(i)},flush:()=>{if(!e.length)return;const s=[...e];e.length=0,s.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const vj=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,xj=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,_j=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},is=(e,t)=>{t()},Lo=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function sa(e,t,n,r){if(!e){n(r(t));return}const s=gj(n);e(t,{announce:s}),s.wasCalled()||n(r(t))}var wj=(e,t)=>{const n=yj();let r=null;const s=(f,p)=>{r&&W(),is("onBeforeCapture",()=>{const m=e().onBeforeCapture;m&&m({draggableId:f,mode:p})})},o=(f,p)=>{r&&W(),is("onBeforeDragStart",()=>{const m=e().onBeforeDragStart;m&&m(Lo(f,p))})},i=(f,p)=>{r&&W();const m=Lo(f,p);r={mode:p,lastCritical:f,lastLocation:m.source,lastCombine:null},n.add(()=>{is("onDragStart",()=>sa(e().onDragStart,m,t,ni.onDragStart))})},a=(f,p)=>{const m=Pu(p),h=dl(p);r||W();const v=!_j(f,r.lastCritical);v&&(r.lastCritical=f);const g=!vj(r.lastLocation,m);g&&(r.lastLocation=m);const x=!xj(r.lastCombine,h);if(x&&(r.lastCombine=h),!v&&!g&&!x)return;const y={...Lo(f,r.mode),combine:h,destination:m};n.add(()=>{is("onDragUpdate",()=>sa(e().onDragUpdate,y,t,ni.onDragUpdate))})},c=()=>{r||W(),n.flush()},u=f=>{r||W(),r=null,is("onDragEnd",()=>sa(e().onDragEnd,f,t,ni.onDragEnd))};return{beforeCapture:s,beforeStart:o,start:i,update:a,flush:c,drop:u,abort:()=>{if(!r)return;const f={...Lo(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(f)}}},bj=(e,t)=>{const n=wj(e,t);return r=>s=>o=>{if(pe(o,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(pe(o,"INITIAL_PUBLISH")){const a=o.payload.critical;n.beforeStart(a,o.payload.movementMode),s(o),n.start(a,o.payload.movementMode);return}if(pe(o,"DROP_COMPLETE")){const a=o.payload.completed.result;n.flush(),s(o),n.drop(a);return}if(s(o),pe(o,"FLUSH")){n.abort();return}const i=r.getState();i.phase==="DRAGGING"&&n.update(i.critical,i.impact)}};const Sj=e=>t=>n=>{if(!pe(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&W(),e.dispatch(Mu({completed:r.completed}))},Cj=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return s=>o=>{if((pe(o,"FLUSH")||pe(o,"DROP_COMPLETE")||pe(o,"DROP_ANIMATION_FINISHED"))&&r(),s(o),!pe(o,"DROP_ANIMATE"))return;const i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(py())}};n=requestAnimationFrame(()=>{n=null,t=Dt(window,[i])})}};var jj=e=>()=>t=>n=>{(pe(n,"DROP_COMPLETE")||pe(n,"FLUSH")||pe(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},kj=e=>{let t=!1;return()=>n=>r=>{if(pe(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(pe(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(pe(r,"DROP_COMPLETE")){t=!1;const s=r.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const Ej=e=>pe(e,"DROP_COMPLETE")||pe(e,"DROP_ANIMATE")||pe(e,"FLUSH");var Nj=e=>t=>n=>r=>{if(Ej(r)){e.stop(),n(r);return}if(pe(r,"INITIAL_PUBLISH")){n(r);const s=t.getState();s.phase!=="DRAGGING"&&W(),e.start(s);return}n(r),e.scroll(t.getState())};const Dj=e=>t=>n=>{if(t(n),!pe(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(fy({reason:r.reason})))},Rj=Ig;var Pj=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:s,autoScroller:o})=>Pg($C,Rj(C1(oj(n),jj(e),sj(e),dj,Sj,Cj,Dj,Nj(o),hj,kj(t),bj(r,s))));const oa=()=>({additions:{},removals:{},modified:{}});function Ij({registry:e,callbacks:t}){let n=oa(),r=null;const s=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:u,modified:d}=n,f=Object.keys(c).map(h=>e.draggable.getById(h).getDimension($e)).sort((h,v)=>h.descriptor.index-v.descriptor.index),p=Object.keys(d).map(h=>{const g=e.droppable.getById(h).callbacks.getScrollWhileDragging();return{droppableId:h,scroll:g}}),m={additions:f,removals:Object.keys(u),modified:p};n=oa(),t.publish(m)}))};return{add:c=>{const u=c.descriptor.id;n.additions[u]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],s()},remove:c=>{const u=c.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],s()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=oa())}}}var yy=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const s=ht({x:t,y:e},{x:r,y:n});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},vy=()=>{const e=document.documentElement;return e||W(),e},xy=()=>{const e=vy();return yy({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Aj=()=>{const e=gy(),t=xy(),n=e.y,r=e.x,s=vy(),o=s.clientWidth,i=s.clientHeight,a=r+o,c=n+i;return{frame:Mt({top:n,left:r,right:a,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:$e,displacement:$e}}}},Oj=({critical:e,scrollOptions:t,registry:n})=>{const r=Aj(),s=r.scroll.current,o=e.droppable,i=n.droppable.getAllByType(o.type).map(d=>d.callbacks.getDimensionAndWatchScroll(s,t)),a=n.draggable.getAllByType(e.draggable.type).map(d=>d.getDimension(s));return{dimensions:{draggables:Gg(a),droppables:qg(i)},critical:e,viewport:r}};function cp(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var Tj=(e,t)=>{let n=null;const r=Ij({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=(p,m)=>{e.droppable.exists(p)||W(),n&&t.updateDroppableIsEnabled({id:p,isEnabled:m})},o=(p,m)=>{n&&(e.droppable.exists(p)||W(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:m}))},i=(p,m)=>{n&&(e.droppable.exists(p)||W(),t.updateDroppableScroll({id:p,newScroll:m}))},a=(p,m)=>{n&&e.droppable.getById(p).callbacks.scroll(m)},c=()=>{if(!n)return;r.stop();const p=n.critical.droppable;e.droppable.getAllByType(p.type).forEach(m=>m.callbacks.dragStopped()),n.unsubscribe(),n=null},u=p=>{n||W();const m=n.critical.draggable;p.type==="ADDITION"&&cp(e,m,p.value)&&r.add(p.value),p.type==="REMOVAL"&&cp(e,m,p.value)&&r.remove(p.value)};return{updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:i,startPublishing:p=>{n&&W();const m=e.draggable.getById(p.draggableId),h=e.droppable.getById(m.descriptor.droppableId),v={draggable:m.descriptor,droppable:h.descriptor},g=e.subscribe(u);return n={critical:v,unsubscribe:g},Oj({critical:v,registry:e,scrollOptions:p.scrollOptions})},stopPublishing:c}},_y=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",Lj=e=>{window.scrollBy(e.x,e.y)};const Fj=ze(e=>ul(e).filter(t=>!(!t.isEnabled||!t.frame))),Mj=(e,t)=>Fj(t).find(r=>(r.frame||W(),ry(r.frame.pageMarginBox)(e)))||null;var Bj=({center:e,destination:t,droppables:n})=>{if(t){const s=n[t];return s.frame?s:null}return Mj(e,n)};const Js={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var zj=(e,t,n=()=>Js)=>{const r=n(),s=e[t.size]*r.startFromPercentage,o=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:s,maxScrollValueAt:o}},wy=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},zu=1,$j=(e,t,n=()=>Js)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return zu;const o=1-wy({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=r.maxPixelScroll*r.ease(o);return Math.ceil(i)},Uj=(e,t,n)=>{const r=n(),s=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,i=t,a=o,u=Date.now()-i;if(u>=o)return e;if(u<s)return zu;const d=wy({startOfRange:s,endOfRange:a,current:u}),f=e*r.ease(d);return Math.ceil(f)},up=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const o=$j(e,t,s);return o===0?0:r?Math.max(Uj(o,n,s),zu):o},dp=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const i=zj(e,r,o);return t[r.end]<t[r.start]?up({distanceToEdge:t[r.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o}):-1*up({distanceToEdge:t[r.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o})},Wj=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,s=t.width>e.width;return!s&&!r?n:s&&r?null:{x:s?0:n.x,y:r?0:n.y}};const Hj=Vg(e=>e===0?0:e);var by=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const i={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},a=dp({container:t,distanceToEdges:i,dragStartTime:e,axis:Iu,shouldUseTimeDampening:s,getAutoScrollerOptions:o}),c=dp({container:t,distanceToEdges:i,dragStartTime:e,axis:Yg,shouldUseTimeDampening:s,getAutoScrollerOptions:o}),u=Hj({x:c,y:a});if(Nn(u,$e))return null;const d=Wj({container:t,subject:n,proposedScroll:u});return d?Nn(d,$e)?null:d:null};const Vj=Vg(e=>e===0?0:e>0?1:-1),$u=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const s=He(t,r),o={x:e(s.x,n.x),y:e(s.y,n.y)};return Nn(o,$e)?null:o}})(),Sy=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},s=Vj(n),o=$u({max:r,current:t,change:s});return!o||s.x!==0&&o.x===0||s.y!==0&&o.y===0},Uu=(e,t)=>Sy({current:e.scroll.current,max:e.scroll.max,change:t}),qj=(e,t)=>{if(!Uu(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return $u({current:r,max:n,change:t})},Wu=(e,t)=>{const n=e.frame;return n?Sy({current:n.scroll.current,max:n.scroll.max,change:t}):!1},Gj=(e,t)=>{const n=e.frame;return!n||!Wu(e,t)?null:$u({current:n.scroll.current,max:n.scroll.max,change:t})};var Kj=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const i=by({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o});return i&&Uu(e,i)?i:null},Qj=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const i=e.frame;if(!i)return null;const a=by({dragStartTime:r,container:i.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o});return a&&Wu(e,a)?a:null},fp=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:s,getAutoScrollerOptions:o})=>{const i=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const f=e.viewport,p=Kj({dragStartTime:t,viewport:f,subject:c,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:o});if(p){r(p);return}}const u=Bj({center:i,destination:yt(e.impact),droppables:e.dimensions.droppables});if(!u)return;const d=Qj({dragStartTime:t,droppable:u,subject:c,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:o});d&&s(u.descriptor.id,d)},Yj=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Js})=>{const r=qs(e),s=qs(t);let o=null;const i=u=>{o||W();const{shouldUseTimeDampening:d,dragStartTime:f}=o;fp({state:u,scrollWindow:r,scrollDroppable:s,dragStartTime:f,shouldUseTimeDampening:d,getAutoScrollerOptions:n})};return{start:u=>{o&&W();const d=Date.now();let f=!1;const p=()=>{f=!0};fp({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p,getAutoScrollerOptions:n}),o={dragStartTime:d,shouldUseTimeDampening:f},f&&i(u)},stop:()=>{o&&(r.cancel(),s.cancel(),o=null)},scroll:i}},Jj=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(a,c)=>{const u=He(a.current.client.selection,c);e({client:u})},s=(a,c)=>{if(!Wu(a,c))return c;const u=Gj(a,c);if(!u)return t(a.descriptor.id,c),null;const d=ht(c,u);return t(a.descriptor.id,d),ht(c,d)},o=(a,c,u)=>{if(!a||!Uu(c,u))return u;const d=qj(c,u);if(!d)return n(u),null;const f=ht(u,d);return n(f),ht(u,f)};return a=>{const c=a.scrollJumpRequest;if(!c)return;const u=yt(a.impact);u||W();const d=s(a.dimensions.droppables[u],c);if(!d)return;const f=a.viewport,p=o(a.isWindowScrollAllowed,f,d);p&&r(a,p)}},Zj=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const s=Yj({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),o=Jj({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){s.scroll(c);return}c.scrollJumpRequest&&o(c)}},start:s.start,stop:s.stop}};const Fr="data-rfd",Mr=(()=>{const e=`${Fr}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),vc=(()=>{const e=`${Fr}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Xj=(()=>{const e=`${Fr}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),pp={contextId:`${Fr}-scroll-container-context-id`},ek=e=>t=>`[${t}="${e}"]`,ls=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),tk="pointer-events: none;";var nk=e=>{const t=ek(e),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Mr.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:tk,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${js.outOfTheWay};
    `;return{selector:t(vc.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),s={selector:t(Xj.contextId),styles:{always:"overflow-anchor: none;"}},i=[r,n,s,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:ls(i,"always"),resting:ls(i,"resting"),dragging:ls(i,"dragging"),dropAnimating:ls(i,"dropAnimating"),userCancel:ls(i,"userCancel")}};const vt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect,ia=()=>{const e=document.querySelector("head");return e||W(),e},mp=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function rk(e,t){const n=ue(()=>nk(e),[e]),r=w.useRef(null),s=w.useRef(null),o=K(ze(f=>{const p=s.current;p||W(),p.textContent=f}),[]),i=K(f=>{const p=r.current;p||W(),p.textContent=f},[]);vt(()=>{!r.current&&!s.current||W();const f=mp(t),p=mp(t);return r.current=f,s.current=p,f.setAttribute(`${Fr}-always`,e),p.setAttribute(`${Fr}-dynamic`,e),ia().appendChild(f),ia().appendChild(p),i(n.always),o(n.resting),()=>{const m=h=>{const v=h.current;v||W(),ia().removeChild(v),h.current=null};m(r),m(s)}},[t,i,o,n.always,n.resting,e]);const a=K(()=>o(n.dragging),[o,n.dragging]),c=K(f=>{if(f==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),u=K(()=>{s.current&&o(n.resting)},[o,n.resting]);return ue(()=>({dragging:a,dropping:c,resting:u}),[a,c,u])}function Cy(e,t){return Array.from(e.querySelectorAll(t))}var jy=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function ml(e){return e instanceof jy(e).HTMLElement}function sk(e,t){const n=`[${Mr.contextId}="${e}"]`,r=Cy(document,n);if(!r.length)return null;const s=r.find(o=>o.getAttribute(Mr.draggableId)===t);return!s||!ml(s)?null:s}function ok(e){const t=w.useRef({}),n=w.useRef(null),r=w.useRef(null),s=w.useRef(!1),o=K(function(p,m){const h={id:p,focus:m};return t.current[p]=h,function(){const g=t.current;g[p]!==h&&delete g[p]}},[]),i=K(function(p){const m=sk(e,p);m&&m!==document.activeElement&&m.focus()},[e]),a=K(function(p,m){n.current===p&&(n.current=m)},[]),c=K(function(){r.current||s.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const p=n.current;p&&i(p)}))},[i]),u=K(function(p){n.current=null;const m=document.activeElement;m&&m.getAttribute(Mr.draggableId)===p&&(n.current=p)},[]);return vt(()=>(s.current=!0,function(){s.current=!1;const p=r.current;p&&cancelAnimationFrame(p)}),[]),ue(()=>({register:o,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:a}),[o,u,c,a])}function ik(){const e={draggables:{},droppables:{}},t=[];function n(f){return t.push(f),function(){const m=t.indexOf(f);m!==-1&&t.splice(m,1)}}function r(f){t.length&&t.forEach(p=>p(f))}function s(f){return e.draggables[f]||null}function o(f){const p=s(f);return p||W(),p}const i={register:f=>{e.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:(f,p)=>{const m=e.draggables[p.descriptor.id];m&&m.uniqueId===f.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:f=>{const p=f.descriptor.id,m=s(p);m&&f.uniqueId===m.uniqueId&&(delete e.draggables[p],e.droppables[f.descriptor.droppableId]&&r({type:"REMOVAL",value:f}))},getById:o,findById:s,exists:f=>!!s(f),getAllByType:f=>Object.values(e.draggables).filter(p=>p.descriptor.type===f)};function a(f){return e.droppables[f]||null}function c(f){const p=a(f);return p||W(),p}const u={register:f=>{e.droppables[f.descriptor.id]=f},unregister:f=>{const p=a(f.descriptor.id);p&&f.uniqueId===p.uniqueId&&delete e.droppables[f.descriptor.id]},getById:c,findById:a,exists:f=>!!a(f),getAllByType:f=>Object.values(e.droppables).filter(p=>p.descriptor.type===f)};function d(){e.draggables={},e.droppables={},t.length=0}return{draggable:i,droppable:u,subscribe:n,clean:d}}function lk(){const e=ue(ik,[]);return w.useEffect(()=>function(){e.clean()},[e]),e}var Hu=ce.createContext(null),Fi=()=>{const e=document.body;return e||W(),e};const ak={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},ck=e=>`rfd-announcement-${e}`;function uk(e){const t=ue(()=>ck(e),[e]),n=w.useRef(null);return w.useEffect(function(){const o=document.createElement("div");return n.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),Ai(o.style,ak),Fi().appendChild(o),function(){setTimeout(function(){const c=Fi();c.contains(o)&&c.removeChild(o),o===n.current&&(n.current=null)})}},[t]),K(s=>{const o=n.current;if(o){o.textContent=s;return}},[])}const dk={separator:"::"};function Vu(e,t=dk){const n=ce.useId();return ue(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function fk({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function pk({contextId:e,text:t}){const n=Vu("hidden-text",{separator:"-"}),r=ue(()=>fk({contextId:e,uniqueId:n}),[n,e]);return w.useEffect(function(){const o=document.createElement("div");return o.id=r,o.textContent=t,o.style.display="none",Fi().appendChild(o),function(){const a=Fi();a.contains(o)&&a.removeChild(o)}},[r,t]),r}var hl=ce.createContext(null);function ky(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),t}function mk(){let e=null;function t(){return!!e}function n(i){return i===e}function r(i){e&&W();const a={abandon:i};return e=a,a}function s(){e||W(),e=null}function o(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:n,claim:r,release:s,tryAbandon:o}}function Zs(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const hk=9,gk=13,qu=27,Ey=32,yk=33,vk=34,xk=35,_k=36,wk=37,bk=38,Sk=39,Ck=40,jk={[gk]:!0,[hk]:!0};var Ny=e=>{jk[e.keyCode]&&e.preventDefault()};const gl=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),Dy=0,hp=5;function kk(e,t){return Math.abs(t.x-e.x)>=hp||Math.abs(t.y-e.y)>=hp}const gp={type:"IDLE"};function Ek({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:s=>{const{button:o,clientX:i,clientY:a}=s;if(o!==Dy)return;const c={x:i,y:a},u=n();if(u.type==="DRAGGING"){s.preventDefault(),u.actions.move(c);return}u.type!=="PENDING"&&W();const d=u.point;if(!kk(d,c))return;s.preventDefault();const f=u.actions.fluidLift(c);r({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:s=>{const o=n();if(o.type!=="DRAGGING"){e();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:s=>{n().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:s=>{if(n().type==="PENDING"){e();return}if(s.keyCode===qu){s.preventDefault(),e();return}Ny(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:s=>{const o=n();if(o.type==="IDLE"&&W(),o.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:gl,fn:e}]}function Nk(e){const t=w.useRef(gp),n=w.useRef(En),r=ue(()=>({eventName:"mousedown",fn:function(f){if(f.defaultPrevented||f.button!==Dy||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const p=e.findClosestDraggableId(f);if(!p)return;const m=e.tryGetLock(p,i,{sourceEvent:f});if(!m)return;f.preventDefault();const h={x:f.clientX,y:f.clientY};n.current(),u(m,h)}}),[e]),s=ue(()=>({eventName:"webkitmouseforcewillbegin",fn:d=>{if(d.defaultPrevented)return;const f=e.findClosestDraggableId(d);if(!f)return;const p=e.findOptionsForDraggable(f);p&&(p.shouldRespectForcePress||e.canGetLock(f)&&d.preventDefault())}}),[e]),o=K(function(){const f={passive:!1,capture:!0};n.current=Dt(window,[s,r],f)},[s,r]),i=K(()=>{t.current.type!=="IDLE"&&(t.current=gp,n.current(),o())},[o]),a=K(()=>{const d=t.current;i(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[i]),c=K(function(){const f={capture:!0,passive:!1},p=Ek({cancel:a,completed:i,getPhase:()=>t.current,setPhase:m=>{t.current=m}});n.current=Dt(window,p,f)},[a,i]),u=K(function(f,p){t.current.type!=="IDLE"&&W(),t.current={type:"PENDING",point:p,actions:f},c()},[c]);vt(function(){return o(),function(){n.current()}},[o])}function Dk(){}const Rk={[vk]:!0,[yk]:!0,[_k]:!0,[xk]:!0};function Pk(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:s=>{if(s.keyCode===qu){s.preventDefault(),n();return}if(s.keyCode===Ey){s.preventDefault(),r();return}if(s.keyCode===Ck){s.preventDefault(),e.moveDown();return}if(s.keyCode===bk){s.preventDefault(),e.moveUp();return}if(s.keyCode===Sk){s.preventDefault(),e.moveRight();return}if(s.keyCode===wk){s.preventDefault(),e.moveLeft();return}if(Rk[s.keyCode]){s.preventDefault();return}Ny(s)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:gl,fn:n}]}function Ik(e){const t=w.useRef(Dk),n=ue(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==Ey)return;const i=e.findClosestDraggableId(o);if(!i)return;const a=e.tryGetLock(i,d,{sourceEvent:o});if(!a)return;o.preventDefault();let c=!0;const u=a.snapLift();t.current();function d(){c||W(),c=!1,t.current(),r()}t.current=Dt(window,Pk(u,d),{capture:!0,passive:!1})}}),[e]),r=K(function(){const o={passive:!1,capture:!0};t.current=Dt(window,[n],o)},[n]);vt(function(){return r(),function(){t.current()}},[r])}const la={type:"IDLE"},Ak=120,Ok=.15;function Tk({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===qu&&n.preventDefault(),e()}},{eventName:gl,fn:e}]}function Lk({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const s=n();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;const{clientX:o,clientY:i}=r.touches[0],a={x:o,y:i};r.preventDefault(),s.actions.move(a)}},{eventName:"touchend",fn:r=>{const s=n();if(s.type!=="DRAGGING"){e();return}r.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const s=n();s.type==="IDLE"&&W();const o=r.touches[0];if(!o||!(o.force>=Ok))return;const a=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){a&&e();return}if(a){if(s.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:gl,fn:e}]}function Fk(e){const t=w.useRef(la),n=w.useRef(En),r=K(function(){return t.current},[]),s=K(function(m){t.current=m},[]),o=ue(()=>({eventName:"touchstart",fn:function(m){if(m.defaultPrevented)return;const h=e.findClosestDraggableId(m);if(!h)return;const v=e.tryGetLock(h,a,{sourceEvent:m});if(!v)return;const g=m.touches[0],{clientX:x,clientY:y}=g,_={x,y};n.current(),f(v,_)}}),[e]),i=K(function(){const m={capture:!0,passive:!1};n.current=Dt(window,[o],m)},[o]),a=K(()=>{const p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),s(la),n.current(),i())},[i,s]),c=K(()=>{const p=t.current;a(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[a]),u=K(function(){const m={capture:!0,passive:!1},h={cancel:c,completed:a,getPhase:r},v=Dt(window,Lk(h),m),g=Dt(window,Tk(h),m);n.current=function(){v(),g()}},[c,r,a]),d=K(function(){const m=r();m.type!=="PENDING"&&W();const h=m.actions.fluidLift(m.point);s({type:"DRAGGING",actions:h,hasMoved:!1})},[r,s]),f=K(function(m,h){r().type!=="IDLE"&&W();const v=setTimeout(d,Ak);s({type:"PENDING",point:h,actions:m,longPressTimerId:v}),u()},[u,r,s,d]);vt(function(){return i(),function(){n.current();const h=r();h.type==="PENDING"&&(clearTimeout(h.longPressTimerId),s(la))}},[r,i,s]),vt(function(){return Dt(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Mk=["input","button","textarea","select","option","optgroup","video","audio"];function Ry(e,t){if(t==null)return!1;if(Mk.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:Ry(e,t.parentElement)}function Bk(e,t){const n=t.target;return ml(n)?Ry(e,n):!1}var zk=e=>Mt(e.getBoundingClientRect()).center;function $k(e){return e instanceof jy(e).Element}const Uk=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function Py(e,t){return e==null?null:e[Uk](t)?e:Py(e.parentElement,t)}function Wk(e,t){return e.closest?e.closest(t):Py(e,t)}function Hk(e){return`[${Mr.contextId}="${e}"]`}function Vk(e,t){const n=t.target;if(!$k(n))return null;const r=Hk(e),s=Wk(n,r);return!s||!ml(s)?null:s}function qk(e,t){const n=Vk(e,t);return n?n.getAttribute(Mr.draggableId):null}function Gk(e,t){const n=`[${vc.contextId}="${e}"]`,s=Cy(document,n).find(o=>o.getAttribute(vc.id)===t);return!s||!ml(s)?null:s}function Kk(e){e.preventDefault()}function Fo({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function Iy({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const s=n.draggable.findById(r);return!(!s||!s.options.isEnabled||!_y(t.getState(),r))}function Qk({lockAPI:e,contextId:t,store:n,registry:r,draggableId:s,forceSensorStop:o,sourceEvent:i}){if(!Iy({lockAPI:e,store:n,registry:r,draggableId:s}))return null;const c=r.draggable.getById(s),u=Gk(t,c.descriptor.id);if(!u||i&&!c.options.canDragInteractiveElements&&Bk(u,i))return null;const d=e.claim(o||En);let f="PRE_DRAG";function p(){return c.options.shouldRespectForcePress}function m(){return e.isActive(d)}function h(k,D){Fo({expected:k,phase:f,isLockActive:m,shouldWarn:!0})&&n.dispatch(D())}const v=h.bind(null,"DRAGGING");function g(k){function D(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(D(),W()),n.dispatch(WC(k.liftActionArgs)),f="DRAGGING";function N(b,S={shouldBlockNextClick:!1}){if(k.cleanup(),S.shouldBlockNextClick){const j=Dt(window,[{eventName:"click",fn:Kk,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(j)}D(),n.dispatch(fy({reason:b}))}return{isActive:()=>Fo({expected:"DRAGGING",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:p,drop:b=>N("DROP",b),cancel:b=>N("CANCEL",b),...k.actions}}function x(k){const D=qs(b=>{v(()=>dy({client:b}))});return{...g({liftActionArgs:{id:s,clientSelection:k,movementMode:"FLUID"},cleanup:()=>D.cancel(),actions:{move:D}}),move:D}}function y(){const k={moveUp:()=>v(ZC),moveRight:()=>v(ej),moveDown:()=>v(XC),moveLeft:()=>v(tj)};return g({liftActionArgs:{id:s,clientSelection:zk(u),movementMode:"SNAP"},cleanup:En,actions:k})}function _(){Fo({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!0})&&e.release()}return{isActive:()=>Fo({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:p,fluidLift:x,snapLift:y,abort:_}}const Yk=[Nk,Ik,Fk];function Jk({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:s}){const o=[...s?Yk:[],...r||[]],i=w.useState(()=>mk())[0],a=K(function(g,x){Zs(g)&&!Zs(x)&&i.tryAbandon()},[i]);vt(function(){let g=t.getState();return t.subscribe(()=>{const y=t.getState();a(g,y),g=y})},[i,t,a]),vt(()=>i.tryAbandon,[i.tryAbandon]);const c=K(v=>Iy({lockAPI:i,registry:n,store:t,draggableId:v}),[i,n,t]),u=K((v,g,x)=>Qk({lockAPI:i,registry:n,contextId:e,store:t,draggableId:v,forceSensorStop:g||null,sourceEvent:x&&x.sourceEvent?x.sourceEvent:null}),[e,i,n,t]),d=K(v=>qk(e,v),[e]),f=K(v=>{const g=n.draggable.findById(v);return g?g.options:null},[n.draggable]),p=K(function(){i.isClaimed()&&(i.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Fu()))},[i,t]),m=K(()=>i.isClaimed(),[i]),h=ue(()=>({canGetLock:c,tryGetLock:u,findClosestDraggableId:d,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:m}),[c,u,d,f,p,m]);for(let v=0;v<o.length;v++)o[v](h)}const Zk=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};nl.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),Xk=e=>({...Js,...e.autoScrollerOptions,durationDampening:{...Js.durationDampening,...e.autoScrollerOptions}});function as(e){return e.current||W(),e.current}function eE(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:s,dragHandleUsageInstructions:o}=e,i=w.useRef(null),a=ky(e),c=K(()=>Zk(a.current),[a]),u=K(()=>Xk(a.current),[a]),d=uk(t),f=pk({contextId:t,text:o}),p=rk(t,s),m=K(j=>{as(i).dispatch(j)},[]),h=ue(()=>Hf({publishWhileDragging:VC,updateDroppableScroll:GC,updateDroppableIsEnabled:KC,updateDroppableIsCombineEnabled:QC,collectionStarting:qC},m),[m]),v=lk(),g=ue(()=>Tj(v,h),[v,h]),x=ue(()=>Zj({scrollWindow:Lj,scrollDroppable:g.scrollDroppable,getAutoScrollerOptions:u,...Hf({move:dy},m)}),[g.scrollDroppable,m,u]),y=ok(t),_=ue(()=>Pj({announce:d,autoScroller:x,dimensionMarshal:g,focusMarshal:y,getResponders:c,styleMarshal:p}),[d,x,g,y,c,p]);i.current=_;const C=K(()=>{const j=as(i);j.getState().phase!=="IDLE"&&j.dispatch(Fu())},[]),k=K(()=>{const j=as(i).getState();return j.phase==="DROP_ANIMATING"?!0:j.phase==="IDLE"?!1:j.isDragging},[]),D=ue(()=>({isDragging:k,tryAbort:C}),[k,C]);n(D);const N=K(j=>_y(as(i).getState(),j),[]),b=K(()=>zn(as(i).getState()),[]),S=ue(()=>({marshal:g,focus:y,contextId:t,canLift:N,isMovementAllowed:b,dragHandleUsageInstructionsId:f,registry:v}),[t,g,f,y,N,b,v]);return Jk({contextId:t,store:_,registry:v,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),w.useEffect(()=>C,[C]),ce.createElement(hl.Provider,{value:S},ce.createElement(jS,{context:Hu,store:_},e.children))}function tE(){return ce.useId()}function Ay(e){const t=tE(),n=e.dragHandleUsageInstructions||ni.dragHandleUsageInstructions;return ce.createElement(IS,null,r=>ce.createElement(eE,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const yp={dragging:5e3,dropAnimating:4500},nE=(e,t)=>t?js.drop(t.duration):e?js.snap:js.fluid,rE=(e,t)=>{if(e)return t?Ys.opacity.drop:Ys.opacity.combining},sE=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function oE(e){const n=e.dimension.client,{offset:r,combineWith:s,dropping:o}=e,i=!!s,a=sE(e),c=!!o,u=c?gc.drop(r,i):gc.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:nE(a,o),transform:u,opacity:rE(i,c),zIndex:c?yp.dropAnimating:yp.dragging,pointerEvents:"none"}}function iE(e){return{transform:gc.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function lE(e){return e.type==="DRAGGING"?oE(e):iE(e)}function aE(e,t,n=$e){const r=window.getComputedStyle(t),s=t.getBoundingClientRect(),o=Bg(s,r),i=Ii(o,n),a={client:o,tagName:t.tagName.toLowerCase(),display:r.display},c={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:e,placeholder:a,displaceBy:c,client:o,page:i}}function cE(e){const t=Vu("draggable"),{descriptor:n,registry:r,getDraggableRef:s,canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:a}=e,c=ue(()=>({canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:a}),[o,a,i]),u=K(m=>{const h=s();return h||W(),aE(n,h,m)},[n,s]),d=ue(()=>({uniqueId:t,descriptor:n,options:c,getDimension:u}),[n,u,c,t]),f=w.useRef(d),p=w.useRef(!0);vt(()=>(r.draggable.register(f.current),()=>r.draggable.unregister(f.current)),[r.draggable]),vt(()=>{if(p.current){p.current=!1;return}const m=f.current;f.current=d,r.draggable.update(d,m)},[d,r.draggable])}var Gu=ce.createContext(null);function Mi(e){const t=w.useContext(e);return t||W(),t}function uE(e){e.preventDefault()}const dE=e=>{const t=w.useRef(null),n=K((D=null)=>{t.current=D},[]),r=K(()=>t.current,[]),{contextId:s,dragHandleUsageInstructionsId:o,registry:i}=Mi(hl),{type:a,droppableId:c}=Mi(Gu),u=ue(()=>({id:e.draggableId,index:e.index,type:a,droppableId:c}),[e.draggableId,e.index,a,c]),{children:d,draggableId:f,isEnabled:p,shouldRespectForcePress:m,canDragInteractiveElements:h,isClone:v,mapped:g,dropAnimationFinished:x}=e;if(!v){const D=ue(()=>({descriptor:u,registry:i,getDraggableRef:r,canDragInteractiveElements:h,shouldRespectForcePress:m,isEnabled:p}),[u,i,r,h,m,p]);cE(D)}const y=ue(()=>p?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:uE}:null,[s,o,f,p]),_=K(D=>{g.type==="DRAGGING"&&g.dropping&&D.propertyName==="transform"&&nl.flushSync(x)},[x,g]),C=ue(()=>{const D=lE(g),N=g.type==="DRAGGING"&&g.dropping?_:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":f,style:D,onTransitionEnd:N},dragHandleProps:y}},[s,y,f,g,_,n]),k=ue(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return ce.createElement(ce.Fragment,null,d(C,g.snapshot,k))};var Oy=(e,t)=>e===t,Ty=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const fE=e=>e.combine?e.combine.draggableId:null,pE=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function mE(){const e=ze((s,o)=>({x:s,y:o})),t=ze((s,o,i=null,a=null,c=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:i,combineWith:a,combineTargetFor:null})),n=ze((s,o,i,a,c=null,u=null,d=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:o,offset:s,dimension:i,forceShouldAnimate:d,snapshot:t(o,a,c,u,null)}}));return(s,o)=>{if(Zs(s)){if(s.critical.draggable.id!==o.draggableId)return null;const i=s.current.client.offset,a=s.dimensions.draggables[o.draggableId],c=yt(s.impact),u=pE(s.impact),d=s.forceShouldAnimate;return n(e(i.x,i.y),s.movementMode,a,o.isClone,c,u,d)}if(s.phase==="DROP_ANIMATING"){const i=s.completed;if(i.result.draggableId!==o.draggableId)return null;const a=o.isClone,c=s.dimensions.draggables[o.draggableId],u=i.result,d=u.mode,f=Ty(u),p=fE(u),h={duration:s.dropDuration,curve:Bu.drop,moveTo:s.newHomeClientOffset,opacity:p?Ys.opacity.drop:null,scale:p?Ys.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:c,dropping:h,draggingOver:f,combineWith:p,mode:d,forceShouldAnimate:null,snapshot:t(d,a,f,p,h)}}}return null}}function Ly(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const hE={mapped:{type:"SECONDARY",offset:$e,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Ly(null)}};function gE(){const e=ze((i,a)=>({x:i,y:a})),t=ze(Ly),n=ze((i,a=null,c)=>({mapped:{type:"SECONDARY",offset:i,combineTargetFor:a,shouldAnimateDisplacement:c,snapshot:t(a)}})),r=i=>i?n($e,i,!0):null,s=(i,a,c,u)=>{const d=c.displaced.visible[i],f=!!(u.inVirtualList&&u.effected[i]),p=dl(c),m=p&&p.draggableId===i?a:null;if(!d){if(!f)return r(m);if(c.displaced.invisible[i])return null;const g=Gr(u.displacedBy.point),x=e(g.x,g.y);return n(x,m,!0)}if(f)return r(m);const h=c.displacedBy.point,v=e(h.x,h.y);return n(v,m,d.shouldAnimate)};return(i,a)=>{if(Zs(i))return i.critical.draggable.id===a.draggableId?null:s(a.draggableId,i.critical.draggable.id,i.impact,i.afterCritical);if(i.phase==="DROP_ANIMATING"){const c=i.completed;return c.result.draggableId===a.draggableId?null:s(a.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const yE=()=>{const e=mE(),t=gE();return(r,s)=>e(r,s)||t(r,s)||hE},vE={dropAnimationFinished:py},xE=Mg(yE,vE,null,{context:Hu,areStatePropsEqual:Oy})(dE);function Fy(e){return Mi(Gu).isUsingCloneFor===e.draggableId&&!e.isClone?null:ce.createElement(xE,e)}function Ku(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return ce.createElement(Fy,Ai({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const My=e=>t=>e===t,_E=My("scroll"),wE=My("auto"),vp=(e,t)=>t(e.overflowX)||t(e.overflowY),bE=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return vp(n,_E)||vp(n,wE)},SE=()=>!1,By=e=>e==null?null:e===document.body?SE()?e:null:e===document.documentElement?null:bE(e)?e:By(e.parentElement);var xc=e=>({x:e.scrollLeft,y:e.scrollTop});const zy=e=>e?window.getComputedStyle(e).position==="fixed"?!0:zy(e.parentElement):!1;var CE=e=>{const t=By(e),n=zy(e);return{closestScrollable:t,isFixedOnPage:n}},jE=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:s,client:o,page:i,closest:a})=>{const c=(()=>{if(!a)return null;const{scrollSize:p,client:m}=a,h=yy({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:m,scrollSize:p,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:h,diff:{value:$e,displacement:$e}}}})(),u=s==="vertical"?Iu:Yg,d=Lr({page:i,withPlaceholder:null,axis:u,frame:c});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:t,client:o,page:i,frame:c,subject:d}};const kE=(e,t)=>{const n=zg(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,s=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,i=s+t.scrollWidth,c=Nu({top:r,right:i,bottom:o,left:s},n.border);return Du({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var EE=({ref:e,descriptor:t,env:n,windowScroll:r,direction:s,isDropDisabled:o,isCombineEnabled:i,shouldClipSubject:a})=>{const c=n.closestScrollable,u=kE(e,c),d=Ii(u,r),f=(()=>{if(!c)return null;const m=zg(c),h={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:m,page:Ii(m,r),scroll:xc(c),scrollSize:h,shouldClipSubject:a}})();return jE({descriptor:t,isEnabled:!o,isCombineEnabled:i,isFixedOnPage:n.isFixedOnPage,direction:s,client:u,page:d,closest:f})};const NE={passive:!1},DE={passive:!0};var xp=e=>e.shouldPublishImmediately?NE:DE;const Mo=e=>e&&e.env.closestScrollable||null;function RE(e){const t=w.useRef(null),n=Mi(hl),r=Vu("droppable"),{registry:s,marshal:o}=n,i=ky(e),a=ue(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=w.useRef(a),u=ue(()=>ze((C,k)=>{t.current||W();const D={x:C,y:k};o.updateDroppableScroll(a.id,D)}),[a.id,o]),d=K(()=>{const C=t.current;return!C||!C.env.closestScrollable?$e:xc(C.env.closestScrollable)},[]),f=K(()=>{const C=d();u(C.x,C.y)},[d,u]),p=ue(()=>qs(f),[f]),m=K(()=>{const C=t.current,k=Mo(C);if(C&&k||W(),C.scrollOptions.shouldPublishImmediately){f();return}p()},[p,f]),h=K((C,k)=>{t.current&&W();const D=i.current,N=D.getDroppableRef();N||W();const b=CE(N),S={ref:N,descriptor:a,env:b,scrollOptions:k};t.current=S;const j=EE({ref:N,descriptor:a,env:b,windowScroll:C,direction:D.direction,isDropDisabled:D.isDropDisabled,isCombineEnabled:D.isCombineEnabled,shouldClipSubject:!D.ignoreContainerClipping}),E=b.closestScrollable;return E&&(E.setAttribute(pp.contextId,n.contextId),E.addEventListener("scroll",m,xp(S.scrollOptions))),j},[n.contextId,a,m,i]),v=K(()=>{const C=t.current,k=Mo(C);return C&&k||W(),xc(k)},[]),g=K(()=>{const C=t.current;C||W();const k=Mo(C);t.current=null,k&&(p.cancel(),k.removeAttribute(pp.contextId),k.removeEventListener("scroll",m,xp(C.scrollOptions)))},[m,p]),x=K(C=>{const k=t.current;k||W();const D=Mo(k);D||W(),D.scrollTop+=C.y,D.scrollLeft+=C.x},[]),y=ue(()=>({getDimensionAndWatchScroll:h,getScrollWhileDragging:v,dragStopped:g,scroll:x}),[g,h,v,x]),_=ue(()=>({uniqueId:r,descriptor:a,callbacks:y}),[y,a,r]);vt(()=>(c.current=_.descriptor,s.droppable.register(_),()=>{t.current&&g(),s.droppable.unregister(_)}),[y,a,g,_,o,s.droppable]),vt(()=>{t.current&&o.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),vt(()=>{t.current&&o.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function aa(){}const _p={width:0,height:0,margin:BS},PE=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?_p:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},IE=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=PE({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?js.placeholder:null}},AE=e=>{const t=w.useRef(null),n=K(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:s,onClose:o,contextId:i}=e,[a,c]=w.useState(e.animate==="open");w.useEffect(()=>a?r!=="open"?(n(),c(!1),aa):t.current?aa:(t.current=setTimeout(()=>{t.current=null,c(!1)}),n):aa,[r,a,n]);const u=K(f=>{f.propertyName==="height"&&(s(),r==="close"&&o())},[r,o,s]),d=IE({isAnimatingOpenOnMount:a,animate:e.animate,placeholder:e.placeholder});return ce.createElement(e.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":i,onTransitionEnd:u,ref:e.innerRef})};var OE=ce.memo(AE);class TE extends ce.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const LE=e=>{const t=w.useContext(hl);t||W();const{contextId:n,isMovementAllowed:r}=t,s=w.useRef(null),o=w.useRef(null),{children:i,droppableId:a,type:c,mode:u,direction:d,ignoreContainerClipping:f,isDropDisabled:p,isCombineEnabled:m,snapshot:h,useClone:v,updateViewportMaxScroll:g,getContainerForClone:x}=e,y=K(()=>s.current,[]),_=K((E=null)=>{s.current=E},[]);K(()=>o.current,[]);const C=K((E=null)=>{o.current=E},[]),k=K(()=>{r()&&g({maxScroll:xy()})},[r,g]);RE({droppableId:a,type:c,mode:u,direction:d,isDropDisabled:p,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:y});const D=ue(()=>ce.createElement(TE,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:E,data:P,animate:O})=>ce.createElement(OE,{placeholder:P,onClose:E,innerRef:C,animate:O,contextId:n,onTransitionEnd:k})),[n,k,e.placeholder,e.shouldAnimatePlaceholder,C]),N=ue(()=>({innerRef:_,placeholder:D,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,D,_]),b=v?v.dragging.draggableId:null,S=ue(()=>({droppableId:a,type:c,isUsingCloneFor:b}),[a,b,c]);function j(){if(!v)return null;const{dragging:E,render:P}=v,O=ce.createElement(Fy,{draggableId:E.draggableId,index:E.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(U,z)=>P(U,z,E));return E0.createPortal(O,x())}return ce.createElement(Gu.Provider,{value:S},i(N,h),j())};function FE(){return document.body||W(),document.body}const wp={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:FE},$y=e=>{let t={...e},n;for(n in wp)e[n]===void 0&&(t={...t,[n]:wp[n]});return t},ca=(e,t)=>e===t.droppable.type,bp=(e,t)=>t.draggables[e.draggable.id],ME=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=ze(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),r=ze((o,i,a,c,u,d)=>{const f=u.descriptor.id;if(u.descriptor.droppableId===o){const h=d?{render:d,dragging:n(u.descriptor)}:null,v={isDraggingOver:a,draggingOverWith:a?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:v,useClone:h}}if(!i)return t;if(!c)return e;const m={isDraggingOver:a,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(o,i)=>{const a=$y(i),c=a.droppableId,u=a.type,d=!a.isDropDisabled,f=a.renderClone;if(Zs(o)){const p=o.critical;if(!ca(u,p))return t;const m=bp(p,o.dimensions),h=yt(o.impact)===c;return r(c,d,h,h,m,f)}if(o.phase==="DROP_ANIMATING"){const p=o.completed;if(!ca(u,p.critical))return t;const m=bp(p.critical,o.dimensions);return r(c,d,Ty(p.result)===c,yt(p.impact)===c,m,f)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const p=o.completed;if(!ca(u,p.critical))return t;const m=yt(p.impact)===c,h=!!(p.impact.at&&p.impact.at.type==="COMBINE"),v=p.critical.droppable.id===c;return m?h?e:t:v?e:t}return t}},BE={updateViewportMaxScroll:JC},yl=Mg(ME,BE,(e,t,n)=>({...$y(n),...e,...t}),{context:Hu,areStatePropsEqual:Oy})(LE);var Uy={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,r)=>{e.exports=r()})(ev,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s,o=!r.document&&!!r.postMessage,i=r.IS_PAPA_WORKER||!1,a={},c=0,u={};function d(b){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(S){var j=k(S);j.chunkSize=parseInt(j.chunkSize),S.step||S.chunk||(j.chunkSize=null),this._handle=new v(j),(this._handle.streamer=this)._config=j}).call(this,b),this.parseChunk=function(S,j){var E=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<E){let O=this._config.newline;O||(P=this._config.quoteChar||'"',O=this._handle.guessLineEndings(S,P)),S=[...S.split(O).slice(E)].join(O)}this.isFirstChunk&&N(this._config.beforeFirstChunk)&&(P=this._config.beforeFirstChunk(S))!==void 0&&(S=P),this.isFirstChunk=!1,this._halted=!1;var E=this._partialLine+S,P=(this._partialLine="",this._handle.parse(E,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(S=P.meta.cursor,E=(this._finished||(this._partialLine=E.substring(S-this._baseIndex),this._baseIndex=S),P&&P.data&&(this._rowCount+=P.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),i)r.postMessage({results:P,workerId:u.WORKER_ID,finished:E});else if(N(this._config.chunk)&&!j){if(this._config.chunk(P,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=P=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(P.data),this._completeResults.errors=this._completeResults.errors.concat(P.errors),this._completeResults.meta=P.meta),this._completed||!E||!N(this._config.complete)||P&&P.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),E||P&&P.meta.paused||this._nextChunk(),P}this._halted=!0},this._sendError=function(S){N(this._config.error)?this._config.error(S):i&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:S,finished:!1})}}function f(b){var S;(b=b||{}).chunkSize||(b.chunkSize=u.RemoteChunkSize),d.call(this,b),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(j){this._input=j,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(S=new XMLHttpRequest,this._config.withCredentials&&(S.withCredentials=this._config.withCredentials),o||(S.onload=D(this._chunkLoaded,this),S.onerror=D(this._chunkError,this)),S.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var j,E=this._config.downloadRequestHeaders;for(j in E)S.setRequestHeader(j,E[j])}var P;this._config.chunkSize&&(P=this._start+this._config.chunkSize-1,S.setRequestHeader("Range","bytes="+this._start+"-"+P));try{S.send(this._config.downloadRequestBody)}catch(O){this._chunkError(O.message)}o&&S.status===0&&this._chunkError()}},this._chunkLoaded=function(){S.readyState===4&&(S.status<200||400<=S.status?this._chunkError():(this._start+=this._config.chunkSize||S.responseText.length,this._finished=!this._config.chunkSize||this._start>=(j=>(j=j.getResponseHeader("Content-Range"))!==null?parseInt(j.substring(j.lastIndexOf("/")+1)):-1)(S),this.parseChunk(S.responseText)))},this._chunkError=function(j){j=S.statusText||j,this._sendError(new Error(j))}}function p(b){(b=b||{}).chunkSize||(b.chunkSize=u.LocalChunkSize),d.call(this,b);var S,j,E=typeof FileReader<"u";this.stream=function(P){this._input=P,j=P.slice||P.webkitSlice||P.mozSlice,E?((S=new FileReader).onload=D(this._chunkLoaded,this),S.onerror=D(this._chunkError,this)):S=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var P=this._input,O=(this._config.chunkSize&&(O=Math.min(this._start+this._config.chunkSize,this._input.size),P=j.call(P,this._start,O)),S.readAsText(P,this._config.encoding));E||this._chunkLoaded({target:{result:O}})},this._chunkLoaded=function(P){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(P.target.result)},this._chunkError=function(){this._sendError(S.error)}}function m(b){var S;d.call(this,b=b||{}),this.stream=function(j){return S=j,this._nextChunk()},this._nextChunk=function(){var j,E;if(!this._finished)return j=this._config.chunkSize,S=j?(E=S.substring(0,j),S.substring(j)):(E=S,""),this._finished=!S,this.parseChunk(E)}}function h(b){d.call(this,b=b||{});var S=[],j=!0,E=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(P){this._input=P,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){E&&S.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),S.length?this.parseChunk(S.shift()):j=!0},this._streamData=D(function(P){try{S.push(typeof P=="string"?P:P.toString(this._config.encoding)),j&&(j=!1,this._checkIsFinished(),this.parseChunk(S.shift()))}catch(O){this._streamError(O)}},this),this._streamError=D(function(P){this._streamCleanUp(),this._sendError(P)},this),this._streamEnd=D(function(){this._streamCleanUp(),E=!0,this._streamData("")},this),this._streamCleanUp=D(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(b){var S,j,E,P,O=Math.pow(2,53),U=-O,z=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,F=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,H=this,R=0,I=0,L=!1,T=!1,M=[],$={data:[],errors:[],meta:{}};function J(se){return b.skipEmptyLines==="greedy"?se.join("").trim()==="":se.length===1&&se[0].length===0}function ee(){if($&&E&&(Ee("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),E=!1),b.skipEmptyLines&&($.data=$.data.filter(function(oe){return!J(oe)})),ae()){let oe=function(ge,G){N(b.transformHeader)&&(ge=b.transformHeader(ge,G)),M.push(ge)};var re=oe;if($)if(Array.isArray($.data[0])){for(var se=0;ae()&&se<$.data.length;se++)$.data[se].forEach(oe);$.data.splice(0,1)}else $.data.forEach(oe)}function ie(oe,ge){for(var G=b.header?{}:[],q=0;q<oe.length;q++){var Q=q,te=oe[q],te=((X,Z)=>(De=>(b.dynamicTypingFunction&&b.dynamicTyping[De]===void 0&&(b.dynamicTyping[De]=b.dynamicTypingFunction(De)),(b.dynamicTyping[De]||b.dynamicTyping)===!0))(X)?Z==="true"||Z==="TRUE"||Z!=="false"&&Z!=="FALSE"&&((De=>{if(z.test(De)&&(De=parseFloat(De),U<De&&De<O))return 1})(Z)?parseFloat(Z):F.test(Z)?new Date(Z):Z===""?null:Z):Z)(Q=b.header?q>=M.length?"__parsed_extra":M[q]:Q,te=b.transform?b.transform(te,Q):te);Q==="__parsed_extra"?(G[Q]=G[Q]||[],G[Q].push(te)):G[Q]=te}return b.header&&(q>M.length?Ee("FieldMismatch","TooManyFields","Too many fields: expected "+M.length+" fields but parsed "+q,I+ge):q<M.length&&Ee("FieldMismatch","TooFewFields","Too few fields: expected "+M.length+" fields but parsed "+q,I+ge)),G}var he;$&&(b.header||b.dynamicTyping||b.transform)&&(he=1,!$.data.length||Array.isArray($.data[0])?($.data=$.data.map(ie),he=$.data.length):$.data=ie($.data,0),b.header&&$.meta&&($.meta.fields=M),I+=he)}function ae(){return b.header&&M.length===0}function Ee(se,ie,he,re){se={type:se,code:ie,message:he},re!==void 0&&(se.row=re),$.errors.push(se)}N(b.step)&&(P=b.step,b.step=function(se){$=se,ae()?ee():(ee(),$.data.length!==0&&(R+=se.data.length,b.preview&&R>b.preview?j.abort():($.data=$.data[0],P($,H))))}),this.parse=function(se,ie,he){var re=b.quoteChar||'"',re=(b.newline||(b.newline=this.guessLineEndings(se,re)),E=!1,b.delimiter?N(b.delimiter)&&(b.delimiter=b.delimiter(se),$.meta.delimiter=b.delimiter):((re=((oe,ge,G,q,Q)=>{var te,X,Z,De;Q=Q||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var cn=0;cn<Q.length;cn++){for(var bt,Jt=Q[cn],Le=0,St=0,_e=0,Ue=(Z=void 0,new x({comments:q,delimiter:Jt,newline:ge,preview:10}).parse(oe)),Ct=0;Ct<Ue.data.length;Ct++)G&&J(Ue.data[Ct])?_e++:(bt=Ue.data[Ct].length,St+=bt,Z===void 0?Z=bt:0<bt&&(Le+=Math.abs(bt-Z),Z=bt));0<Ue.data.length&&(St/=Ue.data.length-_e),(X===void 0||Le<=X)&&(De===void 0||De<St)&&1.99<St&&(X=Le,te=Jt,De=St)}return{successful:!!(b.delimiter=te),bestDelimiter:te}})(se,b.newline,b.skipEmptyLines,b.comments,b.delimitersToGuess)).successful?b.delimiter=re.bestDelimiter:(E=!0,b.delimiter=u.DefaultDelimiter),$.meta.delimiter=b.delimiter),k(b));return b.preview&&b.header&&re.preview++,S=se,j=new x(re),$=j.parse(S,ie,he),ee(),L?{meta:{paused:!0}}:$||{meta:{paused:!1}}},this.paused=function(){return L},this.pause=function(){L=!0,j.abort(),S=N(b.chunk)?"":S.substring(j.getCharIndex())},this.resume=function(){H.streamer._halted?(L=!1,H.streamer.parseChunk(S,!0)):setTimeout(H.resume,3)},this.aborted=function(){return T},this.abort=function(){T=!0,j.abort(),$.meta.aborted=!0,N(b.complete)&&b.complete($),S=""},this.guessLineEndings=function(oe,re){oe=oe.substring(0,1048576);var re=new RegExp(g(re)+"([^]*?)"+g(re),"gm"),he=(oe=oe.replace(re,"")).split("\r"),re=oe.split(`
`),oe=1<re.length&&re[0].length<he[0].length;if(he.length===1||oe)return`
`;for(var ge=0,G=0;G<he.length;G++)he[G][0]===`
`&&ge++;return ge>=he.length/2?`\r
`:"\r"}}function g(b){return b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(b){var S=(b=b||{}).delimiter,j=b.newline,E=b.comments,P=b.step,O=b.preview,U=b.fastMode,z=null,F=!1,H=b.quoteChar==null?'"':b.quoteChar,R=H;if(b.escapeChar!==void 0&&(R=b.escapeChar),(typeof S!="string"||-1<u.BAD_DELIMITERS.indexOf(S))&&(S=","),E===S)throw new Error("Comment character same as delimiter");E===!0?E="#":(typeof E!="string"||-1<u.BAD_DELIMITERS.indexOf(E))&&(E=!1),j!==`
`&&j!=="\r"&&j!==`\r
`&&(j=`
`);var I=0,L=!1;this.parse=function(T,M,$){if(typeof T!="string")throw new Error("Input must be a string");var J=T.length,ee=S.length,ae=j.length,Ee=E.length,se=N(P),ie=[],he=[],re=[],oe=I=0;if(!T)return Le();if(U||U!==!1&&T.indexOf(H)===-1){for(var ge=T.split(j),G=0;G<ge.length;G++){if(re=ge[G],I+=re.length,G!==ge.length-1)I+=j.length;else if($)return Le();if(!E||re.substring(0,Ee)!==E){if(se){if(ie=[],De(re.split(S)),St(),L)return Le()}else De(re.split(S));if(O&&O<=G)return ie=ie.slice(0,O),Le(!0)}}return Le()}for(var q=T.indexOf(S,I),Q=T.indexOf(j,I),te=new RegExp(g(R)+g(H),"g"),X=T.indexOf(H,I);;)if(T[I]===H)for(X=I,I++;;){if((X=T.indexOf(H,X+1))===-1)return $||he.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ie.length,index:I}),bt();if(X===J-1)return bt(T.substring(I,X).replace(te,H));if(H===R&&T[X+1]===R)X++;else if(H===R||X===0||T[X-1]!==R){q!==-1&&q<X+1&&(q=T.indexOf(S,X+1));var Z=cn((Q=Q!==-1&&Q<X+1?T.indexOf(j,X+1):Q)===-1?q:Math.min(q,Q));if(T.substr(X+1+Z,ee)===S){re.push(T.substring(I,X).replace(te,H)),T[I=X+1+Z+ee]!==H&&(X=T.indexOf(H,I)),q=T.indexOf(S,I),Q=T.indexOf(j,I);break}if(Z=cn(Q),T.substring(X+1+Z,X+1+Z+ae)===j){if(re.push(T.substring(I,X).replace(te,H)),Jt(X+1+Z+ae),q=T.indexOf(S,I),X=T.indexOf(H,I),se&&(St(),L))return Le();if(O&&ie.length>=O)return Le(!0);break}he.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ie.length,index:I}),X++}}else if(E&&re.length===0&&T.substring(I,I+Ee)===E){if(Q===-1)return Le();I=Q+ae,Q=T.indexOf(j,I),q=T.indexOf(S,I)}else if(q!==-1&&(q<Q||Q===-1))re.push(T.substring(I,q)),I=q+ee,q=T.indexOf(S,I);else{if(Q===-1)break;if(re.push(T.substring(I,Q)),Jt(Q+ae),se&&(St(),L))return Le();if(O&&ie.length>=O)return Le(!0)}return bt();function De(_e){ie.push(_e),oe=I}function cn(_e){var Ue=0;return Ue=_e!==-1&&(_e=T.substring(X+1,_e))&&_e.trim()===""?_e.length:Ue}function bt(_e){return $||(_e===void 0&&(_e=T.substring(I)),re.push(_e),I=J,De(re),se&&St()),Le()}function Jt(_e){I=_e,De(re),re=[],Q=T.indexOf(j,I)}function Le(_e){if(b.header&&!M&&ie.length&&!F){var Ue=ie[0],Ct=Object.create(null),ir=new Set(Ue);let Ju=!1;for(let lr=0;lr<Ue.length;lr++){let Wt=Ue[lr];if(Ct[Wt=N(b.transformHeader)?b.transformHeader(Wt,lr):Wt]){let Yr,Zu=Ct[Wt];for(;Yr=Wt+"_"+Zu,Zu++,ir.has(Yr););ir.add(Yr),Ue[lr]=Yr,Ct[Wt]++,Ju=!0,(z=z===null?{}:z)[Yr]=Wt}else Ct[Wt]=1,Ue[lr]=Wt;ir.add(Wt)}Ju&&console.warn("Duplicate headers found and renamed."),F=!0}return{data:ie,errors:he,meta:{delimiter:S,linebreak:j,aborted:L,truncated:!!_e,cursor:oe+(M||0),renamedHeaders:z}}}function St(){P(Le()),ie=[],he=[]}},this.abort=function(){L=!0},this.getCharIndex=function(){return I}}function y(b){var S=b.data,j=a[S.workerId],E=!1;if(S.error)j.userError(S.error,S.file);else if(S.results&&S.results.data){var P={abort:function(){E=!0,_(S.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:C,resume:C};if(N(j.userStep)){for(var O=0;O<S.results.data.length&&(j.userStep({data:S.results.data[O],errors:S.results.errors,meta:S.results.meta},P),!E);O++);delete S.results}else N(j.userChunk)&&(j.userChunk(S.results,P,S.file),delete S.results)}S.finished&&!E&&_(S.workerId,S.results)}function _(b,S){var j=a[b];N(j.userComplete)&&j.userComplete(S),j.terminate(),delete a[b]}function C(){throw new Error("Not implemented.")}function k(b){if(typeof b!="object"||b===null)return b;var S,j=Array.isArray(b)?[]:{};for(S in b)j[S]=k(b[S]);return j}function D(b,S){return function(){b.apply(S,arguments)}}function N(b){return typeof b=="function"}return u.parse=function(b,S){var j=(S=S||{}).dynamicTyping||!1;if(N(j)&&(S.dynamicTypingFunction=j,j={}),S.dynamicTyping=j,S.transform=!!N(S.transform)&&S.transform,!S.worker||!u.WORKERS_SUPPORTED)return j=null,u.NODE_STREAM_INPUT,typeof b=="string"?(b=(E=>E.charCodeAt(0)!==65279?E:E.slice(1))(b),j=new(S.download?f:m)(S)):b.readable===!0&&N(b.read)&&N(b.on)?j=new h(S):(r.File&&b instanceof File||b instanceof Object)&&(j=new p(S)),j.stream(b);(j=(()=>{var E;return!!u.WORKERS_SUPPORTED&&(E=(()=>{var P=r.URL||r.webkitURL||null,O=n.toString();return u.BLOB_URL||(u.BLOB_URL=P.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",O,")();"],{type:"text/javascript"})))})(),(E=new r.Worker(E)).onmessage=y,E.id=c++,a[E.id]=E)})()).userStep=S.step,j.userChunk=S.chunk,j.userComplete=S.complete,j.userError=S.error,S.step=N(S.step),S.chunk=N(S.chunk),S.complete=N(S.complete),S.error=N(S.error),delete S.worker,j.postMessage({input:b,config:S,workerId:j.id})},u.unparse=function(b,S){var j=!1,E=!0,P=",",O=`\r
`,U='"',z=U+U,F=!1,H=null,R=!1,I=((()=>{if(typeof S=="object"){if(typeof S.delimiter!="string"||u.BAD_DELIMITERS.filter(function(M){return S.delimiter.indexOf(M)!==-1}).length||(P=S.delimiter),typeof S.quotes!="boolean"&&typeof S.quotes!="function"&&!Array.isArray(S.quotes)||(j=S.quotes),typeof S.skipEmptyLines!="boolean"&&typeof S.skipEmptyLines!="string"||(F=S.skipEmptyLines),typeof S.newline=="string"&&(O=S.newline),typeof S.quoteChar=="string"&&(U=S.quoteChar),typeof S.header=="boolean"&&(E=S.header),Array.isArray(S.columns)){if(S.columns.length===0)throw new Error("Option columns is empty");H=S.columns}S.escapeChar!==void 0&&(z=S.escapeChar+U),S.escapeFormulae instanceof RegExp?R=S.escapeFormulae:typeof S.escapeFormulae=="boolean"&&S.escapeFormulae&&(R=/^[=+\-@\t\r].*$/)}})(),new RegExp(g(U),"g"));if(typeof b=="string"&&(b=JSON.parse(b)),Array.isArray(b)){if(!b.length||Array.isArray(b[0]))return L(null,b,F);if(typeof b[0]=="object")return L(H||Object.keys(b[0]),b,F)}else if(typeof b=="object")return typeof b.data=="string"&&(b.data=JSON.parse(b.data)),Array.isArray(b.data)&&(b.fields||(b.fields=b.meta&&b.meta.fields||H),b.fields||(b.fields=Array.isArray(b.data[0])?b.fields:typeof b.data[0]=="object"?Object.keys(b.data[0]):[]),Array.isArray(b.data[0])||typeof b.data[0]=="object"||(b.data=[b.data])),L(b.fields||[],b.data||[],F);throw new Error("Unable to serialize unrecognized input");function L(M,$,J){var ee="",ae=(typeof M=="string"&&(M=JSON.parse(M)),typeof $=="string"&&($=JSON.parse($)),Array.isArray(M)&&0<M.length),Ee=!Array.isArray($[0]);if(ae&&E){for(var se=0;se<M.length;se++)0<se&&(ee+=P),ee+=T(M[se],se);0<$.length&&(ee+=O)}for(var ie=0;ie<$.length;ie++){var he=(ae?M:$[ie]).length,re=!1,oe=ae?Object.keys($[ie]).length===0:$[ie].length===0;if(J&&!ae&&(re=J==="greedy"?$[ie].join("").trim()==="":$[ie].length===1&&$[ie][0].length===0),J==="greedy"&&ae){for(var ge=[],G=0;G<he;G++){var q=Ee?M[G]:G;ge.push($[ie][q])}re=ge.join("").trim()===""}if(!re){for(var Q=0;Q<he;Q++){0<Q&&!oe&&(ee+=P);var te=ae&&Ee?M[Q]:Q;ee+=T($[ie][te],Q)}ie<$.length-1&&(!J||0<he&&!oe)&&(ee+=O)}}return ee}function T(M,$){var J,ee;return M==null?"":M.constructor===Date?JSON.stringify(M).slice(1,25):(ee=!1,R&&typeof M=="string"&&R.test(M)&&(M="'"+M,ee=!0),J=M.toString().replace(I,z),(ee=ee||j===!0||typeof j=="function"&&j(M,$)||Array.isArray(j)&&j[$]||((ae,Ee)=>{for(var se=0;se<Ee.length;se++)if(-1<ae.indexOf(Ee[se]))return!0;return!1})(J,u.BAD_DELIMITERS)||-1<J.indexOf(P)||J.charAt(0)===" "||J.charAt(J.length-1)===" ")?U+J+U:J)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!o&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=x,u.ParserHandle=v,u.NetworkStreamer=f,u.FileStreamer=p,u.StringStreamer=m,u.ReadableStreamStreamer=h,r.jQuery&&((s=r.jQuery).fn.parse=function(b){var S=b.config||{},j=[];return this.each(function(O){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var U=0;U<this.files.length;U++)j.push({file:this.files[U],inputElem:this,instanceConfig:s.extend({},S)})}),E(),this;function E(){if(j.length===0)N(b.complete)&&b.complete();else{var O,U,z,F,H=j[0];if(N(b.before)){var R=b.before(H.file,H.inputElem);if(typeof R=="object"){if(R.action==="abort")return O="AbortError",U=H.file,z=H.inputElem,F=R.reason,void(N(b.error)&&b.error({name:O},U,z,F));if(R.action==="skip")return void P();typeof R.config=="object"&&(H.instanceConfig=s.extend(H.instanceConfig,R.config))}else if(R==="skip")return void P()}var I=H.instanceConfig.complete;H.instanceConfig.complete=function(L){N(I)&&I(L,H.file,H.inputElem),P()},u.parse(H.file,H.instanceConfig)}}function P(){j.splice(0,1),E()}}),i&&(r.onmessage=function(b){b=b.data,u.WORKER_ID===void 0&&b&&(u.WORKER_ID=b.workerId),typeof b.input=="string"?r.postMessage({workerId:u.WORKER_ID,results:u.parse(b.input,b.config),finished:!0}):(r.File&&b.input instanceof File||b.input instanceof Object)&&(b=u.parse(b.input,b.config))&&r.postMessage({workerId:u.WORKER_ID,results:b,finished:!0})}),(f.prototype=Object.create(d.prototype)).constructor=f,(p.prototype=Object.create(d.prototype)).constructor=p,(m.prototype=Object.create(m.prototype)).constructor=m,(h.prototype=Object.create(d.prototype)).constructor=h,u})})(Uy);var zE=Uy.exports;const $E=Bi(zE),UE=(e,t)=>t.split(".").reduce((n,r)=>n&&n[r],e),Qu=({title:e,apiEndpoint:t,postDataKey:n,dataMappingFn:r,previewColumns:s,onSuccess:o,onCancel:i})=>{const[a,c]=w.useState(null),[u,d]=w.useState([]),[f,p]=w.useState(!1),[m,h]=w.useState([]),[v,g]=w.useState(null),{showToast:x}=Se(),y=D=>{const N=D.target.files[0];N&&(c(N),g(null),h([]),$E.parse(N,{header:!0,skipEmptyLines:!0,bom:!0,complete:b=>{if(b.errors.length)g("Error parsing CSV file. Please check its structure."),h(b.errors),console.error("CSV Parsing Errors:",b.errors),d([]);else{const S=b.data.map(r).filter(Boolean);d(S),h([])}},error:()=>{g("Cannot read the file. Please ensure it is a valid CSV file."),d([])}}))},_=async()=>{var N,b;if(u.length===0){x("No valid data to import.","warning");return}p(!0),g(null);const D=n?{[n]:u}:u;try{const j=(await Y.post(t,D)).data;if(x(j.message||"Import finished successfully!","success"),j.errors&&j.errors.length>0){const E=j.errors.map(P=>`Line ${P.line}: ${P.message}`).join(`
`);g(`Import completed with some issues:
${E}`)}o()}catch(S){const j=((b=(N=S.response)==null?void 0:N.data)==null?void 0:b.error)||"Server error during import.";x(j,"error"),g(j)}finally{p(!1)}},C=D=>D.preventDefault(),k=D=>{D.preventDefault(),y({target:{files:D.dataTransfer.files}})};return l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("h2",{children:[l.jsx(Lf,{size:24})," ",e]}),l.jsx("button",{onClick:i,className:"btn-icon",children:l.jsx(ft,{size:20})})]}),v&&l.jsxs("div",{className:"error-message",style:{whiteSpace:"pre-wrap"},children:[l.jsx(Cu,{size:16})," ",v]}),a?l.jsxs("div",{children:[l.jsxs("div",{className:"file-info",style:{marginTop:"1.5rem"},children:[l.jsx(cl,{size:24}),l.jsx("span",{children:a.name}),l.jsx("button",{onClick:()=>{c(null),d([]),g(null),h([])},className:"btn-icon",children:l.jsx(ft,{size:16})})]}),m.length>0&&l.jsxs("div",{className:"error-message",style:{marginTop:"1rem",maxHeight:"150px",overflowY:"auto",padding:"1rem",background:"#fff3f3",borderRadius:"6px"},children:[l.jsx("strong",{children:"Parsing Errors Found:"}),l.jsx("ul",{children:m.slice(0,5).map((D,N)=>l.jsxs("li",{children:["Row ",D.row,": ",D.message]},N))}),m.length>5&&l.jsxs("p",{children:["...and ",m.length-5," more errors."]})]}),u.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{style:{marginTop:"1rem"},children:[l.jsx(bu,{size:16,color:"green"})," Found ",l.jsx("strong",{children:u.length})," records to import."]}),l.jsx("div",{className:"table-container-scrollable",style:{maxHeight:"300px",marginTop:"1rem"},children:l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsx("tr",{children:s.map(D=>l.jsx("th",{children:D.header},D.key))})}),l.jsx("tbody",{children:u.slice(0,5).map((D,N)=>l.jsx("tr",{children:s.map(b=>l.jsx("td",{children:b.render?b.render(D):UE(D,b.key)},b.key))},N))})]})}),u.length>5&&l.jsxs("p",{style:{textAlign:"center",marginTop:"0.5rem"},children:["...and ",u.length-5," more rows."]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:i,className:"btn-secondary",disabled:f,children:"Cancel"}),l.jsx("button",{onClick:_,className:"btn-primary",disabled:f||u.length===0,children:f?"Importing...":`Import ${u.length} Records`})]})]}):l.jsxs("div",{className:"dropzone",onDragOver:C,onDrop:k,onClick:()=>document.getElementById("file-input-generic").click(),children:[l.jsx(Lf,{size:48}),l.jsx("p",{children:"Drag & drop a CSV file here, or click to select a file."}),l.jsx("input",{type:"file",id:"file-input-generic",accept:".csv",onChange:y,style:{display:"none"}})]})]})},WE=({zones:e=[],onRefresh:t})=>{const{data:n,createResource:r,updateResource:s}=st("/api/zones","zone"),{showToast:o}=Se(),[i,a]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[p,m]=w.useState({zone_name:"",postcode_patterns:"",is_home_zone:!1}),[h,v]=w.useState(e),[g,x]=w.useState({key:"zone_name",direction:"ascending"});w.useEffect(()=>{const j=[...n].sort((E,P)=>{const O=E.zone_name,U=P.zone_name,z=/(\d+)|(\D+)/g,F=O.match(z),H=U.match(z);for(let R=0;R<Math.min(F.length,H.length);R++){const I=F[R],L=H[R],T=parseInt(I,10),M=parseInt(L,10);if(!isNaN(T)&&!isNaN(M)){if(T!==M)return g.direction==="ascending"?T-M:M-T}else if(I!==L)return g.direction==="ascending"?I.localeCompare(L):L.localeCompare(I)}return g.direction==="ascending"?F.length-H.length:H.length-F.length});v(j)},[n,g]);const y=j=>{let E="ascending";g.key===j&&g.direction==="ascending"&&(E="descending"),x({key:j,direction:E})};w.useEffect(()=>{c?(m({zone_name:c.zone_name,postcode_patterns:(c.postcode_patterns||[]).join(", "),is_home_zone:c.is_home_zone}),a(!0)):m({zone_name:"",postcode_patterns:"",is_home_zone:!1})},[c]);const _=async j=>{var U,z;j.preventDefault();const E=p.postcode_patterns.split(",").map(F=>{const H=F.trim();return H&&!H.endsWith("%")?`${H}%`:H}).filter(Boolean),P=[...new Set(E)],O={...p,postcode_patterns:P};try{c?(await s(c.id,O),o("Zone updated successfully!","success")):(await r(O),o("Zone created successfully!","success")),a(!1),u(null),t&&t()}catch(F){o(((z=(U=F.response)==null?void 0:U.data)==null?void 0:z.error)||"Failed to save zone.","error")}},C=async j=>{var E,P;if(window.confirm("Are you sure you want to delete this zone?"))try{await Y.delete(`/api/zones/${j}`),o("Zone deleted successfully.","success"),t&&t()}catch(O){o(((P=(E=O.response)==null?void 0:E.data)==null?void 0:P.error)||"Failed to delete zone.","error")}},k=async(j,E)=>{const P=j.postcode_patterns.filter(O=>O!==E);try{await s(j.id,{...j,postcode_patterns:P}),o(`Pattern '${E}' removed from ${j.zone_name}.`,"success"),t&&t()}catch{o("Failed to remove pattern.","error")}},D=async j=>{const{source:E,destination:P,draggableId:O}=j;if(!P||E.droppableId===P.droppableId)return;const U=parseInt(E.droppableId,10),z=parseInt(P.droppableId,10),F=O.split("-")[1],H=h.find(T=>T.id===U),R=h.find(T=>T.id===z);if(!H||!R)return;const I=H.postcode_patterns.filter(T=>T!==F),L=[...R.postcode_patterns||[],F];try{await Promise.all([s(H.id,{...H,postcode_patterns:I}),s(R.id,{...R,postcode_patterns:[...new Set(L)]})]),o(`Moved '${F}' from ${H.zone_name} to ${R.zone_name}.`,"success"),t&&t()}catch{o("Failed to move pattern.","error")}},N=async()=>{var j,E;try{const P=await Y.get("/api/zones/export");o(P.data.message||"Export successful!","success")}catch(P){const O=((E=(j=P.response)==null?void 0:j.data)==null?void 0:E.error)||"Failed to export zones.";o(O,"error")}},b={title:"Import Postcode Zones",apiEndpoint:"/api/zones/import",postDataKey:"zones",dataMappingFn:j=>({zone_name:j.zone_name,postcode_patterns:j.postcode_patterns,is_home_zone:["true","1","yes"].includes((j.is_home_zone||"").toLowerCase())}),previewColumns:[{key:"zone_name",header:"Zone Name"},{key:"postcode_patterns",header:"Postcode Patterns (sample)"},{key:"is_home_zone",header:"Home Zone",render:j=>j.is_home_zone?"Yes":"No"}]},S=()=>{f(!1),t&&t(),o("Zones imported successfully!","success")};return l.jsxs("div",{className:"data-table-container",children:[l.jsx("h4",{children:"Postcode Zones"}),!i&&l.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[l.jsxs("button",{onClick:()=>a(!0),className:"btn-primary",children:[l.jsx(er,{size:16})," Add New Zone"]}),l.jsxs("button",{onClick:N,className:"btn-secondary",children:[l.jsx(uo,{size:16})," Export"]}),l.jsxs("button",{onClick:()=>f(!0),className:"btn-secondary",children:[l.jsx(ju,{size:16})," Import"]})]}),d&&l.jsx(Qu,{...b,onSuccess:S,onCancel:()=>f(!1)}),i&&l.jsxs("form",{onSubmit:_,className:"form",style:{marginBottom:"2rem",border:"1px solid #eee",padding:"1rem",borderRadius:"8px"},children:[l.jsx("h5",{children:c?"Edit Zone":"Add New Zone"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Zone Name"}),l.jsx("input",{type:"text",value:p.zone_name,onChange:j=>m({...p,zone_name:j.target.value}),required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Postcode Patterns (comma-separated, e.g., SW1, W1A, WC2)"}),l.jsx("textarea",{value:p.postcode_patterns,onChange:j=>m({...p,postcode_patterns:j.target.value}),rows:"3"})]}),l.jsxs("div",{className:"form-group",style:{flexDirection:"row",alignItems:"center",gap:"0.5rem"},children:[l.jsx("input",{type:"checkbox",id:"is_home_zone",checked:p.is_home_zone,onChange:j=>m({...p,is_home_zone:j.target.checked})}),l.jsx("label",{htmlFor:"is_home_zone",style:{marginBottom:0},children:"This is a home zone (for this depot)"})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:()=>{a(!1),u(null)},className:"btn-secondary",children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",children:"Save Zone"})]})]}),l.jsx("div",{className:"table-wrapper",children:l.jsx(Ay,{onDragEnd:D,children:l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{onClick:()=>y("zone_name"),style:{cursor:"pointer"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:["Zone Name",g.key==="zone_name"&&(g.direction==="ascending"?l.jsx(wg,{size:14}):l.jsx(_g,{size:14}))]})}),l.jsx("th",{children:"Home Zone?"}),l.jsx("th",{children:"Postcode Patterns"}),l.jsx("th",{children:"Actions"})]})}),h.map(j=>l.jsx(yl,{droppableId:String(j.id),children:(E,P)=>l.jsx("tbody",{ref:E.innerRef,...E.droppableProps,style:{backgroundColor:P.isDraggingOver?"#e6f7ff":"transparent"},children:l.jsxs("tr",{children:[l.jsx("td",{style:{width:"80px"},children:j.zone_name}),l.jsx("td",{children:j.is_home_zone?"Yes":"No"}),l.jsx("td",{className:"tag-cell",children:l.jsxs("div",{className:"tag-container",children:[(j.postcode_patterns||[]).map((O,U)=>l.jsx(Ku,{draggableId:`${j.id}-${O}`,index:U,children:z=>l.jsx("div",{ref:z.innerRef,...z.draggableProps,...z.dragHandleProps,children:l.jsxs("span",{className:"tag draggable-tag",children:[O,l.jsx("button",{onClick:()=>k(j,O),className:"tag-remove-btn",children:l.jsx(ft,{size:12})})]})})},`${j.id}-${O}`)),E.placeholder]})}),l.jsxs("td",{className:"actions-cell",children:[l.jsx("button",{onClick:()=>u(j),className:"btn-icon",children:l.jsx(fo,{size:16})}),l.jsx("button",{onClick:()=>C(j.id),className:"btn-icon btn-danger",title:"Delete Zone",children:l.jsx(or,{size:16})})]})]},j.id)})},j.id))]})})})]})},HE={rate_type:"standard",zone_id:"",service_level:"A",price_micro:"",price_quarter:"",price_half:"",price_half_plus:"",price_full_1:"",price_full_2:"",price_full_3:"",price_full_4:"",price_full_5:"",price_full_6:"",price_full_7:"",price_full_8:"",price_full_9:"",price_full_10:""},VE=["price_micro","price_quarter","price_half","price_half_plus","price_full_1","price_full_2","price_full_3","price_full_4","price_full_5","price_full_6","price_full_7","price_full_8","price_full_9","price_full_10"],qE=({zones:e=[],onSubmit:t,onCancel:n,itemToEdit:r})=>{const s=d=>{const f={};return d.zone_id||(f.zone_id="Zone is required."),d.service_level||(f.service_level="Service level is required."),f},{formData:o,errors:i,loading:a,handleChange:c,handleSubmit:u}=qr({initialState:HE,validate:s,onSubmit:t,itemToEdit:w.useMemo(()=>r,[r])});return l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:"Add New Rate Entry"}),l.jsx("button",{onClick:n,className:"btn-icon",children:l.jsx(ft,{size:20})})]}),l.jsxs("form",{onSubmit:u,className:"form",children:[l.jsxs("div",{className:"form-grid",style:{gridTemplateColumns:"1fr 1fr 1fr"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Rate Type"}),l.jsxs("select",{name:"rate_type",value:o.rate_type,onChange:c,children:[l.jsx("option",{value:"standard",children:"Standard"}),l.jsx("option",{value:"surcharge",children:"Surcharge"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Zone *"}),l.jsxs("select",{name:"zone_id",value:o.zone_id,onChange:c,required:!0,className:i.zone_id?"input-error":"",children:[l.jsx("option",{value:"",children:"Select a zone..."}),e.map(d=>l.jsx("option",{value:d.id,children:d.zone_name},d.id))]}),i.zone_id&&l.jsx("span",{className:"error-text",children:i.zone_id})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Service Level *"}),l.jsxs("select",{name:"service_level",value:o.service_level,onChange:c,required:!0,className:i.service_level?"input-error":"",children:[l.jsx("option",{value:"A",children:"A"}),l.jsx("option",{value:"B",children:"B"}),l.jsx("option",{value:"C",children:"C"}),l.jsx("option",{value:"D",children:"D"})]}),i.service_level&&l.jsx("span",{className:"error-text",children:i.service_level})]})]}),l.jsx("h4",{children:"Prices"}),l.jsx("div",{className:"form-grid",style:{gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))"},children:VE.map(d=>l.jsxs("div",{className:"form-group",children:[l.jsx("label",{style:{textTransform:"capitalize"},children:d.replace("price_","").replace(/_/g," ")}),l.jsx("input",{type:"number",step:"0.01",name:d,value:o[d]??"",onChange:c})]},d))}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:n,className:"btn-secondary",disabled:a,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:a,children:a?"Saving...":"Add Entry"})]})]})]})},GE=({customers:e=[],zones:t=[]})=>{const[n,r]=w.useState([]),[s,o]=w.useState(""),[i,a]=w.useState([]),[c,u]=w.useState(!1),[d,f]=w.useState(null),[p,m]=w.useState(!1),[h,v]=w.useState(!1),[g,x]=w.useState([]),[y,_]=w.useState([]),{showToast:C}=Se();w.useEffect(()=>{(async()=>{u(!0);try{const I=await Y.get("/api/rate-cards");r(I.data)}catch{C("Failed to fetch rate cards.","error")}finally{u(!1)}})()},[C]);const k=w.useCallback(async()=>{if(!s){a([]);return}u(!0);try{const R=await Y.get(`/api/rate-cards/${s}/entries`);a(R.data)}catch{C("Failed to fetch rate entries.","error")}finally{u(!1)}},[s,C]),D=w.useCallback(async()=>{if(!s){x([]);return}try{const R=await Y.get(`/api/rate-cards/${s}/customers`);x(R.data)}catch{C("Failed to fetch assigned customers.","error")}},[s,C]);w.useEffect(()=>{v(!1),m(!1),f(null),s&&(k(),D())},[s,k,D]);const N=async()=>{const R=prompt('Enter a name for the new rate card (e.g., "Standard 2024"):');if(R)try{const I=await Y.post("/api/rate-cards",{name:R});r(L=>[...L,I.data]),C("Rate card created.","success")}catch{C("Failed to create rate card.","error")}},b=async()=>{if(!s||y.length===0){C("Please select a rate card and at least one customer.","warning");return}try{await Y.post(`/api/rate-cards/${s}/customers`,{customerIds:y}),D(),_([]),C(`${y.length} customer(s) assigned successfully.`,"success")}catch{C("Failed to assign customers.","error")}},S=async R=>{if(!(!s||!R))try{await Y.delete(`/api/rate-cards/${s}/customers/${R}`),D(),C("Customer unassigned.","success")}catch{C("Failed to unassign customer.","error")}},j=async R=>{var I,L;if(s)try{const T=await Y.post(`/api/rate-cards/${s}/entries`,R);a(M=>[...M,T.data]),m(!1),v(!1),C("Rate entry added successfully!","success")}catch(T){const M=((L=(I=T.response)==null?void 0:I.data)==null?void 0:L.error)||"Failed to add rate entry.";C(M,"error"),console.error(T)}},E=R=>{m(!1),k();const{count:I=0,skipped:L=0}=R.data||{};let T=`Successfully imported ${I} rate entries.`;L>0&&(T+=` Skipped ${L} rows due to errors (check console for details).`),C(T,"success")},P=async()=>{var R,I;if(d)try{const L=await Y.put(`/api/rate-cards/entries/${d.id}`,d);a(T=>T.map(M=>M.id===d.id?L.data:M)),f(null),C("Rate entry updated successfully!","success")}catch(L){C(((I=(R=L.response)==null?void 0:R.data)==null?void 0:I.error)||"Failed to update rate entry.","error")}},O=async R=>{var I,L;if(window.confirm("Are you sure you want to delete this rate entry?"))try{await Y.delete(`/api/rate-cards/entries/${R}`),a(T=>T.filter(M=>M.id!==R)),C("Rate entry deleted.","success")}catch(T){C(((L=(I=T.response)==null?void 0:I.data)==null?void 0:L.error)||"Failed to delete rate entry.","error")}},U=async()=>{var R;if(s)try{const I=await Y.get(`/api/rate-cards/${s}/export`,{responseType:"blob"}),L=window.URL.createObjectURL(new Blob([I.data])),T=document.createElement("a");T.href=L;const M=((R=n.find($=>$.id===s))==null?void 0:R.name)||"rate-card";T.setAttribute("download",`${M.replace(/\s+/g,"_")}_export.csv`),document.body.appendChild(T),T.click(),T.remove(),C("Export started successfully!","success")}catch{C("Failed to export rate card.","error")}},z=R=>{const{name:I,value:L}=R.target;f(T=>({...T,[I]:L===""?null:parseFloat(L)}))},F=["price_micro","price_quarter","price_half","price_half_plus","price_full_1","price_full_2","price_full_3","price_full_4","price_full_5","price_full_6","price_full_7","price_full_8","price_full_9","price_full_10"],H=w.useMemo(()=>{const R=new Set(g.map(I=>I.id));return e.filter(I=>!R.has(I.id))},[e,g.length]);return l.jsx("div",{children:l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",marginBottom:"1rem"},children:[l.jsxs("div",{className:"form-group",style:{margin:0},children:[l.jsx("label",{children:"Select Rate Card"}),l.jsxs("select",{value:s,onChange:R=>o(R.target.value),children:[l.jsx("option",{value:"",children:"-- Select Rate Card --"}),n.map(R=>l.jsx("option",{value:R.id,children:R.name},R.id))]})]}),l.jsxs("button",{onClick:N,className:"btn-secondary",style:{alignSelf:"flex-end"},children:[l.jsx(er,{size:16})," New Rate Card"]})]}),s&&l.jsxs("div",{className:"form-grid",style:{gridTemplateColumns:"1fr 2fr",alignItems:"stretch"},children:[l.jsxs("div",{className:"card",children:[l.jsx("h5",{children:"Assigned Customers"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Assign new customers"}),l.jsx("select",{multiple:!0,value:y,onChange:R=>_(Array.from(R.target.selectedOptions,I=>I.value)),style:{height:"150px",marginBottom:"1rem"},children:H.map(R=>l.jsx("option",{value:R.id,children:R.name},R.id))}),l.jsxs("button",{onClick:b,className:"btn-primary",disabled:y.length===0,children:["Assign Selected (",y.length,")"]})]}),l.jsxs("ul",{className:"list",style:{maxHeight:"400px",overflowY:"auto",paddingLeft:"0",listStyle:"none"},children:[g.map(R=>l.jsxs("li",{className:"list-item",children:[l.jsx("span",{children:R.name}),l.jsx("button",{onClick:()=>S(R.id),className:"btn-icon btn-danger",title:"Unassign",children:l.jsx(Tf,{size:16})})]},R.id)),g.length===0&&l.jsx("p",{className:"no-results-message",children:"No customers assigned."})]})]}),l.jsxs("div",{className:"card",style:{display:"flex",flexDirection:"column"},children:[h&&l.jsx(qE,{zones:t,onSubmit:j,onCancel:()=>v(!1)}),p&&l.jsx(Qu,{title:"Import Rate Entries",apiEndpoint:`/api/rate-cards/${s}/entries/import`,postDataKey:"entries",dataMappingFn:R=>R,previewColumns:[{key:"Rate Type",header:"Rate Type"},{key:"Zone Name",header:"Zone Name"},{key:"Service Level",header:"Service Level"}],onSuccess:E,onCancel:()=>m(!1)}),l.jsxs("div",{style:{display:h||p?"none":"flex",flexDirection:"column",flexGrow:1,minHeight:0},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("h5",{children:"Rate Entries"}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsxs("button",{onClick:U,className:"btn-secondary",children:[l.jsx(uo,{size:16})," Export"]}),l.jsxs("button",{onClick:()=>m(!0),className:"btn-secondary",children:[l.jsx(ju,{size:16})," Import"]}),l.jsxs("button",{onClick:()=>v(!0),className:"btn-primary",children:[l.jsx(er,{size:16})," Add Rate"]})]})]}),l.jsx("div",{className:"table-wrapper",style:{marginTop:"1rem"},children:l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Type"}),l.jsx("th",{children:"Zone"}),l.jsx("th",{children:"Service"}),F.map(R=>l.jsx("th",{style:{minWidth:"100px",textTransform:"capitalize"},children:R.replace("price_","").replace(/_/g," ")},R)),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:c?l.jsx("tr",{children:l.jsx("td",{colSpan:F.length+4,style:{textAlign:"center"},children:"Loading..."})}):i.length>0?i.map(R=>{var T;const I=((T=t.find(M=>M.id===R.zone_id))==null?void 0:T.zone_name)||"N/A",L=(d==null?void 0:d.id)===R.id;return l.jsxs("tr",{children:[l.jsx("td",{style:{textTransform:"capitalize"},children:R.rate_type.replace("_"," ")}),l.jsx("td",{children:I}),l.jsx("td",{children:R.service_level}),F.map(M=>l.jsx("td",{children:L?l.jsx("input",{type:"number",step:"0.01",name:M,value:d[M]??"",onChange:z,style:{width:"80px"},autoFocus:M===F[0]}):R[M]},`${R.id}-${M}`)),l.jsx("td",{className:"actions-cell",children:L?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:P,className:"btn-icon",title:"Save",children:l.jsx($b,{size:16})}),l.jsx("button",{onClick:()=>f(null),className:"btn-icon",title:"Cancel",children:l.jsx(Tf,{size:16})})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>f({...R}),className:"btn-icon",title:"Edit Rate Entry",children:l.jsx(fo,{size:16})}),l.jsx("button",{onClick:()=>O(R.id),className:"btn-icon btn-danger",title:"Delete Rate Entry",children:l.jsx(or,{size:16})})]})})]},R.id)}):l.jsx("tr",{children:l.jsx("td",{colSpan:F.length+4,style:{textAlign:"center"},children:"No rate entries found for this rate card."})})})]})})]})]})]})]})})},KE=({customers:e=[],zones:t=[],onRefresh:n})=>{const[r,s]=w.useState("zones");return l.jsxs("div",{className:"card",children:[l.jsx("h2",{children:"Pricing Management"}),l.jsxs("div",{className:"tabs-container",style:{marginBottom:"2rem"},children:[l.jsx("button",{className:`tab-button ${r==="zones"?"active":""}`,onClick:()=>s("zones"),children:"Postcode Zones"}),l.jsx("button",{className:`tab-button ${r==="rates"?"active":""}`,onClick:()=>s("rates"),children:"Rate Cards"})]}),r==="zones"&&l.jsx(WE,{zones:t,onRefresh:n}),r==="rates"&&l.jsx(GE,{customers:e,zones:t})]})},ua=new BroadcastChannel("tms_state_sync"),Yu=e=>(w.useEffect(()=>{const n=r=>{e&&e(r.data)};return ua.addEventListener("message",n),()=>{ua.removeEventListener("message",n)}},[e]),{postMessage:w.useCallback(n=>{ua.postMessage(n)},[])}),QE=({initialAssignments:e=[],orders:t=[],enrichedRuns:n=[],onDataRefresh:r})=>{console.log(" useAssignments called with:",{initialAssignments:e,orders:t,enrichedRuns:n});const{data:s,error:o,createResource:i,deleteResource:a,setData:c}=st("/api/assignments","assignment");ce.useEffect(()=>{c(e)},[e,c]);const{postMessage:u}=Yu(),d=w.useMemo(()=>s.map(v=>{var y;const g=t.find(_=>_.id===v.order_id),x=n.find(_=>_.id===v.run_id);return{...v,order_number:(g==null?void 0:g.order_number)||(g==null?void 0:g.customer_reference)||`ID: ${g==null?void 0:g.id}`,run_text:(x==null?void 0:x.displayText)||"N/A",recipient_name:((y=g==null?void 0:g.recipient_details)==null?void 0:y.name)||"N/A"}}),[s,t,n]),f=w.useMemo(()=>{const v=new Set(s.map(g=>g.order_id));return t.filter(g=>g.status==="nowe"&&!v.has(g.id))},[t,s]),p=w.useCallback(async v=>{const{source:g,destination:x,draggableId:y}=v;if(!(!x||g.droppableId===x.droppableId)&&g.droppableId==="orders"&&x.droppableId!=="orders"){const _=y.startsWith("order-")?y.substring(6):y,C=parseInt(_,10);let k;x.droppableId.startsWith("run-active-")?k=parseInt(x.droppableId.replace("run-active-",""),10):k=parseInt(x.droppableId,10);const D=t.find(N=>N.id===C);if(!D)return;try{await i({order_id:C,run_id:k},(N,b)=>{var j;const S=n.find(E=>E.id===N.run_id);return{...N,id:b,order_number:D.customer_reference||`ID: ${D.id}`,run_text:(S==null?void 0:S.displayText)||"N/A",recipient_name:((j=D.recipient_details)==null?void 0:j.name)||"N/A"}}),r&&r(),u("refresh")}catch(N){console.error("Failed to create assignment:",N)}}},[i,t,n,r,u]),m=w.useCallback(async v=>{console.log(" Deleting assignment:",v);try{await a(v),u("refresh"),console.log(" Assignment deleted successfully")}catch(g){console.error(" Error deleting assignment:",g)}},[a,r,u]),h=w.useCallback(async(v,g)=>{var x,y;try{return await Y.post("/api/assignments/bulk",{run_id:v,order_ids:g}),r&&r(),u("refresh"),{success:!0,message:`${g.length} orders assigned successfully.`}}catch(_){return console.error("Bulk assign failed:",_),{success:!1,message:((y=(x=_.response)==null?void 0:x.data)==null?void 0:y.error)||"Failed to bulk assign orders."}}},[r,u]);return{assignments:d,availableOrders:f,handleDragEnd:p,handleDeleteAssignment:m,bulkAssignOrders:h,error:o}},Wy=w.createContext(null),Hy=()=>{const e=w.useContext(Wy);if(!e)throw new Error("usePlanIt must be used within a PlanItProvider");return e},YE=({children:e,initialData:t={},runActions:n,onAssignmentCreated:r,onDeleteRequest:s,bulkAssignOrders:o})=>{const{showToast:i}=Se(),{orders:a=[],runs:c=[],drivers:u=[],trucks:d=[],trailers:f=[],pallets:p=[],assignments:m=[],zones:h=[]}=t,[v,g]=w.useState(new Date().toISOString().split("T")[0]),[x,y]=w.useState(null),[_,C]=w.useState(null),[k,D]=w.useState(!1),[N,b]=w.useState([]),[S,j]=w.useState({visible:!1,x:0,y:0}),E=w.useCallback(()=>{r&&r()},[r]),P=w.useMemo(()=>new Map(u.map(G=>[G.id,G])),[u]),O=w.useMemo(()=>new Map(d.map(G=>[G.id,G])),[d]),U=w.useMemo(()=>new Map(f.map(G=>[G.id,G])),[f]),z=w.useMemo(()=>new Map(a.map(G=>[G.id,G])),[a]),F=w.useMemo(()=>{const G=new Map;for(const q of m)G.has(q.run_id)||G.set(q.run_id,[]),G.get(q.run_id).push(q);return G},[m]),H=w.useMemo(()=>c.filter(q=>q.run_date?q.run_date.startsWith(v):!1).map(q=>{const Q=P.get(q.driver_id),te=O.get(q.truck_id),X=q.trailer_id?U.get(q.trailer_id):null,De=(F.get(q.id)||[]).map(_e=>z.get(_e.order_id)).filter(Boolean),{totalKilos:cn,totalSpaces:bt}=De.reduce((_e,Ue)=>{var Ct,ir;return _e.totalKilos+=((Ct=Ue.cargo_details)==null?void 0:Ct.total_kilos)||0,_e.totalSpaces+=((ir=Ue.cargo_details)==null?void 0:ir.total_spaces)||0,_e},{totalKilos:0,totalSpaces:0}),Jt=(te==null?void 0:te.type_of_truck)==="rigid"||(te==null?void 0:te.type_of_truck)==="tractor"&&X,Le=Jt?(te==null?void 0:te.type_of_truck)==="rigid"?te.max_payload_kg:X==null?void 0:X.max_payload_kg:null,St=Jt?(te==null?void 0:te.type_of_truck)==="rigid"?te.pallet_capacity:X==null?void 0:X.max_spaces:null;return{...q,displayText:`${Q?`${Q.first_name} ${Q.last_name}`:"No Driver"} - ${te?te.registration_plate:"No Truck"} ${X?`+ ${X.registration_plate}`:""}`,totalKilos:cn,totalSpaces:bt,maxPayload:Le,maxPallets:St,hasCapacity:Jt}}),[c,v,P,O,U,F,z]),R=w.useMemo(()=>({initialAssignments:m,orders:a,enrichedRuns:H,onDataRefresh:E}),[m,a,H,E]),{assignments:I,availableOrders:L,handleDragEnd:T,handleDeleteAssignment:M,error:$}=QE(R);ce.useEffect(()=>{$&&(console.error(" useAssignments error:",$),i($,"error"))},[$,i]);const J=w.useMemo(()=>x?H.find(G=>G.id===x):null,[x,H]),ee=w.useMemo(()=>J?I.filter(q=>q.run_id===J.id).map(q=>{const Q=z.get(q.order_id);return Q?{...Q,assignmentId:q.id}:null}).filter(Boolean):[],[J,I,z]),ae=w.useCallback(G=>{C(G),D(!0)},[]),Ee=w.useCallback(()=>{C(null),D(!0)},[]),se=w.useCallback(async G=>{var q,Q,te,X;try{const Z={...G,trailer_id:G.trailer_id?G.trailer_id:null};_?(await n.update(_.id,Z),i("Run updated successfully!","success")):(await n.create(Z),i("Run created successfully!","success")),D(!1),C(null),E(),Z!=null&&Z.run_date&&Z.run_date!==v&&(g(Z.run_date),y(null))}catch(Z){console.error(" Error saving run:",(q=Z==null?void 0:Z.response)==null?void 0:q.status,((Q=Z==null?void 0:Z.response)==null?void 0:Q.data)||Z.message),i("Failed to save run: "+(((X=(te=Z==null?void 0:Z.response)==null?void 0:te.data)==null?void 0:X.message)||Z.message||"Unknown error"),"error")}},[_,n,i,E,v]),ie=w.useCallback(async G=>{s(`Are you sure you want to delete run: ${G.displayText}?`,async()=>{var q,Q;try{await n.delete(G.id),i(`Run "${G.displayText}" deleted.`,"success"),E()}catch(te){console.error(" Error deleting run:",te),i(((Q=(q=te.response)==null?void 0:q.data)==null?void 0:Q.error)||"Failed to delete run.","error")}})},[n,i,E,s]),he=w.useCallback(async G=>{try{await M(G),E()}catch(q){throw console.error(" Error during assignment deletion and refresh:",q),q}},[M,E]),re=w.useCallback(async()=>{if(!x){i("Please select an active run first.","error");return}if(N.length===0){i("No orders selected for assignment.","error");return}try{const q=await o({run_id:x,order_ids:N});q.success?(i(q.message,"success"),b([]),E()):i(q.message,"error")}catch(G){console.error(" Bulk assign failed:",G),i("An unexpected error occurred during bulk assignment.","error")}},[x,N,o,i,E]),oe=w.useCallback(()=>{if(N.length===0){i("No orders selected for deletion.","error");return}const G=async()=>{var q,Q;try{await Y.delete("/api/orders/bulk",{data:{ids:N}}),i(`${N.length} orders deleted successfully.`,"success"),b([]),E()}catch(te){console.error(" Bulk delete failed:",te),i(((Q=(q=te.response)==null?void 0:q.data)==null?void 0:Q.error)||"Failed to delete orders.","error")}};s(`Are you sure you want to delete ${N.length} selected orders? This action cannot be undone.`,G)},[N,s,i,E]),ge={selectedDate:v,activeRunId:x,editingRun:_,isFormVisible:k,selectedOrderIds:N,contextMenu:S,setSelectedDate:g,setActiveRunId:y,setIsFormVisible:D,setSelectedOrderIds:b,setContextMenu:j,handleEditRun:ae,handleAddNewRun:Ee,handleSaveRun:se,handleBulkAssign:re,handleBulkDelete:oe,handleDeleteRun:ie,enrichedRuns:H,availableOrders:L,activeRun:J,ordersForActiveRun:ee,handleDragEnd:T,handleDeleteAssignment:he,initialData:{drivers:u,trucks:d,trailers:f,zones:h,pallets:p},triggerRefresh:E};return l.jsx(Wy.Provider,{value:ge,children:e})},JE=e=>w.useMemo(()=>e.find(t=>t.is_home_zone),[e]),Vy=ce.memo(({order:e,columns:t,isSelected:n,handleClick:r,handleContextMenu:s,handleMouseEnter:o,handleMouseLeave:i,index:a})=>e?l.jsx(Ku,{draggableId:`order-${e.id}`,index:a,children:(c,u)=>l.jsx("div",{ref:c.innerRef,...c.draggableProps,...c.dragHandleProps,style:{...c.draggableProps.style,backgroundColor:u.isDragging?"var(--primary-color-light)":"transparent"},className:`planit-grid-row ${n?"highlighted-row":""}`,onClick:d=>r(d,e.id),onContextMenu:d=>s(d,e.id),onMouseEnter:d=>o(d,e),onMouseLeave:i,role:"button",tabIndex:0,"aria-selected":n,"aria-label":`Order ${e.order_number||e.customer_reference||e.id}`,onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),r(d,e.id))},children:t.map((d,f)=>l.jsx("div",{className:"planit-grid-cell",children:d.accessor(e)},`${e.id}-${f}`))})}):null);Vy.displayName="OrderRow";const ZE=({orders:e,activeTab:t,selectedDate:n,homeZone:r})=>{const s=w.useMemo(()=>e.map(o=>{var i,a;return{...o,totalKilos:((i=o.cargo_details)==null?void 0:i.total_kilos)||0,totalSpaces:((a=o.cargo_details)==null?void 0:a.total_spaces)||0}}),[e]);return w.useMemo(()=>{const o=s.filter(i=>{if(!n)return!0;const a=t==="collections"?i.loading_date_time:i.unloading_date_time;if(!a)return!1;try{return new Date(a).toISOString().split("T")[0]===n}catch{return!1}});return r?o.filter(i=>{var a,c;return Di(t==="collections"?(a=i.sender_details)==null?void 0:a.postCode:(c=i.recipient_details)==null?void 0:c.postCode,r)}):t==="delivery"?[]:o},[t,s,r,n])},XE=()=>{const[e,t]=w.useState({visible:!1,content:null,position:{x:0,y:0}}),n=w.useCallback((s,o)=>{const i=s.currentTarget.getBoundingClientRect();t({visible:!0,content:o,position:{x:i.left+window.scrollX,y:i.bottom+window.scrollY}})},[]),r=w.useCallback(()=>{t(s=>s.visible?{visible:!1,content:null,position:{x:0,y:0}}:s)},[]);return{tooltip:e,showTooltip:n,hideTooltip:r}},Bo=[{header:"Consignment #",accessor:e=>e.order_number||e.customer_reference||`ID: ${e.id}`},{header:"Loading Company",accessor:e=>{var t;return((t=e.sender_details)==null?void 0:t.name)||"-"}},{header:"Loading Address",accessor:e=>{var t;return((t=e.sender_details)==null?void 0:t.address1)||"-"}},{header:"Loading PC",accessor:e=>{var t;return((t=e.sender_details)==null?void 0:t.postCode)||"-"}},{header:"Unloading Company",accessor:e=>{var t;return((t=e.recipient_details)==null?void 0:t.name)||"-"}},{header:"Unloading Address",accessor:e=>{var t;return((t=e.recipient_details)==null?void 0:t.address1)||"-"}},{header:"Unloading PC",accessor:e=>{var t;return((t=e.recipient_details)==null?void 0:t.postCode)||"-"}},{header:"Weight",accessor:e=>e.totalKilos>0?e.totalKilos:"-"},{header:"Spaces",accessor:e=>e.totalSpaces>0?e.totalSpaces:"-"}],eN=({orders:e,homeZone:t,selectedDate:n})=>{const{selectedOrderIds:r,setSelectedOrderIds:s,setContextMenu:o}=Hy(),[i,a]=w.useState("delivery"),{tooltip:c,showTooltip:u,hideTooltip:d}=XE(),f={CONSIGNMENT:0,UNLOADING_COMPANY:4},p=w.useMemo(()=>i==="delivery"?[Bo[f.CONSIGNMENT],...Bo.slice(f.UNLOADING_COMPANY)]:[...Bo.slice(0,f.UNLOADING_COMPANY),...Bo.slice(7)],[i]),m=ZE({orders:e,activeTab:i,selectedDate:n,homeZone:t}),h=w.useCallback((y,_)=>{const{ctrlKey:C,metaKey:k}=y;s(C||k?D=>D.includes(_)?D.filter(N=>N!==_):[...D,_]:[_])},[s]),v=w.useCallback((y,_)=>{y.preventDefault(),r.includes(_)||s([_]),o({visible:!0,x:y.clientX,y:y.clientY})},[r,o,s]),g=w.useCallback((y,_)=>{var C,k,D,N,b,S;return u(y,l.jsxs(l.Fragment,{children:[l.jsx("strong",{children:"Loading:"})," ",((C=_.sender_details)==null?void 0:C.name)||"-",", ",((k=_.sender_details)==null?void 0:k.address1)||"-",", ",((D=_.sender_details)==null?void 0:D.postCode)||"-",l.jsx("br",{}),l.jsx("strong",{children:"Unloading:"})," ",((N=_.recipient_details)==null?void 0:N.name)||"-",", ",((b=_.recipient_details)==null?void 0:b.address1)||"-",", ",((S=_.recipient_details)==null?void 0:S.postCode)||"-"]}))},[u]),x=w.useCallback(()=>{d()},[d]);return l.jsxs("div",{className:"card planit-section",children:[l.jsxs("div",{className:"planit-section-header",children:[l.jsx("h3",{children:"Available Orders"}),l.jsxs("div",{className:"tabs-container",children:[l.jsx("button",{className:`tab-button ${i==="delivery"?"active":""}`,onClick:()=>a("delivery"),children:"Delivery"}),l.jsx("button",{className:`tab-button ${i==="collections"?"active":""}`,onClick:()=>a("collections"),children:"Collections"})]})]}),l.jsxs("div",{className:"planit-list planit-table-grid",children:[l.jsx("div",{className:"planit-grid-header",children:p.map(y=>l.jsx("div",{children:y.header},y.header))}),l.jsx("div",{className:"planit-grid-body",children:m.length>0?l.jsx(yl,{droppableId:"orders",renderClone:(y,_,C)=>{const k=m[C.source.index];return k?l.jsx("div",{ref:y.innerRef,...y.draggableProps,...y.dragHandleProps,style:{...y.draggableProps.style,margin:0,background:"var(--primary-color-dark)",color:"white",padding:"0.5rem 0.75rem",borderRadius:"4px"},className:"planit-grid-row",children:l.jsx("div",{className:"planit-grid-cell",children:k.order_number||k.customer_reference})}):null},children:(y,_)=>l.jsxs("div",{...y.droppableProps,ref:y.innerRef,className:_.isDraggingOver?"is-dragging-over":"",style:{minHeight:"200px"},children:[m.map((C,k)=>l.jsx(Vy,{order:C,columns:p,isSelected:r.includes(C.id),handleClick:h,handleContextMenu:v,handleMouseEnter:g,handleMouseLeave:x,index:k},C.id)),y.placeholder]})}):l.jsx("div",{className:"planit-empty-state",children:"No orders available for the selected criteria."})}),c.visible&&l.jsx("div",{className:"tooltip",style:{top:`${c.position.y+15}px`,left:`${c.position.x+15}px`},children:c.content})]})]})},tN=ce.memo(eN),Sp=({current:e,max:t,label:n,icon:r})=>{if(t==null)return null;const s=t>0?e/t*100:0,o=s>100;return l.jsxs("div",{className:"capacity-indicator",children:[l.jsxs("div",{className:"capacity-text",children:[r,l.jsxs("span",{children:[n,": ",e," / ",t]})]}),l.jsx("div",{className:"capacity-bar-container",children:l.jsx("div",{className:`capacity-bar ${o?"overloaded":""}`,style:{width:`${Math.min(s,100)}%`}})})]})},nN=({runs:e=[],onPopOut:t,onDelete:n,onEdit:r,handleAddNewRun:s,selectedDate:o,onDateChange:i,activeRunId:a,onRunSelect:c,isLoading:u})=>{const d=(p,m)=>{p.stopPropagation(),n(m)},f=(p,m)=>{p.stopPropagation(),r(m)};return l.jsxs("div",{className:"card planit-section",children:[l.jsxs("div",{className:"planit-section-header",children:[l.jsx("h3",{children:"Available Runs"}),l.jsx("div",{className:"form-group",style:{margin:0,minWidth:"160px"},children:l.jsx("input",{type:"date",value:o,onChange:p=>i(p.target.value)})}),l.jsxs("button",{onClick:s,className:"btn-primary",style:{marginLeft:"auto"},children:[l.jsx(er,{size:16})," Add Run"]})]}),l.jsx("div",{className:"planit-list",children:u?l.jsx("div",{className:"loading",style:{padding:"2rem"},children:"Loading runs..."}):e.length>0?e.map(p=>l.jsx(yl,{droppableId:String(p.id),children:m=>l.jsxs("div",{ref:m.innerRef,...m.droppableProps,className:`planit-list-item droppable-combination with-actions ${p.id===a?"active-run":""}`,onClick:()=>c(p.id),children:[l.jsxs("div",{className:"planit-item-text",children:[l.jsx("span",{children:p.displayText}),p.hasCapacity?l.jsxs("div",{className:"run-capacity-details",children:[l.jsx(Sp,{current:p.totalKilos,max:p.maxPayload,label:"kg",icon:l.jsx(Ss,{size:14})}),l.jsx(Sp,{current:p.totalSpaces,max:p.maxPallets,label:"spaces",icon:l.jsx(bs,{size:14})})]}):l.jsxs("div",{className:"run-stats",style:{marginTop:"0.5rem"},children:[l.jsxs("span",{children:[l.jsx(Ss,{size:14})," ",p.totalKilos||0," kg"]}),l.jsxs("span",{children:[l.jsx(bs,{size:14})," ",p.totalSpaces||0," spaces"]})]})]}),l.jsxs("div",{className:"planit-item-actions",children:[l.jsx("button",{className:"btn-icon",title:"Edit Run",onClick:h=>f(h,p),children:l.jsx(fo,{size:16})}),l.jsx("button",{className:"btn-icon btn-danger",title:"Delete Run",onClick:h=>d(h,p),children:l.jsx(or,{size:16})})]}),m.placeholder]},p.id)},p.id)):l.jsx("p",{className:"no-results-message",style:{padding:"2rem"},children:"No runs found for the selected date."})})]})},rN=w.memo(nN),qy=w.createContext(null),sN=()=>w.useContext(qy),oN=({children:e})=>{const[t,n]=w.useState({orders:[],runs:[],assignments:[],drivers:[],trucks:[],trailers:[],zones:[]});return w.useEffect(()=>{const r=sessionStorage.getItem("popOutData");r&&n(JSON.parse(r))},[]),l.jsx(qy.Provider,{value:t,children:e})},Cp=({current:e,max:t,label:n,icon:r})=>{const s=Number.isFinite(e)?e:0,o=Number.isFinite(t)?t:0;if(o==null)return null;const i=o>0?s/o*100:0,a=i>100;return l.jsxs("div",{className:"capacity-indicator",children:[l.jsxs("div",{className:"capacity-text",children:[r,l.jsxs("span",{children:[n,": ",e," / ",t]})]}),l.jsx("div",{className:"capacity-bar-container",children:l.jsx("div",{className:`capacity-bar ${a?"overloaded":""}`,style:{width:`${Math.min(i,100)}%`}})})]})},iN=({run:e,assignedOrders:t=[],onDeselect:n,onDeleteAssignment:r,homeZone:s,triggerRefresh:o})=>{if(!e)return null;const{showToast:i}=Se(),[a,c]=ce.useState(!1),d={planned:{label:"Planned",className:"status-planned"},in_progress:{label:"In Progress",className:"status-in_progress"},completed:{label:"Completed",className:"status-completed"}}[e.status]??{label:e.status.replace(/_/g," "),className:`status-${e.status}`},f=async m=>{var h,v;c(!0);try{await Y.patch(`/api/runs/${e.id}/status`,{status:m}),i(`Run status updated to "${m.replace("_"," ")}".`,"success"),o()}catch(g){console.error("Failed to update run status:",g);const x=((v=(h=g.response)==null?void 0:h.data)==null?void 0:v.message)||"Failed to update run status.";i(x,"error")}finally{c(!1)}},p=async()=>{var m,h;try{const v=await Y.get(`/api/runs/${e.id}/manifest`,{responseType:"blob"}),g=window.URL.createObjectURL(new Blob([v.data],{type:"application/pdf"})),x=document.createElement("a");x.href=g,x.setAttribute("download",`manifest_run_${e.id}.pdf`),document.body.appendChild(x),x.click(),x.remove(),window.URL.revokeObjectURL(g),i("Manifest generated successfully!","success")}catch(v){console.error("Failed to generate manifest:",v);const g=((h=(m=v.response)==null?void 0:m.data)==null?void 0:h.message)||"Failed to generate manifest.";i(g,"error")}};return l.jsxs("div",{className:"card planit-section active-run-view",children:[l.jsxs("div",{className:"planit-section-header",children:[l.jsx("h3",{children:e.displayText}),l.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[l.jsx("span",{className:`status ${d.className}`,children:d.label}),l.jsx("button",{type:"button",className:"btn-icon",title:"Close View","aria-label":"Close view",onClick:n,style:{marginLeft:"1rem"},children:l.jsx(ft,{size:18})})]})]}),l.jsx("div",{className:"run-capacity-details",style:{padding:"0 1rem 1rem 1rem",borderBottom:"1px solid var(--border-color)"},children:e.hasCapacity?l.jsxs(l.Fragment,{children:[l.jsx(Cp,{current:e.totalKilos,max:e.maxPayload,label:"kg",icon:l.jsx(Ss,{size:14})}),l.jsx(Cp,{current:e.totalSpaces,max:e.maxPallets,label:"spaces",icon:l.jsx(bs,{size:14})})]}):l.jsxs("div",{className:"run-stats",children:[l.jsxs("span",{children:[l.jsx(Ss,{size:14})," ",e.totalKilos||0," kg"]}),l.jsxs("span",{children:[l.jsx(bs,{size:14})," ",e.totalSpaces||0," spaces"]})]})}),l.jsxs("div",{className:"form-actions",style:{padding:"1rem",justifyContent:"center"},children:[e.status==="planned"&&l.jsxs("button",{type:"button",onClick:()=>f("in_progress"),className:"btn-primary",children:[l.jsx(Lb,{size:16})," Start Run"]}),e.status==="in_progress"&&l.jsxs("button",{type:"button",onClick:()=>f("completed"),className:"btn-primary",children:[l.jsx(bu,{size:16})," Complete Run"]}),(e.status==="in_progress"||e.status==="completed")&&l.jsxs("button",{type:"button",onClick:p,className:"btn-secondary","aria-label":"Download manifest",children:[l.jsx(cl,{size:16})," Download Manifest"]})]}),l.jsx("div",{className:"planit-list-wrapper",children:l.jsx(yl,{droppableId:`run-active-${e.id}`,children:m=>l.jsxs("div",{...m.droppableProps,ref:m.innerRef,className:"planit-list",children:[t.map((h,v)=>{var y;const x=Di((y=h.recipient_details)==null?void 0:y.postCode,s)?"delivery":"collection";return l.jsx(Ku,{draggableId:`assigned-order-${h.id}`,index:v,children:_=>{var C,k;return l.jsxs("div",{ref:_.innerRef,..._.draggableProps,..._.dragHandleProps,className:"planit-list-item with-actions",style:{position:"relative",paddingLeft:"1.5rem"},children:[l.jsx("div",{className:`op-type-indicator ${x}`}),l.jsxs("div",{className:"planit-item-text",style:{display:"flex",flexDirection:"column",gap:"0.25rem",flexGrow:1},children:[l.jsxs("strong",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[x==="delivery"?l.jsx(pb,{size:16}):l.jsx(gb,{size:16}),h.order_number||h.customer_reference]}),l.jsx("div",{style:{fontSize:"0.85em",color:"var(--text-muted-color)"},children:(()=>{const D=x==="delivery"?h.recipient_details:h.sender_details;return l.jsxs("span",{children:[(D==null?void 0:D.name)??"",", ",(D==null?void 0:D.address1)??"",", ",(D==null?void 0:D.postCode)??""]})})()}),l.jsxs("div",{className:"run-stats",style:{fontSize:"0.85em",gap:"1rem"},children:[l.jsxs("span",{children:[l.jsx(Ss,{size:12})," ",((C=h.cargo_details)==null?void 0:C.total_kilos)||0," kg"]}),l.jsxs("span",{children:[l.jsx(bs,{size:12})," ",((k=h.cargo_details)==null?void 0:k.total_spaces)||0," spaces"]})]})]}),l.jsx("div",{className:"planit-item-actions",children:l.jsx("button",{type:"button",className:"btn-icon btn-danger",title:"Unassign Order","aria-label":"Unassign order",onClick:()=>r(h.assignmentId),children:l.jsx(or,{size:16})})})]})}},`assigned-order-${h.id}`)}),m.placeholder]})})})]})},lN=w.memo(iN),Gy=e=>{const t=sN(),n=!!t,r=n?t:e,{isPopOut:s=n,...o}=r,i=w.useCallback(a=>{const c={...o};Object.keys(c).forEach(u=>{typeof c[u]=="function"&&delete c[u]}),sessionStorage.setItem("popOutData",JSON.stringify(c)),window.open("/planit/popout","PlanIt View","width=1200,height=800,resizable=yes,scrollbars=yes")},[o]);return l.jsx(YE,{initialData:o,...o,children:l.jsx(aN,{isPopOut:s,handlePopOut:i})})},aN=({isPopOut:e,handlePopOut:t})=>{const{selectedDate:n,activeRunId:r,editingRun:s,isFormVisible:o,selectedOrderIds:i,contextMenu:a,handleAddNewRun:c,setSelectedDate:u,setActiveRunId:d,setIsFormVisible:f,handleSaveRun:p,handleBulkAssign:m,handleBulkDelete:h,setContextMenu:v,triggerRefresh:g,handleEditRun:x,enrichedRuns:y,availableOrders:_,activeRun:C,ordersForActiveRun:k,handleDragEnd:D,handleDeleteAssignment:N,handleDeleteRun:b,isLoadingRuns:S,initialData:{drivers:j,trucks:E,trailers:P,zones:O,pallets:U}}=Hy();if(!j||!E||!P||!O)return l.jsx("div",{className:"loading",children:"Loading planning data..."});const z=JE(O);ce.useEffect(()=>{const R=()=>v({visible:!1,x:0,y:0});return window.addEventListener("click",R),()=>window.removeEventListener("click",R)},[v]);const F=w.useCallback(R=>{d(I=>I===R?null:R)},[d]),H=w.useCallback(()=>d(null),[d]);return l.jsxs(Ay,{onDragEnd:D,children:[o&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"modal-backdrop",onClick:()=>f(!1)}),l.jsx(Rg,{itemToEdit:s??null,onSuccess:p,onCancel:()=>f(!1),drivers:j||[],trucks:E||[],trailers:P||[]})]}),l.jsx("div",{className:"planit-container-resizable",children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"1rem",height:"100%"},children:[l.jsx(tN,{orders:_,zones:O||[],homeZone:z,selectedDate:n,onPopOut:t}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",minHeight:0},children:[a.visible&&l.jsxs("div",{className:"context-menu",style:{top:a.y,left:a.x},children:[l.jsx("button",{type:"button",onClick:m,disabled:!r,"aria-label":"Assign selected to active run",children:"Assign to Active Run"}),i.length>1&&l.jsxs("button",{type:"button",onClick:h,className:"btn-danger","aria-label":`Delete ${i.length} orders`,children:["Delete ",i.length," Orders"]})]}),l.jsx(rN,{runs:y,onPopOut:t,onDelete:b,handleAddNewRun:c,onEdit:x,selectedDate:n,onDateChange:u,activeRunId:r,isLoading:S,onRunSelect:F}),l.jsx(lN,{run:C,assignedOrders:k||[],onDeselect:H,onDeleteAssignment:N,homeZone:z,triggerRefresh:g})]})]})})]})},cN=({invoices:e=[]})=>{const{showToast:t}=Se(),n=[{key:"invoice_number",header:"Invoice #",icon:l.jsx(cl,{size:16}),sortable:!0},{key:"customer_name",header:"Customer",icon:l.jsx(Cg,{size:16}),sortable:!0},{key:"issue_date",header:"Issue Date",icon:l.jsx(bg,{size:16}),render:s=>new Date(s.issue_date).toLocaleDateString(),sortable:!0},{key:"due_date",header:"Due Date",render:s=>new Date(s.due_date).toLocaleDateString(),sortable:!0},{key:"total_amount",header:"Amount",icon:l.jsx(Vs,{size:16}),render:s=>`${parseFloat(s.total_amount).toFixed(2)}`,sortable:!0},{key:"status",header:"Status",render:s=>l.jsx("span",{className:`status status-${s.status}`,children:s.status}),sortable:!0}],r=async s=>{try{const o=await Y.get(`/api/invoices/${s}/pdf`,{responseType:"blob"}),i=window.URL.createObjectURL(new Blob([o.data])),a=document.createElement("a");a.href=i,a.setAttribute("download",`invoice_${s}.pdf`),document.body.appendChild(a),a.click(),a.remove()}catch{t("Failed to download invoice PDF.","error")}};return l.jsx(Yt,{items:e,columns:n,title:"Generated Invoices",filterPlaceholder:"Filter invoices...",filterKeys:["invoice_number","customer_name","status"],initialSortKey:"issue_date",customActions:[{icon:l.jsx(uo,{size:16}),onClick:s=>r(s.id),title:"Download PDF"}]})},uN=({orders:e=[],customers:t=[],surcharges:n=[],invoices:r=[],onEdit:s,onRefresh:o,invoiceActions:i})=>{const{showToast:a}=Se(),[c,u]=w.useState("overview"),[d,f]=w.useState({start:new Date(new Date().setMonth(new Date().getMonth()-1)).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[p,m]=w.useState({visible:!1,x:0,y:0,selectedOrder:null}),[h,v]=w.useState(""),g=w.useMemo(()=>new Map(t.map(E=>[E.id,E])),[t]);w.useMemo(()=>new Map(n.map(E=>[E.code.toLowerCase(),E.name])),[n]);const x=w.useMemo(()=>new Map(n.map(E=>[E.code,E])),[n]);ce.useEffect(()=>{const E=()=>m({visible:!1,x:0,y:0,selectedOrder:null});return window.addEventListener("click",E),()=>window.removeEventListener("click",E)},[]);const y=E=>{if(!E||!Array.isArray(E.pallets)||E.pallets.length===0)return"No cargo data";const P=E.price_breakdown||{},O=E.pallets.reduce((z,F)=>(z[F.type]=(z[F.type]||0)+(Number(F.quantity)||0),z),{}),U=Object.entries(O).map(([z,F])=>l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9em",gap:"1rem"},children:[l.jsxs("span",{style:{textTransform:"capitalize"},children:[F," x ",z.replace("_"," "),":"]}),l.jsxs("strong",{children:["",(P[z]||0).toFixed(2)]})]},z));return U.length>0?l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:U}):"Empty"},_=[{key:"customer_code",header:"Customer Code",sortable:!0,render:E=>{var P;return((P=g.get(E.customer_id))==null?void 0:P.customer_code)||"N/A"}},{key:"order_number",header:"Consignment #",icon:l.jsx(Su,{size:16}),sortable:!0},{key:"loading",header:"Loading",sortable:!0,render:E=>{var P,O;return l.jsxs("div",{children:[l.jsxs("div",{children:[(P=E.sender_details)==null?void 0:P.name,", ",(O=E.sender_details)==null?void 0:O.townCity]}),l.jsx("div",{className:"date-time",children:new Date(E.loading_date_time).toLocaleString()})]})},sortKey:"loading_date_time"},{key:"unloading",header:"Unloading",sortable:!0,render:E=>{var P,O;return l.jsxs("div",{children:[l.jsxs("div",{children:[(P=E.recipient_details)==null?void 0:P.name,", ",(O=E.recipient_details)==null?void 0:O.townCity]}),l.jsx("div",{className:"date-time",children:new Date(E.unloading_date_time).toLocaleString()})]})},sortKey:"unloading_date_time"},{key:"cargo_details",header:"Cargo Breakdown",render:E=>y(E.cargo_details)},{key:"total_kilos",header:"Total Weight (kg)",render:E=>{var P;return((P=E.cargo_details)==null?void 0:P.total_kilos)||0},sortable:!0,sortKey:"cargo_details.total_kilos"},{key:"total_spaces",header:"Total Spaces",render:E=>{var P;return((P=E.cargo_details)==null?void 0:P.total_spaces)||0},sortable:!0,sortKey:"cargo_details.total_spaces"},{key:"calculated_price",header:"Calculated Price",icon:l.jsx(Vs,{size:16}),render:E=>E.calculated_price?`${parseFloat(E.calculated_price).toFixed(2)}`:"-",sortable:!0},{key:"surcharges",header:"Surcharges",render:E=>{const O=(E.selected_surcharges||[]).map((U,z)=>{const F=x.get(U);if(!F||parseFloat(F.amount)<=0)return null;const H=F.amount,R=F.calculation_method==="per_order"?"PerC":"PerP";return l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9em",gap:"1rem"},children:[l.jsxs("span",{children:[U.toUpperCase()," (",R,"):"]}),l.jsxs("strong",{children:["",parseFloat(H).toFixed(2)]})]},`${U}-${z}`)}).filter(Boolean);return O.length>0?l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:O}):"-"}},{key:"final_price",header:"Final Price",icon:l.jsx(Vs,{size:16}),render:E=>E.final_price?`${parseFloat(E.final_price).toFixed(2)}`:"-",sortable:!0}],C=w.useMemo(()=>{const{start:E,end:P}=d;return!E||!P?e:e.filter(O=>{const U=O.unloading_date_time;if(!U)return!1;const z=new Date(U).toISOString().split("T")[0];return z>=E&&z<=P})},[e,d]),k=w.useMemo(()=>C.reduce((E,P)=>{var O,U;return E.totalKilos+=((O=P.cargo_details)==null?void 0:O.total_kilos)||0,E.totalSpaces+=((U=P.cargo_details)==null?void 0:U.total_spaces)||0,E.calculatedPrice+=parseFloat(P.calculated_price)||0,E.finalPrice+=parseFloat(P.final_price)||0,E},{totalKilos:0,totalSpaces:0,calculatedPrice:0,finalPrice:0}),[C]),D={total_kilos:k.totalKilos.toFixed(2),total_spaces:k.totalSpaces.toFixed(0),final_price:`${k.finalPrice.toFixed(2)}`},N=()=>{const E=_.map(R=>R.header).join(","),P=C.map(R=>_.map(I=>{var T,M;let L;if(I.render)if(I.key==="cargo_details"||I.key==="surcharges"){const $=((T=R.cargo_details)==null?void 0:T.price_breakdown)||{};let J=[];I.key==="cargo_details"?J=Object.entries(((M=R.cargo_details)==null?void 0:M.pallets)||{}).filter(([,ee])=>ee.count>0).map(([ee,ae])=>`${ee}: ${ae.count}x${($[ee]/ae.count||0).toFixed(2)}`):J=Object.entries($).filter(([ee])=>!["micro","quarter","half","plus_half","full"].includes(ee)).map(([ee,ae])=>`${ee.toUpperCase()}: ${parseFloat(ae).toFixed(2)}`),L=J.join("; ")}else if(I.key==="loading"||I.key==="unloading"){const $=I.key==="loading"?R.sender_details:R.recipient_details,J=I.key==="loading"?R.loading_date_time:R.unloading_date_time;L=`${$==null?void 0:$.name}, ${$==null?void 0:$.townCity} (${new Date(J).toLocaleString()})`}else{const $=I.render(R);L=typeof $=="object"?JSON.stringify($):String($).replace(//g,"")}else L=R[I.key];return`"${String(L||"").replace(/"/g,'""')}"`}).join(",")),O=[E,...P].join(`
`),U=new Blob([O],{type:"text/csv;charset=utf-8;"}),z=URL.createObjectURL(U),F=document.createElement("a");F.setAttribute("href",z);const H=new Date().toISOString().slice(0,10);F.setAttribute("download",`finance_overview_${H}.csv`),F.style.visibility="hidden",document.body.appendChild(F),F.click(),document.body.removeChild(F)},b=async()=>{var E,P;if(!h){a("Please select a customer first.","warning");return}try{await i.create({customerId:h,startDate:d.start,endDate:d.end}),a("Invoice generated successfully!","success")}catch(O){a(((P=(E=O.response)==null?void 0:E.data)==null?void 0:P.error)||"Failed to generate invoice.","error")}},S=(E,P)=>{E.preventDefault(),m({visible:!0,x:E.clientX,y:E.clientY,selectedOrder:P})},j=()=>{p.selectedOrder&&s&&s(p.selectedOrder),m({visible:!1,x:0,y:0,selectedOrder:null})};return l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"tabs-container",style:{marginBottom:"2rem"},children:[l.jsx("button",{className:`tab-button ${c==="overview"?"active":""}`,onClick:()=>u("overview"),children:"Overview"}),l.jsx("button",{className:`tab-button ${c==="invoices"?"active":""}`,onClick:()=>u("invoices"),children:"Invoices"})]}),c==="overview"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"planit-section-header",style:{padding:"0 0 1rem 0",marginBottom:"1rem"},children:[l.jsx("h3",{children:"Finance Overview"}),l.jsxs("div",{className:"form-group",style:{margin:"0 0 0 1rem",minWidth:"160px"},children:[l.jsx("label",{style:{fontSize:"0.8rem",marginBottom:"0.25rem"},children:"From Date"}),l.jsx("input",{type:"date",value:d.start,onChange:E=>f(P=>({...P,start:E.target.value}))})]}),l.jsxs("div",{className:"form-group",style:{margin:"0 0 0 1rem",minWidth:"160px"},children:[l.jsx("label",{style:{fontSize:"0.8rem",marginBottom:"0.25rem"},children:"To Date"}),l.jsx("input",{type:"date",value:d.end,onChange:E=>f(P=>({...P,end:E.target.value}))})]}),l.jsx("div",{style:{marginLeft:"auto"},children:l.jsxs("button",{onClick:N,className:"btn-secondary",children:[l.jsx(uo,{size:16})," Export"]})})]}),l.jsxs("div",{className:"planit-section-header",style:{padding:"0 0 1rem 0",marginBottom:"1rem",borderBottom:"1px solid var(--border-color)"},children:[l.jsx("h4",{children:"Invoicing"}),l.jsxs("div",{className:"form-group",style:{margin:"0 0 0 1rem",minWidth:"200px"},children:[l.jsx("label",{style:{fontSize:"0.8rem",marginBottom:"0.25rem"},children:"Customer"}),l.jsxs("select",{value:h,onChange:E=>v(E.target.value),children:[l.jsx("option",{value:"",children:"-- Select a customer --"}),t.map(E=>l.jsx("option",{value:E.id,children:E.name},E.id))]})]}),l.jsx("div",{style:{marginLeft:"1rem",alignSelf:"flex-end"},children:l.jsxs("button",{onClick:b,className:"btn-primary",disabled:!h,children:[l.jsx(cl,{size:16})," Generate Invoice"]})})]}),p.visible&&l.jsx("div",{className:"context-menu",style:{top:p.y,left:p.x},children:l.jsx("button",{onClick:j,children:"Edit Consignment"})}),l.jsx(Yt,{items:C,columns:_,filterPlaceholder:"Filter by consignment or customer...",filterKeys:["order_number","customer_reference","recipient_details.name"],initialSortKey:"unloading_date_time",onContextMenu:S,footerData:D})]}),c==="invoices"&&l.jsx(cN,{invoices:r})]})},dN={code:"",name:"",description:"",calculation_method:"per_order",amount:0,is_automatic:!1,requires_time:!1,start_time:"",end_time:""},fN=()=>{const{data:e,createResource:t,updateResource:n,deleteResource:r,fetchData:s}=st("/api/surcharge-types"),{showToast:o}=Se(),[i,a]=w.useState(!1),[c,u]=w.useState(null),d=async _=>{var C,k;try{c?(await n(c.id,_),o("Surcharge type updated successfully!","success")):(await t(_),o("Surcharge type created successfully!","success")),a(!1),u(null)}catch(D){throw o(((k=(C=D.response)==null?void 0:C.data)==null?void 0:k.error)||"Failed to save surcharge type.","error"),D}},{formData:f,handleChange:p,handleSubmit:m,loading:h}=qr({initialState:dN,onSubmit:d,itemToEdit:w.useMemo(()=>c?{...c,start_time:c.start_time?c.start_time.substring(0,5):"",end_time:c.end_time?c.end_time.substring(0,5):""}:null,[c])}),v=async _=>{var C,k;if(window.confirm("Are you sure you want to delete this surcharge type?"))try{await r(_),o("Surcharge type deleted.","success"),s()}catch(D){o(((k=(C=D.response)==null?void 0:C.data)==null?void 0:k.error)||"Failed to delete surcharge type.","error")}},g=()=>{u(null),a(!0)},x=_=>{u(_),a(!0)},y=()=>{a(!1),u(null)};return l.jsxs("div",{className:"card",children:[l.jsx("h2",{children:"Surcharge Types Management"}),!i&&l.jsxs("button",{onClick:g,className:"btn-primary",style:{marginBottom:"1rem"},children:[l.jsx(er,{size:16})," Add New Surcharge Type"]}),i&&l.jsxs("form",{onSubmit:m,className:"form",style:{marginBottom:"2rem",border:"1px solid #eee",padding:"1rem",borderRadius:"8px"},children:[l.jsx("h5",{children:c?"Edit Surcharge Type":"Add New Surcharge Type"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Code *"}),l.jsx("input",{type:"text",name:"code",value:f.code,onChange:p,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Name *"}),l.jsx("input",{type:"text",name:"name",value:f.name,onChange:p,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Description"}),l.jsx("input",{type:"text",name:"description",value:f.description,onChange:p})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Calculation Method"}),l.jsxs("select",{name:"calculation_method",value:f.calculation_method,onChange:p,children:[l.jsx("option",{value:"per_order",children:"Per Order"}),l.jsx("option",{value:"per_pallet_space",children:"Per Pallet Space"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Amount ()"}),l.jsx("input",{type:"number",step:"0.01",name:"amount",value:f.amount,onChange:p})]}),l.jsxs("div",{className:"form-group",style:{flexDirection:"row",alignItems:"center"},children:[l.jsx("input",{type:"checkbox",id:"is_automatic",name:"is_automatic",checked:f.is_automatic,onChange:p}),l.jsx("label",{htmlFor:"is_automatic",style:{marginBottom:0,marginLeft:"0.5rem"},children:"Automatic"})]}),l.jsxs("div",{className:"form-group",style:{flexDirection:"row",alignItems:"center"},children:[l.jsx("input",{type:"checkbox",id:"requires_time",name:"requires_time",checked:f.requires_time,onChange:p}),l.jsx("label",{htmlFor:"requires_time",style:{marginBottom:0,marginLeft:"0.5rem"},children:"Requires Time"})]}),f.requires_time&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Default Start Time"}),l.jsx("input",{type:"time",name:"start_time",value:f.start_time,onChange:p})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Default End Time"}),l.jsx("input",{type:"time",name:"end_time",value:f.end_time,onChange:p})]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:y,className:"btn-secondary",disabled:h,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:h,children:h?"Saving...":"Save"})]})]}),l.jsx("div",{className:"table-wrapper",children:l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Code"}),l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Method"}),l.jsx("th",{children:"Amount"}),l.jsx("th",{children:"Automatic"}),l.jsx("th",{children:"Requires Time"}),l.jsx("th",{children:"Start Time"}),l.jsx("th",{children:"End Time"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:e.map(_=>l.jsxs("tr",{children:[l.jsx("td",{children:_.code}),l.jsx("td",{children:_.name}),l.jsx("td",{style:{textTransform:"capitalize"},children:_.calculation_method.replace("_"," ")}),l.jsxs("td",{children:["",parseFloat(_.amount).toFixed(2)]}),l.jsx("td",{children:_.is_automatic?"Yes":"No"}),l.jsx("td",{children:_.requires_time?"Yes":"No"}),l.jsx("td",{children:_.start_time||"-"}),l.jsx("td",{children:_.end_time||"-"}),l.jsxs("td",{className:"actions-cell",children:[l.jsx("button",{onClick:()=>x(_),className:"btn-icon",children:l.jsx(fo,{size:16})}),l.jsx("button",{onClick:()=>v(_.id),className:"btn-icon btn-danger",children:l.jsx(or,{size:16})})]})]},_.id))})]})})]})},pN=({isOpen:e,onClose:t,onConfirm:n,title:r,message:s})=>e?l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"modal-content card",children:[l.jsx("button",{onClick:t,className:"btn-icon modal-close-button",children:l.jsx(ft,{size:24})}),l.jsxs("div",{className:"modal-header",children:[l.jsx(Cu,{size:48,className:"text-danger"}),l.jsx("h2",{className:"modal-title",children:r||"Confirm Action"})]}),l.jsx("div",{className:"modal-body",children:l.jsx("p",{children:s||"Are you sure you want to perform this action?"})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{onClick:t,className:"btn-secondary",children:"Cancel"}),l.jsx("button",{onClick:n,className:"btn-danger",children:"Confirm"})]})]})}):null,we=(e,t,n)=>({key:e,header:t,render:n}),Ky={orders:{title:"Import Orders",apiEndpoint:"/api/orders/import",postDataKey:"orders",dataMappingFn:e=>({order_number:e.ConsignmentNumber,customer_reference:e.CustomerReference,customer_code:e.AccountCode,status:"nowe",sender_details:{name:e.CollectionName,address1:e.CollectionAddress1,address2:e.CollectionAddress2,townCity:e.CollectionTownCity,postCode:e.CollectionPostCode},recipient_details:{name:e.DeliveryName,address1:e.DeliveryAddress1,address2:e.DeliveryAddress2,townCity:e.DeliveryTownCity,postCode:e.DeliveryPostCode},loading_date_time:e.CollectionDate?`${e.CollectionDate}T${e.CollectionTime||"12:00:00"}`:null,unloading_date_time:e.DeliveryDate?`${e.DeliveryDate}T${e.DeliveryTime||"12:00:00"}`:null,...(()=>{const t={BW:{hours:4,type:"window"},AM:{startTime:"09:00",type:"before"},PT:{startTime:"09:00",type:"before"}},n=(e.Surcharges||"").split(" ").filter(Boolean),r=e.DeliveryTime||null,s=n.find(o=>t[o]);if(s&&r){const o=t[s],i=r.slice(0,5);let a=o.startTime;if(o.type==="window"){const[c,u]=i.split(":").map(Number),d=new Date(0,0,0,c,u);d.setHours(d.getHours()-o.hours),a=d.toTimeString().slice(0,5)}return{unloading_start_time:a,unloading_end_time:i}}return{unloading_start_time:(r==null?void 0:r.slice(0,5))||null,unloading_end_time:null}})(),cargo_details:{description:`Spaces: ${e.TotalSpaces}, Kilos: ${e.TotalKilos}`,pallets:Object.entries({full:{quantity:parseInt(e.FullQ)||0,spaces:parseFloat(e.FullS)||parseInt(e.FullQ)||0,weight:parseFloat(e.FullW)||0},half:{quantity:parseInt(e.HalfQ)||0,spaces:parseFloat(e.HalfS)||.5*(parseInt(e.HalfQ)||0),weight:parseFloat(e.HalfW)||0},half_plus:{quantity:parseInt(e.HalfPlusQ)||0,spaces:parseFloat(e.HalfPlusS)||1.5*(parseInt(e.HalfPlusQ)||0),weight:parseFloat(e.HalfPlusW)||0},quarter:{quantity:parseInt(e.QuarterQ)||0,spaces:parseFloat(e.QuarterS)||.5*(parseInt(e.QuarterQ)||0),weight:parseFloat(e.QuarterW)||0},micro:{quantity:parseInt(e.MicroQ)||0,spaces:parseFloat(e.MicroS)||.25*(parseInt(e.MicroQ)||0),weight:parseFloat(e.MicroW)||0}}).filter(([,t])=>t.quantity>0).map(([t,n])=>({type:t,quantity:n.quantity,spaces:n.spaces,weight:n.weight})),total_kilos:parseFloat(e.TotalKilos)||0,total_spaces:parseFloat(e.TotalSpaces)||0,amazon_asn:e.AmazonASN,amazon_fbaref:e.AmazonFBARef,amazon_carton_count:parseInt(e.AmazonCartonCount,10)||null,amazon_unit_count:parseInt(e.AmazonUnitCount,10)||null,amazon_poref:e.AmazonPORef},service_level:e.ServiceCode||"A",selected_surcharges:(e.Surcharges||"").split(" ").filter(Boolean)}),previewColumns:[we("order_number","Consignment #"),we("customer_code","Customer Code"),we("sender_details.name","Sender"),we("recipient_details.name","Recipient")]},customers:{title:"Import Customers",apiEndpoint:"/api/customers/import",dataMappingFn:e=>e,previewColumns:[we("customer_code","Code"),we("name","Name"),we("postcode","Postcode")]},drivers:{title:"Import Drivers",apiEndpoint:"/api/drivers/import",dataMappingFn:e=>e,previewColumns:[we("first_name","First Name"),we("last_name","Last Name"),we("login_code","Login Code")]},trucks:{title:"Import Vehicles",apiEndpoint:"/api/trucks/import",postDataKey:"trucks",dataMappingFn:e=>({registration_plate:e.registration_plate||"",brand:e.brand||"",model:e.model||"",vin:e.vin||"",production_year:e.production_year?parseInt(e.production_year,10):null,type_of_truck:e.type_of_truck||"tractor",total_weight:e.total_weight?parseInt(e.total_weight,10):null,pallet_capacity:e.pallet_capacity?parseInt(e.pallet_capacity,10):null,max_payload_kg:e.max_payload_kg?parseInt(e.max_payload_kg,10):null,is_active:!(e.is_deleted==="true"||e.is_deleted===!0)}),previewColumns:[we("registration_plate","Reg. Plate"),we("brand","Brand"),we("type_of_truck","Type")]},trailers:{title:"Import Trailers",apiEndpoint:"/api/trailers/import",postDataKey:"trailers",dataMappingFn:e=>({registration_plate:e.registration_plate||"",description:e.description||"",category:e.category||"Own",brand:e.brand||"Unknown",max_payload_kg:e.max_payload_kg?parseInt(e.max_payload_kg,10):null,max_spaces:e.max_spaces?parseInt(e.max_spaces,10):null,length_m:e.length_m?parseFloat(e.length_m):null,width_m:e.width_m?parseFloat(e.width_m):null,height_m:e.height_m?parseFloat(e.height_m):null,weight_kg:e.weight_kg?parseInt(e.weight_kg,10):null,status:e.status?e.status.toLowerCase():"inactive"}),previewColumns:[we("registration_plate","Reg. Plate"),we("description","Description"),we("max_payload_kg","Payload (kg)"),we("status","Status")]},users:{title:"Import Users",apiEndpoint:"/api/users/import",dataMappingFn:e=>e,previewColumns:[we("email","Email"),we("first_name","First Name"),we("last_name","Last Name"),we("role","Role")]},zones:{title:"Import Postcode Zones",apiEndpoint:"/api/zones/import",dataMappingFn:e=>({...e,postcode_patterns:(e.postcode_patterns||"").split(";").map(t=>t.trim()).filter(Boolean),is_home_zone:["true","yes","1"].includes(String(e.is_home_zone).toLowerCase())}),previewColumns:[we("zone_name","Zone Name"),we("postcode_patterns","Patterns",e=>(e.postcode_patterns||[]).join(", ")),we("is_home_zone","Home Zone",e=>e.is_home_zone?"Yes":"No")]}},mN=()=>{const[e,t]=w.useState("orders"),[n,r]=w.useState(!1),[s,o]=w.useState(null),[i,a]=w.useState(null),[c,u]=w.useState({isOpen:!1,message:"",onConfirm:()=>{}});return{currentView:e,showForm:n,itemToEdit:s,importerConfig:i,modalState:c,handleViewChange:x=>{t(x),r(!1),a(null),o(null)},handleEditClick:x=>{o(x),a(null),r(!0)},handleCancelForm:()=>{r(!1),o(null)},handleShowImporter:x=>a(Ky[x]),handleHideImporter:()=>a(null),handleDeleteRequest:(x,y)=>{u({isOpen:!0,message:x,onConfirm:async()=>{await y(),u({isOpen:!1,message:"",onConfirm:()=>{}})}})},handleCloseModal:()=>{u({isOpen:!1,message:"",onConfirm:()=>{}})},setShowForm:r,setItemToEdit:o}},hN=(e=!0)=>{const{user:t,isAuthenticated:n}=sr(),r=(t==null?void 0:t.role)==="admin",s=(t==null?void 0:t.role)==="dispatcher",o=()=>{console.log(" Refreshing all resources..."),e&&Object.values(i).forEach(k=>k.fetchData&&k.fetchData())};Yu(o);const i={orders:st(e?"/api/orders":null,n),drivers:st(e&&r?"/api/drivers":null,n),trucks:st(e&&r?"/api/trucks":null,n),trailers:st(e&&r?"/api/trailers":null,n),users:st(e&&r?"/api/users":null,n),assignments:st(e?"/api/assignments":null,n),customers:st(e&&(r||s)?"/api/customers":null,n),zones:st(e&&(r||s)?"/api/zones":null,n),surcharges:st(e&&r?"/api/surcharge-types":null,n),invoices:st(e&&r?"/api/invoices":null,n),runs:st(e?"/api/runs":null,n)},{orders:a,drivers:c,trucks:u,trailers:d,users:f,assignments:p,runs:m,customers:h,zones:v}=i,g=w.useMemo(()=>Object.values(i).some(k=>k.isLoading),[i]),x=w.useMemo(()=>Object.values(i).map(k=>k.error).find(k=>k!=null),[i]),y=k=>{i[k]&&i[k].fetchData&&i[k].fetchData()},_=w.useMemo(()=>Object.fromEntries(Object.entries(i).map(([k,D])=>[k,D.data])),[...Object.values(i).map(k=>k.data)]),C=w.useMemo(()=>Object.fromEntries(Object.entries(i).map(([k,D])=>[k,{create:D.createResource,update:D.updateResource,delete:D.deleteResource,bulkCreate:D.bulkCreate}])),[i]);return{data:_,isLoading:g,anyError:x,handleRefresh:y,refreshAll:o,actions:C}},Qy=w.createContext(null),vl=()=>{const e=w.useContext(Qy);if(!e)throw new Error("useDashboard must be used within a DashboardProvider");return e},Yy=({children:e})=>{const t=mN(),n=hN(),{user:r,logout:s}=sr(),{showToast:o}=Se(),i=oo(),d={...t,...n,user:r,handleLogout:()=>{s(),i("/login")},handleFormSuccess:()=>{n.refreshAll(),t.handleCancelForm()},handleGenericExport:async f=>{var p,m;try{const h=await Y.get(`/api/${f}/export`);o(h.data.message||`Export for ${f} successful!`,"success")}catch(h){const v=((m=(p=h.response)==null?void 0:p.data)==null?void 0:m.error)||`Failed to export ${f}.`;o(v,"error")}}};return l.jsx(Qy.Provider,{value:d,children:e})},gN=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(""),[s,o]=w.useState(null),{login:i,loading:a}=sr(),{showToast:c}=Se(),u=oo(),d=w.useRef(null),f=async p=>{var m,h,v;p.preventDefault();try{await i(e,n),u("/")}catch(g){const x=((h=(m=g.response)==null?void 0:m.data)==null?void 0:h.error)||"Login failed. Please check your credentials.";c(x,"error"),r(""),(v=d.current)==null||v.focus(),console.error("Login error:",g)}};return l.jsx("div",{className:"auth-page",children:l.jsxs("div",{className:"auth-card",children:[l.jsx("h2",{children:"Login"}),l.jsxs("form",{onSubmit:f,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"email",children:"Email"}),l.jsx("input",{type:"email",id:"email",value:e,onChange:p=>t(p.target.value),ref:d,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"password",children:"Password"}),l.jsx("input",{type:"password",id:"password",value:n,onChange:p=>r(p.target.value),required:!0})]}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:a,children:a?"Logging in...":"Login"})]}),l.jsxs("p",{className:"auth-switch",children:["Don't have an account? ",l.jsx(Gh,{to:"/register",children:"Register"})]})]})})},yN=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(""),[s,o]=w.useState(""),[i,a]=w.useState(""),[c,u]=w.useState(null),{register:d,loading:f}=sr(),p=oo(),m=w.useRef(null),h=async v=>{var g,x,y;v.preventDefault(),u(null);try{await d({email:e,password:n,firstName:s,lastName:i}),p("/login")}catch(_){const C=((x=(g=_.response)==null?void 0:g.data)==null?void 0:x.error)||"Registration failed. Please try again.";u(C),r(""),(y=m.current)==null||y.focus(),console.error("Registration error:",_)}};return l.jsx("div",{className:"auth-page",children:l.jsxs("div",{className:"auth-card",children:[l.jsx("h2",{children:"Register"}),l.jsxs("form",{onSubmit:h,children:[c&&l.jsx("div",{className:"error-message",children:c}),l.jsxs("div",{className:"form-grid",style:{gap:"1rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"firstName",children:"First Name"}),l.jsx("input",{type:"text",id:"firstName",value:s,onChange:v=>o(v.target.value),required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"lastName",children:"Last Name"}),l.jsx("input",{type:"text",id:"lastName",value:i,onChange:v=>a(v.target.value),required:!0})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"email",children:"Email"}),l.jsx("input",{type:"email",id:"email",value:e,onChange:v=>t(v.target.value),ref:m,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"password",children:"Password"}),l.jsx("input",{type:"password",id:"password",value:n,onChange:v=>r(v.target.value),required:!0})]}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:f,children:f?"Registering...":"Register"})]}),l.jsxs("p",{className:"auth-switch",children:["Already have an account? ",l.jsx(Gh,{to:"/login",children:"Login"})]})]})})};class zo extends ce.Component{constructor(n){super(n);Xu(this,"handleReset",()=>{this.props.onReset?this.props.onReset():this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){this.setState({errorInfo:r}),console.error("Bd komponentu:",n,r)}render(){return this.state.hasError?l.jsxs("div",{className:"card",style:{textAlign:"center"},children:[l.jsx("h2",{children:"Something went wrong! "}),l.jsx("p",{children:"We apologize for the inconvenience. Below are the technical details that may help resolve the issue:"}),l.jsxs("details",{style:{whiteSpace:"pre-wrap",textAlign:"left",background:"#f8d7da",border:"1px solid #f5c6cb",padding:"1rem",borderRadius:"8px"},children:[l.jsx("summary",{children:"Error Details"}),this.state.error&&this.state.error.toString(),l.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]}),l.jsx("button",{onClick:this.handleReset,className:"btn-primary",style:{marginTop:"1rem"},children:"Try Again"})]}):this.props.children}}const vN=({viewConfig:e})=>{var N;const{currentView:t,isLoading:n,anyError:r,handleRefresh:s,importerConfig:o,handleFormSuccess:i,handleHideImporter:a,showForm:c,handleCancelForm:u,itemToEdit:d,handleEditClick:f,handleDeleteRequest:p,user:m,data:h}=vl(),{drivers:v,trucks:g,trailers:x,customers:y,zones:_,surcharges:C}=h||{};if(!m||!e)return null;const k=e[t];if(!k)return null;if(k.Component&&!k.ListComponent)return l.jsx(zo,{children:l.jsx(k.Component,{...k.props})});const D=(N=e[t])==null?void 0:N.data;if(n&&(!D||D.length===0))return l.jsx("div",{className:"loading",children:"Loading data..."});if(r)return l.jsxs("div",{className:"error-container",children:[l.jsx("h3",{children:"Error loading data"}),l.jsx("p",{className:"error-message",children:r}),l.jsx("button",{onClick:()=>s(t),className:"btn-primary",children:"Try again"})]});if(k.ListComponent){if(o)return l.jsx(zo,{onReset:()=>s(t),children:l.jsx(Qu,{...o,onSuccess:i,onCancel:a})});if(c){const S={onSuccess:i,onCancel:u,itemToEdit:d,...t==="orders"&&{drivers:v,trucks:g,trailers:x,clients:y,surcharges:C}};return l.jsx(zo,{onReset:()=>onRefresh(t),children:l.jsx(k.FormComponent,{...S})})}const b={items:k.data,onRefresh:()=>s(t),onEdit:f,onDelete:p,currentUser:m,...t==="orders"&&{drivers:v,trucks:g,trailers:x,zones:_}};return l.jsx(zo,{onReset:()=>s(t),children:l.jsx(k.ListComponent,{...b})})}return null},xN=e=>e?e.first_name&&e.last_name?`${e.first_name.charAt(0)}${e.last_name.charAt(0)}`.toUpperCase():e.email.split("@")[0].split(/[._-]/).filter(Boolean).map(r=>r.charAt(0)).join("").substring(0,2).toUpperCase():"",_N=[{title:"Main",icon:l.jsx(Db,{size:16}),links:[{view:"orders",label:"Orders",icon:l.jsx(Su,{size:18}),roles:["admin","dispatcher"]},{view:"runs",label:"Runs",icon:l.jsx(Pb,{size:18}),roles:["admin","dispatcher"]}]},{title:"PlanIt",icon:l.jsx(Oo,{size:16}),links:[{view:"planit",label:"PlanIt",icon:l.jsx(Oo,{size:18}),roles:["admin","dispatcher"]}]},{title:"Finance",icon:l.jsx(Ql,{size:16}),links:[{view:"finance",label:"Finance",icon:l.jsx(Ql,{size:18}),roles:["admin"]}]},{title:"Management",icon:l.jsx(Ff,{size:16}),links:[{view:"drivers",label:"Drivers",icon:l.jsx(Cg,{size:18}),roles:["admin"]},{view:"trucks",label:"Vehicles",icon:l.jsx(Oo,{size:18}),roles:["admin"]},{view:"trailers",label:"Trailers",icon:l.jsx(Oo,{size:18,style:{transform:"scaleX(-1)"}}),roles:["admin"]},{view:"customers",label:"Customers",icon:l.jsx(Mf,{size:18}),roles:["admin"]},{view:"users",label:"Users",icon:l.jsx(Mf,{size:18}),roles:["admin"]}]},{title:"Settings",icon:l.jsx(Ff,{size:16}),links:[{view:"pricing",label:"Pricing",icon:l.jsx(Vs,{size:18}),roles:["admin"]},{view:"surcharges",label:"Surcharges",icon:l.jsx(Ql,{size:18}),roles:["admin"]}]}],wN=()=>{const{user:e,handleLogout:t,currentView:n,handleViewChange:r,isLoading:s}=vl();return l.jsxs("nav",{className:"sidebar",children:[l.jsxs("div",{className:"sidebar-header",children:[l.jsx("div",{className:"user-avatar",title:e==null?void 0:e.email,children:l.jsx("span",{children:xN(e)})}),l.jsx("button",{onClick:t,className:"btn-icon btn-logout",title:"Logout",children:l.jsx(Ab,{size:20})})]}),l.jsx("h1",{className:"sidebar-title",children:" TMS System"}),s&&l.jsx("div",{className:"global-loading",children:"Loading..."}),l.jsx("div",{className:"sidebar-content",children:_N.map(o=>l.jsxs("div",{className:"sidebar-section",children:[l.jsx("div",{className:"sidebar-section-icon",children:o.icon}),o.links.filter(i=>i.roles.includes(e==null?void 0:e.role)).map(i=>l.jsx("button",{title:i.label,className:`tab ${n===i.view?"tab-active":""}`,onClick:()=>r(i.view),disabled:s,children:i.icon},i.view))]},o.title))})]})},bN=({viewConfig:e})=>{var y;const{user:t}=sr(),{currentView:n,showForm:r,importerConfig:s,handleShowImporter:o,handleCancelForm:i,setShowForm:a,setItemToEdit:c,handleHideImporter:u,handleGenericExport:d,isLoading:f}=vl();if(!e||!n)return l.jsxs("header",{className:"main-header",children:[l.jsx("div",{}),l.jsx("div",{className:"main-header-actions"})]});const p={orders:"order",drivers:"driver",trucks:"truck",trailers:"trailer",runs:"run",users:"user",customers:"customer",zones:"zone",planit:"PlanIt",finance:"Finance",pricing:"Pricing"},m=()=>p[n]||"",h=["drivers","trucks","trailers","customers","users"],v=Ky[n]&&(t==null?void 0:t.role)==="admin",g=h.includes(n)&&(t==null?void 0:t.role)==="admin",x=(y=e[n])==null?void 0:y.FormComponent;return l.jsxs("header",{className:"main-header",children:[l.jsx("div",{}),l.jsxs("div",{className:"main-header-actions",children:[v&&l.jsxs("button",{onClick:()=>o(n),className:"btn-secondary",disabled:f||r||s,children:[l.jsx(ju,{size:16})," Import from CSV"]}),g&&l.jsxs("button",{onClick:()=>d(n),className:"btn-secondary",disabled:f,children:[l.jsx(uo,{size:16})," Export"]}),x&&l.jsx("button",{onClick:()=>{r?i():(c(null),a(!0),u())},className:"btn-primary",disabled:f,children:r?"Cancel":l.jsxs(l.Fragment,{children:[l.jsx(er,{size:16})," Add ",m()]})})]})]})},SN=()=>{const[e,t]=w.useState(!1),[n,r]=w.useState(""),[s,o]=w.useState(!1),{user:i}=sr(),{showToast:a}=Se();if(!i)return null;const c=async u=>{var d,f;if(u.preventDefault(),!n.trim()){a("Please provide a description of the issue.","error");return}o(!0);try{const p={description:n,context:{url:window.location.href,user:{id:i.id,email:i.email,role:i.role},userAgent:navigator.userAgent}};await Y.post("/api/feedback/report-bug",p),a("Bug report sent successfully. Thank you!","success"),t(!1),r("")}catch(p){a(((f=(d=p.response)==null?void 0:d.data)==null?void 0:f.error)||"Failed to send bug report.","error")}finally{o(!1)}};return l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>t(!0),className:"btn-icon",style:{position:"fixed",bottom:"2rem",right:"2rem",backgroundColor:"var(--danger-color)",color:"white",width:"50px",height:"50px",borderRadius:"50%",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",zIndex:999},title:"Report a Bug",children:l.jsx(_b,{size:24})}),e&&l.jsx("div",{className:"modal-overlay",children:l.jsx("div",{className:"modal-content card",style:{width:"500px"},children:l.jsxs("form",{onSubmit:c,children:[l.jsx("h4",{children:"Report a Bug"}),l.jsx("p",{children:"Please describe the issue you encountered. Include steps to reproduce it if possible."}),l.jsx("textarea",{value:n,onChange:u=>r(u.target.value),rows:"6",required:!0,style:{width:"100%",padding:"0.5rem",boxSizing:"border-box"}}),l.jsxs("div",{className:"form-actions",style:{marginTop:"1rem"},children:[l.jsx("button",{type:"button",onClick:()=>t(!1),className:"btn-secondary",disabled:s,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:s,children:s?"Sending...":"Send Report"})]})]})})})]})},CN=({user:e,data:t,actions:n,refreshAll:r,handleDeleteRequest:s,handleEditOrderFromAnywhere:o,handlePrintLabels:i})=>{const a=(e==null?void 0:e.role)==="admin",c=(e==null?void 0:e.role)==="dispatcher",{orders:u,drivers:d,trucks:f,trailers:p,users:m,assignments:h,runs:v,customers:g,zones:x,surcharges:y,invoices:_}=t||{},C={runs:{Component:_1,props:{runs:v,trucks:f,trailers:p,drivers:d,onDataRefresh:r,onDeleteRequest:s,runActions:n.runs}},planit:{Component:Gy,props:{orders:u,runs:v,assignments:h,drivers:d,trucks:f,trailers:p,zones:x,pallets:(t==null?void 0:t.pallets)||[],onAssignmentCreated:r,onEdit:o,surcharges:y,runActions:n.runs,onDeleteRequest:s,bulkAssignOrders:n.assignments.bulkCreate}},finance:{Component:uN,props:{orders:u,customers:g,surcharges:y,invoices:_,onEdit:o,onRefresh:r,invoiceActions:n.invoices}},pricing:{Component:KE,props:{customers:g,zones:x,onRefresh:r}},surcharges:{Component:fN,props:{surcharges:y}}},k={drivers:{ListComponent:l1,FormComponent:c1,data:d},trucks:{ListComponent:u1,FormComponent:d1,data:f},customers:{ListComponent:m1,FormComponent:g1,data:g},trailers:{ListComponent:f1,FormComponent:p1,data:p},users:{ListComponent:v1,FormComponent:x1,data:m}},D={orders:{ListComponent:y1,FormComponent:Dg,formProps:{clients:g,surcharges:y},data:u,customActions:[{icon:l.jsx(Sg,{size:16}),onClick:i,title:"Print Pallet Labels"}]}};let N={...C};return a?N={...N,...k,...D}:c&&(N={...N,...D}),N};console.log(" Environment variables:");console.log("VITE_API_BASE_URL:","http://149.71.141.253:3000");console.log("Mode:","production");const jN=()=>{const{user:e,modalState:t,handleCloseModal:n,handleDeleteRequest:r,showToast:s,data:o,refreshAll:i,actions:a}=vl(),{customers:c,surcharges:u}=o||{},d=m=>{if(!m||!m.id)return;sessionStorage.setItem("editOrderData",JSON.stringify({itemToEdit:m,clients:c,surcharges:u}));const h=`/orders/${m.id}/edit`;window.open(h,`Edit Order ${m.order_number||m.id}`,"width=1000,height=800,resizable=yes,scrollbars=yes")},f=async m=>{try{const h=await Y.get(`/api/orders/${m}/labels`,{responseType:"blob"}),v=window.URL.createObjectURL(new Blob([h.data])),g=document.createElement("a");g.href=v,g.setAttribute("download",`labels_order_${m}.pdf`),document.body.appendChild(g),g.click(),g.remove(),window.URL.revokeObjectURL(v)}catch{s("Failed to download labels.","error")}},p=w.useMemo(()=>CN({user:e,data:o,actions:a,refreshAll:i,handleDeleteRequest:r,handleEditOrderFromAnywhere:d,handlePrintLabels:f}),[e,o,a,i,r,d,f]);return w.useEffect(()=>(document.body.classList.add("main-app-body"),()=>{document.body.classList.remove("main-app-body")}),[]),l.jsxs("div",{className:"app-container",children:[l.jsx(wN,{}),l.jsxs("main",{className:"main-content",children:[l.jsx(bN,{viewConfig:p}),l.jsx(vN,{viewConfig:p}),l.jsx(pN,{isOpen:t.isOpen,onClose:n,onConfirm:t.onConfirm,title:"Confirm Deletion",message:t.message}),l.jsx(SN,{})]})]})},kN=()=>l.jsx(Yy,{children:l.jsx(jN,{})}),EN=()=>{const{postMessage:e}=Yu(),[t,n]=w.useState(null);w.useEffect(()=>{const s=sessionStorage.getItem("editOrderData");s&&n(JSON.parse(s))},[]);const r=()=>{e("refresh_data"),window.close()};return t?l.jsx(Dg,{...t,onSuccess:r,onCancel:()=>window.close()}):l.jsx("div",{className:"loading",children:"Loading order data..."})},da=({children:e})=>{const{isAuthenticated:t,isLoading:n}=sr();return n?l.jsx("div",{className:"loading",children:"Verifying authorization..."}):t?e:l.jsx(y_,{to:"/login",replace:!0})},NN=({view:e})=>l.jsx(oN,{children:l.jsx("div",{className:"popout-container",children:l.jsx(Gy,{isPopOut:!0})})});function DN(){return l.jsx(i1,{children:l.jsxs(x_,{children:[l.jsx(cr,{path:"/login",element:l.jsx(gN,{})}),l.jsx(cr,{path:"/register",element:l.jsx(yN,{})}),l.jsx(cr,{path:"/*",element:l.jsx(da,{children:l.jsx(kN,{})})}),l.jsx(cr,{path:"/planit/popout",element:l.jsx(da,{children:l.jsx(NN,{})})}),l.jsx(cr,{path:"/orders/:orderId/edit",element:l.jsx(da,{children:l.jsx(Yy,{children:l.jsx(EN,{})})})})]})})}fa.createRoot(document.getElementById("root")).render(l.jsx(ce.StrictMode,{children:l.jsx(k_,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:l.jsx(ib,{children:l.jsx(DN,{})})})}));
