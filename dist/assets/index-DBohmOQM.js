var Xy=Object.defineProperty;var ev=(e,t,n)=>t in e?Xy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ed=(e,t,n)=>ev(e,typeof t!="symbol"?t+"":t,n);function tv(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ep={exports:{}},zi={},Np={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eo=Symbol.for("react.element"),rv=Symbol.for("react.portal"),sv=Symbol.for("react.fragment"),ov=Symbol.for("react.strict_mode"),iv=Symbol.for("react.profiler"),lv=Symbol.for("react.provider"),av=Symbol.for("react.context"),cv=Symbol.for("react.forward_ref"),uv=Symbol.for("react.suspense"),dv=Symbol.for("react.memo"),fv=Symbol.for("react.lazy"),td=Symbol.iterator;function pv(e){return e===null||typeof e!="object"?null:(e=td&&e[td]||e["@@iterator"],typeof e=="function"?e:null)}var Dp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rp=Object.assign,Pp={};function $r(e,t,n){this.props=e,this.context=t,this.refs=Pp,this.updater=n||Dp}$r.prototype.isReactComponent={};$r.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ap(){}Ap.prototype=$r.prototype;function bc(e,t,n){this.props=e,this.context=t,this.refs=Pp,this.updater=n||Dp}var wc=bc.prototype=new Ap;wc.constructor=bc;Rp(wc,$r.prototype);wc.isPureReactComponent=!0;var nd=Array.isArray,Ip=Object.prototype.hasOwnProperty,Sc={current:null},Tp={key:!0,ref:!0,__self:!0,__source:!0};function Op(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Ip.call(t,r)&&!Tp.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:eo,type:e,key:o,ref:i,props:s,_owner:Sc.current}}function mv(e,t){return{$$typeof:eo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cc(e){return typeof e=="object"&&e!==null&&e.$$typeof===eo}function hv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var rd=/\/+/g;function xl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hv(""+e.key):t.toString(36)}function $o(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case eo:case rv:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+xl(i,0):r,nd(s)?(n="",e!=null&&(n=e.replace(rd,"$&/")+"/"),$o(s,t,n,"",function(u){return u})):s!=null&&(Cc(s)&&(s=mv(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(rd,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",nd(e))for(var a=0;a<e.length;a++){o=e[a];var c=r+xl(o,a);i+=$o(o,t,n,c,s)}else if(c=pv(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=r+xl(o,a++),i+=$o(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function yo(e,t,n){if(e==null)return e;var r=[],s=0;return $o(e,r,"","",function(o){return t.call(n,o,s++)}),r}function gv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nt={current:null},Uo={transition:null},yv={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:Uo,ReactCurrentOwner:Sc};function Lp(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:yo,forEach:function(e,t,n){yo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return yo(e,function(){t++}),t},toArray:function(e){return yo(e,function(t){return t})||[]},only:function(e){if(!Cc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=$r;le.Fragment=sv;le.Profiler=iv;le.PureComponent=bc;le.StrictMode=ov;le.Suspense=uv;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yv;le.act=Lp;le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Rp({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Sc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Ip.call(t,c)&&!Tp.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:eo,type:e.type,key:s,ref:o,props:r,_owner:i}};le.createContext=function(e){return e={$$typeof:av,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lv,_context:e},e.Consumer=e};le.createElement=Op;le.createFactory=function(e){var t=Op.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:cv,render:e}};le.isValidElement=Cc;le.lazy=function(e){return{$$typeof:fv,_payload:{_status:-1,_result:e},_init:gv}};le.memo=function(e,t){return{$$typeof:dv,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=Uo.transition;Uo.transition={};try{e()}finally{Uo.transition=t}};le.unstable_act=Lp;le.useCallback=function(e,t){return nt.current.useCallback(e,t)};le.useContext=function(e){return nt.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return nt.current.useDeferredValue(e)};le.useEffect=function(e,t){return nt.current.useEffect(e,t)};le.useId=function(){return nt.current.useId()};le.useImperativeHandle=function(e,t,n){return nt.current.useImperativeHandle(e,t,n)};le.useInsertionEffect=function(e,t){return nt.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return nt.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return nt.current.useMemo(e,t)};le.useReducer=function(e,t,n){return nt.current.useReducer(e,t,n)};le.useRef=function(e){return nt.current.useRef(e)};le.useState=function(e){return nt.current.useState(e)};le.useSyncExternalStore=function(e,t,n){return nt.current.useSyncExternalStore(e,t,n)};le.useTransition=function(){return nt.current.useTransition()};le.version="18.3.1";Np.exports=le;var w=Np.exports;const ce=Bi(w),vv=tv({__proto__:null,default:ce},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv=w,_v=Symbol.for("react.element"),bv=Symbol.for("react.fragment"),wv=Object.prototype.hasOwnProperty,Sv=xv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cv={key:!0,ref:!0,__self:!0,__source:!0};function Fp(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)wv.call(t,r)&&!Cv.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:_v,type:e,key:o,ref:i,props:s,_owner:Sv.current}}zi.Fragment=bv;zi.jsx=Fp;zi.jsxs=Fp;Ep.exports=zi;var l=Ep.exports,fa={},Mp={exports:{}},_t={},Bp={exports:{}},zp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,A){var L=D.length;D.push(A);e:for(;0<L;){var O=L-1>>>1,B=D[O];if(0<s(B,A))D[O]=A,D[L]=B,L=O;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var A=D[0],L=D.pop();if(L!==A){D[0]=L;e:for(var O=0,B=D.length,U=B>>>1;O<U;){var J=2*(O+1)-1,ee=D[J],ae=J+1,Ee=D[ae];if(0>s(ee,L))ae<B&&0>s(Ee,ee)?(D[O]=Ee,D[ae]=L,O=ae):(D[O]=ee,D[J]=L,O=J);else if(ae<B&&0>s(Ee,L))D[O]=Ee,D[ae]=L,O=ae;else break e}}return A}function s(D,A){var L=D.sortIndex-A.sortIndex;return L!==0?L:D.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],u=[],d=1,f=null,p=3,m=!1,h=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=D)r(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function j(D){if(v=!1,b(D),!h)if(n(c)!==null)h=!0,F(E);else{var A=n(u);A!==null&&H(j,A.startTime-D)}}function E(D,A){h=!1,v&&(v=!1,g(C),C=-1),m=!0;var L=p;try{for(b(A),f=n(c);f!==null&&(!(f.expirationTime>A)||D&&!k());){var O=f.callback;if(typeof O=="function"){f.callback=null,p=f.priorityLevel;var B=O(f.expirationTime<=A);A=e.unstable_now(),typeof B=="function"?f.callback=B:f===n(c)&&r(c),b(A)}else r(c);f=n(c)}if(f!==null)var U=!0;else{var J=n(u);J!==null&&H(j,J.startTime-A),U=!1}return U}finally{f=null,p=L,m=!1}}var N=!1,R=null,C=-1,_=5,S=-1;function k(){return!(e.unstable_now()-S<_)}function P(){if(R!==null){var D=e.unstable_now();S=D;var A=!0;try{A=R(!0,D)}finally{A?T():(N=!1,R=null)}}else N=!1}var T;if(typeof y=="function")T=function(){y(P)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,M=$.port2;$.port1.onmessage=P,T=function(){M.postMessage(null)}}else T=function(){x(P,0)};function F(D){R=D,N||(N=!0,T())}function H(D,A){C=x(function(){D(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){h||m||(h=!0,F(E))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(D){switch(p){case 1:case 2:case 3:var A=3;break;default:A=p}var L=p;p=A;try{return D()}finally{p=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,A){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var L=p;p=D;try{return A()}finally{p=L}},e.unstable_scheduleCallback=function(D,A,L){var O=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?O+L:O):L=O,D){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=L+B,D={id:d++,callback:A,priorityLevel:D,startTime:L,expirationTime:B,sortIndex:-1},L>O?(D.sortIndex=L,t(u,D),n(c)===null&&D===n(u)&&(v?(g(C),C=-1):v=!0,H(j,L-O))):(D.sortIndex=B,t(c,D),h||m||(h=!0,F(E))),D},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(D){var A=p;return function(){var L=p;p=A;try{return D.apply(this,arguments)}finally{p=L}}}})(zp);Bp.exports=zp;var jv=Bp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv=w,xt=jv;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $p=new Set,Es={};function sr(e,t){Rr(e,t),Rr(e+"Capture",t)}function Rr(e,t){for(Es[e]=t,e=0;e<t.length;e++)$p.add(t[e])}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pa=Object.prototype.hasOwnProperty,Ev=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sd={},od={};function Nv(e){return pa.call(od,e)?!0:pa.call(sd,e)?!1:Ev.test(e)?od[e]=!0:(sd[e]=!0,!1)}function Dv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Rv(e,t,n,r){if(t===null||typeof t>"u"||Dv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qe[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qe[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qe[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qe[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qe[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qe[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qe[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qe[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qe[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var jc=/[\-:]([a-z])/g;function kc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(jc,kc);qe[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(jc,kc);qe[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(jc,kc);qe[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qe[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});qe.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qe[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ec(e,t,n,r){var s=qe.hasOwnProperty(t)?qe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Rv(t,n,s,r)&&(n=null),r||s===null?Nv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var an=kv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vo=Symbol.for("react.element"),dr=Symbol.for("react.portal"),fr=Symbol.for("react.fragment"),Nc=Symbol.for("react.strict_mode"),ma=Symbol.for("react.profiler"),Up=Symbol.for("react.provider"),Wp=Symbol.for("react.context"),Dc=Symbol.for("react.forward_ref"),ha=Symbol.for("react.suspense"),ga=Symbol.for("react.suspense_list"),Rc=Symbol.for("react.memo"),pn=Symbol.for("react.lazy"),Hp=Symbol.for("react.offscreen"),id=Symbol.iterator;function Zr(e){return e===null||typeof e!="object"?null:(e=id&&e[id]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Object.assign,_l;function us(e){if(_l===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_l=t&&t[1]||""}return`
`+_l+e}var bl=!1;function wl(e,t){if(!e||bl)return"";bl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{bl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?us(e):""}function Pv(e){switch(e.tag){case 5:return us(e.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 2:case 15:return e=wl(e.type,!1),e;case 11:return e=wl(e.type.render,!1),e;case 1:return e=wl(e.type,!0),e;default:return""}}function ya(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fr:return"Fragment";case dr:return"Portal";case ma:return"Profiler";case Nc:return"StrictMode";case ha:return"Suspense";case ga:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wp:return(e.displayName||"Context")+".Consumer";case Up:return(e._context.displayName||"Context")+".Provider";case Dc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rc:return t=e.displayName||null,t!==null?t:ya(e.type)||"Memo";case pn:t=e._payload,e=e._init;try{return ya(e(t))}catch{}}return null}function Av(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ya(t);case 8:return t===Nc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Iv(e){var t=Vp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xo(e){e._valueTracker||(e._valueTracker=Iv(e))}function qp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Vp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ri(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function va(e,t){var n=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ld(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Pn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gp(e,t){t=t.checked,t!=null&&Ec(e,"checked",t,!1)}function xa(e,t){Gp(e,t);var n=Pn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_a(e,t.type,n):t.hasOwnProperty("defaultValue")&&_a(e,t.type,Pn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ad(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function _a(e,t,n){(t!=="number"||ri(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ds=Array.isArray;function Cr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Pn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ba(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(z(92));if(ds(n)){if(1<n.length)throw Error(z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Pn(n)}}function Kp(e,t){var n=Pn(t.value),r=Pn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ud(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _o,Yp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_o=_o||document.createElement("div"),_o.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_o.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ns(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tv=["Webkit","ms","Moz","O"];Object.keys(ms).forEach(function(e){Tv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ms[t]=ms[e]})});function Jp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ms.hasOwnProperty(e)&&ms[e]?(""+t).trim():t+"px"}function Zp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Jp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Ov=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sa(e,t){if(t){if(Ov[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function Ca(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ja=null;function Pc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ka=null,jr=null,kr=null;function dd(e){if(e=ro(e)){if(typeof ka!="function")throw Error(z(280));var t=e.stateNode;t&&(t=Vi(t),ka(e.stateNode,e.type,t))}}function Xp(e){jr?kr?kr.push(e):kr=[e]:jr=e}function em(){if(jr){var e=jr,t=kr;if(kr=jr=null,dd(e),t)for(e=0;e<t.length;e++)dd(t[e])}}function tm(e,t){return e(t)}function nm(){}var Sl=!1;function rm(e,t,n){if(Sl)return e(t,n);Sl=!0;try{return tm(e,t,n)}finally{Sl=!1,(jr!==null||kr!==null)&&(nm(),em())}}function Ds(e,t){var n=e.stateNode;if(n===null)return null;var r=Vi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var Ea=!1;if(rn)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){Ea=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{Ea=!1}function Lv(e,t,n,r,s,o,i,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var hs=!1,si=null,oi=!1,Na=null,Fv={onError:function(e){hs=!0,si=e}};function Mv(e,t,n,r,s,o,i,a,c){hs=!1,si=null,Lv.apply(Fv,arguments)}function Bv(e,t,n,r,s,o,i,a,c){if(Mv.apply(this,arguments),hs){if(hs){var u=si;hs=!1,si=null}else throw Error(z(198));oi||(oi=!0,Na=u)}}function or(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function sm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fd(e){if(or(e)!==e)throw Error(z(188))}function zv(e){var t=e.alternate;if(!t){if(t=or(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return fd(s),e;if(o===r)return fd(s),t;o=o.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function om(e){return e=zv(e),e!==null?im(e):null}function im(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=im(e);if(t!==null)return t;e=e.sibling}return null}var lm=xt.unstable_scheduleCallback,pd=xt.unstable_cancelCallback,$v=xt.unstable_shouldYield,Uv=xt.unstable_requestPaint,Pe=xt.unstable_now,Wv=xt.unstable_getCurrentPriorityLevel,Ac=xt.unstable_ImmediatePriority,am=xt.unstable_UserBlockingPriority,ii=xt.unstable_NormalPriority,Hv=xt.unstable_LowPriority,cm=xt.unstable_IdlePriority,$i=null,Kt=null;function Vv(e){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot($i,e,void 0,(e.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:Kv,qv=Math.log,Gv=Math.LN2;function Kv(e){return e>>>=0,e===0?32:31-(qv(e)/Gv|0)|0}var bo=64,wo=4194304;function fs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function li(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=fs(a):(o&=i,o!==0&&(r=fs(o)))}else i=n&~s,i!==0?r=fs(i):o!==0&&(r=fs(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Bt(t),s=1<<n,r|=e[n],t&=~s;return r}function Qv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Bt(o),a=1<<i,c=s[i];c===-1?(!(a&n)||a&r)&&(s[i]=Qv(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function Da(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function um(){var e=bo;return bo<<=1,!(bo&4194240)&&(bo=64),e}function Cl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function to(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Bt(t),e[t]=n}function Jv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Bt(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Ic(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Bt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var me=0;function dm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fm,Tc,pm,mm,hm,Ra=!1,So=[],_n=null,bn=null,wn=null,Rs=new Map,Ps=new Map,hn=[],Zv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function md(e,t){switch(e){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Rs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ps.delete(t.pointerId)}}function es(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=ro(t),t!==null&&Tc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Xv(e,t,n,r,s){switch(t){case"focusin":return _n=es(_n,e,t,n,r,s),!0;case"dragenter":return bn=es(bn,e,t,n,r,s),!0;case"mouseover":return wn=es(wn,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Rs.set(o,es(Rs.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Ps.set(o,es(Ps.get(o)||null,e,t,n,r,s)),!0}return!1}function gm(e){var t=Wn(e.target);if(t!==null){var n=or(t);if(n!==null){if(t=n.tag,t===13){if(t=sm(n),t!==null){e.blockedOn=t,hm(e.priority,function(){pm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ja=r,n.target.dispatchEvent(r),ja=null}else return t=ro(n),t!==null&&Tc(t),e.blockedOn=n,!1;t.shift()}return!0}function hd(e,t,n){Wo(e)&&n.delete(t)}function ex(){Ra=!1,_n!==null&&Wo(_n)&&(_n=null),bn!==null&&Wo(bn)&&(bn=null),wn!==null&&Wo(wn)&&(wn=null),Rs.forEach(hd),Ps.forEach(hd)}function ts(e,t){e.blockedOn===t&&(e.blockedOn=null,Ra||(Ra=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,ex)))}function As(e){function t(s){return ts(s,e)}if(0<So.length){ts(So[0],e);for(var n=1;n<So.length;n++){var r=So[n];r.blockedOn===e&&(r.blockedOn=null)}}for(_n!==null&&ts(_n,e),bn!==null&&ts(bn,e),wn!==null&&ts(wn,e),Rs.forEach(t),Ps.forEach(t),n=0;n<hn.length;n++)r=hn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<hn.length&&(n=hn[0],n.blockedOn===null);)gm(n),n.blockedOn===null&&hn.shift()}var Er=an.ReactCurrentBatchConfig,ai=!0;function tx(e,t,n,r){var s=me,o=Er.transition;Er.transition=null;try{me=1,Oc(e,t,n,r)}finally{me=s,Er.transition=o}}function nx(e,t,n,r){var s=me,o=Er.transition;Er.transition=null;try{me=4,Oc(e,t,n,r)}finally{me=s,Er.transition=o}}function Oc(e,t,n,r){if(ai){var s=Pa(e,t,n,r);if(s===null)Tl(e,t,r,ci,n),md(e,r);else if(Xv(s,e,t,n,r))r.stopPropagation();else if(md(e,r),t&4&&-1<Zv.indexOf(e)){for(;s!==null;){var o=ro(s);if(o!==null&&fm(o),o=Pa(e,t,n,r),o===null&&Tl(e,t,r,ci,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Tl(e,t,r,null,n)}}var ci=null;function Pa(e,t,n,r){if(ci=null,e=Pc(r),e=Wn(e),e!==null)if(t=or(e),t===null)e=null;else if(n=t.tag,n===13){if(e=sm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ci=e,null}function ym(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wv()){case Ac:return 1;case am:return 4;case ii:case Hv:return 16;case cm:return 536870912;default:return 16}default:return 16}}var yn=null,Lc=null,Ho=null;function vm(){if(Ho)return Ho;var e,t=Lc,n=t.length,r,s="value"in yn?yn.value:yn.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Ho=s.slice(e,1<r?1-r:void 0)}function Vo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Co(){return!0}function gd(){return!1}function bt(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Co:gd,this.isPropagationStopped=gd,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Co)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Co)},persist:function(){},isPersistent:Co}),t}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fc=bt(Ur),no=ke({},Ur,{view:0,detail:0}),rx=bt(no),jl,kl,ns,Ui=ke({},no,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ns&&(ns&&e.type==="mousemove"?(jl=e.screenX-ns.screenX,kl=e.screenY-ns.screenY):kl=jl=0,ns=e),jl)},movementY:function(e){return"movementY"in e?e.movementY:kl}}),yd=bt(Ui),sx=ke({},Ui,{dataTransfer:0}),ox=bt(sx),ix=ke({},no,{relatedTarget:0}),El=bt(ix),lx=ke({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),ax=bt(lx),cx=ke({},Ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ux=bt(cx),dx=ke({},Ur,{data:0}),vd=bt(dx),fx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},px={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mx[e])?!!t[e]:!1}function Mc(){return hx}var gx=ke({},no,{key:function(e){if(e.key){var t=fx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?px[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mc,charCode:function(e){return e.type==="keypress"?Vo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yx=bt(gx),vx=ke({},Ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xd=bt(vx),xx=ke({},no,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mc}),_x=bt(xx),bx=ke({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),wx=bt(bx),Sx=ke({},Ui,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cx=bt(Sx),jx=[9,13,27,32],Bc=rn&&"CompositionEvent"in window,gs=null;rn&&"documentMode"in document&&(gs=document.documentMode);var kx=rn&&"TextEvent"in window&&!gs,xm=rn&&(!Bc||gs&&8<gs&&11>=gs),_d=" ",bd=!1;function _m(e,t){switch(e){case"keyup":return jx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pr=!1;function Ex(e,t){switch(e){case"compositionend":return bm(t);case"keypress":return t.which!==32?null:(bd=!0,_d);case"textInput":return e=t.data,e===_d&&bd?null:e;default:return null}}function Nx(e,t){if(pr)return e==="compositionend"||!Bc&&_m(e,t)?(e=vm(),Ho=Lc=yn=null,pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xm&&t.locale!=="ko"?null:t.data;default:return null}}var Dx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dx[e.type]:t==="textarea"}function wm(e,t,n,r){Xp(r),t=ui(t,"onChange"),0<t.length&&(n=new Fc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ys=null,Is=null;function Rx(e){Im(e,0)}function Wi(e){var t=gr(e);if(qp(t))return e}function Px(e,t){if(e==="change")return t}var Sm=!1;if(rn){var Nl;if(rn){var Dl="oninput"in document;if(!Dl){var Sd=document.createElement("div");Sd.setAttribute("oninput","return;"),Dl=typeof Sd.oninput=="function"}Nl=Dl}else Nl=!1;Sm=Nl&&(!document.documentMode||9<document.documentMode)}function Cd(){ys&&(ys.detachEvent("onpropertychange",Cm),Is=ys=null)}function Cm(e){if(e.propertyName==="value"&&Wi(Is)){var t=[];wm(t,Is,e,Pc(e)),rm(Rx,t)}}function Ax(e,t,n){e==="focusin"?(Cd(),ys=t,Is=n,ys.attachEvent("onpropertychange",Cm)):e==="focusout"&&Cd()}function Ix(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wi(Is)}function Tx(e,t){if(e==="click")return Wi(t)}function Ox(e,t){if(e==="input"||e==="change")return Wi(t)}function Lx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:Lx;function Ts(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!pa.call(t,s)||!$t(e[s],t[s]))return!1}return!0}function jd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kd(e,t){var n=jd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jd(n)}}function jm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function km(){for(var e=window,t=ri();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ri(e.document)}return t}function zc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Fx(e){var t=km(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&jm(n.ownerDocument.documentElement,n)){if(r!==null&&zc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=kd(n,o);var i=kd(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mx=rn&&"documentMode"in document&&11>=document.documentMode,mr=null,Aa=null,vs=null,Ia=!1;function Ed(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ia||mr==null||mr!==ri(r)||(r=mr,"selectionStart"in r&&zc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vs&&Ts(vs,r)||(vs=r,r=ui(Aa,"onSelect"),0<r.length&&(t=new Fc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function jo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:jo("Animation","AnimationEnd"),animationiteration:jo("Animation","AnimationIteration"),animationstart:jo("Animation","AnimationStart"),transitionend:jo("Transition","TransitionEnd")},Rl={},Em={};rn&&(Em=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);function Hi(e){if(Rl[e])return Rl[e];if(!hr[e])return e;var t=hr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Em)return Rl[e]=t[n];return e}var Nm=Hi("animationend"),Dm=Hi("animationiteration"),Rm=Hi("animationstart"),Pm=Hi("transitionend"),Am=new Map,Nd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(e,t){Am.set(e,t),sr(t,[e])}for(var Pl=0;Pl<Nd.length;Pl++){var Al=Nd[Pl],Bx=Al.toLowerCase(),zx=Al[0].toUpperCase()+Al.slice(1);Tn(Bx,"on"+zx)}Tn(Nm,"onAnimationEnd");Tn(Dm,"onAnimationIteration");Tn(Rm,"onAnimationStart");Tn("dblclick","onDoubleClick");Tn("focusin","onFocus");Tn("focusout","onBlur");Tn(Pm,"onTransitionEnd");Rr("onMouseEnter",["mouseout","mouseover"]);Rr("onMouseLeave",["mouseout","mouseover"]);Rr("onPointerEnter",["pointerout","pointerover"]);Rr("onPointerLeave",["pointerout","pointerover"]);sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$x=new Set("cancel close invalid load scroll toggle".split(" ").concat(ps));function Dd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Bv(r,t,void 0,e),e.currentTarget=null}function Im(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;Dd(s,a,u),o=c}else for(i=0;i<r.length;i++){if(a=r[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;Dd(s,a,u),o=c}}}if(oi)throw e=Na,oi=!1,Na=null,e}function ve(e,t){var n=t[Ma];n===void 0&&(n=t[Ma]=new Set);var r=e+"__bubble";n.has(r)||(Tm(t,e,2,!1),n.add(r))}function Il(e,t,n){var r=0;t&&(r|=4),Tm(n,e,r,t)}var ko="_reactListening"+Math.random().toString(36).slice(2);function Os(e){if(!e[ko]){e[ko]=!0,$p.forEach(function(n){n!=="selectionchange"&&($x.has(n)||Il(n,!1,e),Il(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ko]||(t[ko]=!0,Il("selectionchange",!1,t))}}function Tm(e,t,n,r){switch(ym(t)){case 1:var s=tx;break;case 4:s=nx;break;default:s=Oc}n=s.bind(null,t,n,e),s=void 0,!Ea||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Tl(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Wn(a),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}a=a.parentNode}}r=r.return}rm(function(){var u=o,d=Pc(n),f=[];e:{var p=Am.get(e);if(p!==void 0){var m=Fc,h=e;switch(e){case"keypress":if(Vo(n)===0)break e;case"keydown":case"keyup":m=yx;break;case"focusin":h="focus",m=El;break;case"focusout":h="blur",m=El;break;case"beforeblur":case"afterblur":m=El;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=ox;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_x;break;case Nm:case Dm:case Rm:m=ax;break;case Pm:m=wx;break;case"scroll":m=rx;break;case"wheel":m=Cx;break;case"copy":case"cut":case"paste":m=ux;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=xd}var v=(t&4)!==0,x=!v&&e==="scroll",g=v?p!==null?p+"Capture":null:p;v=[];for(var y=u,b;y!==null;){b=y;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,g!==null&&(j=Ds(y,g),j!=null&&v.push(Ls(y,j,b)))),x)break;y=y.return}0<v.length&&(p=new m(p,h,null,n,d),f.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==ja&&(h=n.relatedTarget||n.fromElement)&&(Wn(h)||h[sn]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(h=n.relatedTarget||n.toElement,m=u,h=h?Wn(h):null,h!==null&&(x=or(h),h!==x||h.tag!==5&&h.tag!==6)&&(h=null)):(m=null,h=u),m!==h)){if(v=yd,j="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=xd,j="onPointerLeave",g="onPointerEnter",y="pointer"),x=m==null?p:gr(m),b=h==null?p:gr(h),p=new v(j,y+"leave",m,n,d),p.target=x,p.relatedTarget=b,j=null,Wn(d)===u&&(v=new v(g,y+"enter",h,n,d),v.target=b,v.relatedTarget=x,j=v),x=j,m&&h)t:{for(v=m,g=h,y=0,b=v;b;b=ur(b))y++;for(b=0,j=g;j;j=ur(j))b++;for(;0<y-b;)v=ur(v),y--;for(;0<b-y;)g=ur(g),b--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=ur(v),g=ur(g)}v=null}else v=null;m!==null&&Rd(f,p,m,v,!1),h!==null&&x!==null&&Rd(f,x,h,v,!0)}}e:{if(p=u?gr(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var E=Px;else if(wd(p))if(Sm)E=Ox;else{E=Ix;var N=Ax}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=Tx);if(E&&(E=E(e,u))){wm(f,E,n,d);break e}N&&N(e,p,u),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&_a(p,"number",p.value)}switch(N=u?gr(u):window,e){case"focusin":(wd(N)||N.contentEditable==="true")&&(mr=N,Aa=u,vs=null);break;case"focusout":vs=Aa=mr=null;break;case"mousedown":Ia=!0;break;case"contextmenu":case"mouseup":case"dragend":Ia=!1,Ed(f,n,d);break;case"selectionchange":if(Mx)break;case"keydown":case"keyup":Ed(f,n,d)}var R;if(Bc)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else pr?_m(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(xm&&n.locale!=="ko"&&(pr||C!=="onCompositionStart"?C==="onCompositionEnd"&&pr&&(R=vm()):(yn=d,Lc="value"in yn?yn.value:yn.textContent,pr=!0)),N=ui(u,C),0<N.length&&(C=new vd(C,e,null,n,d),f.push({event:C,listeners:N}),R?C.data=R:(R=bm(n),R!==null&&(C.data=R)))),(R=kx?Ex(e,n):Nx(e,n))&&(u=ui(u,"onBeforeInput"),0<u.length&&(d=new vd("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=R))}Im(f,t)})}function Ls(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ui(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ds(e,n),o!=null&&r.unshift(Ls(e,o,s)),o=Ds(e,t),o!=null&&r.push(Ls(e,o,s))),e=e.return}return r}function ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rd(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=Ds(n,o),c!=null&&i.unshift(Ls(n,c,a))):s||(c=Ds(n,o),c!=null&&i.push(Ls(n,c,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Ux=/\r\n?/g,Wx=/\u0000|\uFFFD/g;function Pd(e){return(typeof e=="string"?e:""+e).replace(Ux,`
`).replace(Wx,"")}function Eo(e,t,n){if(t=Pd(t),Pd(e)!==t&&n)throw Error(z(425))}function di(){}var Ta=null,Oa=null;function La(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fa=typeof setTimeout=="function"?setTimeout:void 0,Hx=typeof clearTimeout=="function"?clearTimeout:void 0,Ad=typeof Promise=="function"?Promise:void 0,Vx=typeof queueMicrotask=="function"?queueMicrotask:typeof Ad<"u"?function(e){return Ad.resolve(null).then(e).catch(qx)}:Fa;function qx(e){setTimeout(function(){throw e})}function Ol(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),As(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);As(t)}function Sn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Id(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Wr=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Wr,Fs="__reactProps$"+Wr,sn="__reactContainer$"+Wr,Ma="__reactEvents$"+Wr,Gx="__reactListeners$"+Wr,Kx="__reactHandles$"+Wr;function Wn(e){var t=e[Gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sn]||n[Gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Id(e);e!==null;){if(n=e[Gt])return n;e=Id(e)}return t}e=n,n=e.parentNode}return null}function ro(e){return e=e[Gt]||e[sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function Vi(e){return e[Fs]||null}var Ba=[],yr=-1;function On(e){return{current:e}}function xe(e){0>yr||(e.current=Ba[yr],Ba[yr]=null,yr--)}function ye(e,t){yr++,Ba[yr]=e.current,e.current=t}var An={},Je=On(An),lt=On(!1),Yn=An;function Pr(e,t){var n=e.type.contextTypes;if(!n)return An;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function at(e){return e=e.childContextTypes,e!=null}function fi(){xe(lt),xe(Je)}function Td(e,t,n){if(Je.current!==An)throw Error(z(168));ye(Je,t),ye(lt,n)}function Om(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(z(108,Av(e)||"Unknown",s));return ke({},n,r)}function pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||An,Yn=Je.current,ye(Je,e),ye(lt,lt.current),!0}function Od(e,t,n){var r=e.stateNode;if(!r)throw Error(z(169));n?(e=Om(e,t,Yn),r.__reactInternalMemoizedMergedChildContext=e,xe(lt),xe(Je),ye(Je,e)):xe(lt),ye(lt,n)}var Xt=null,qi=!1,Ll=!1;function Lm(e){Xt===null?Xt=[e]:Xt.push(e)}function Qx(e){qi=!0,Lm(e)}function Ln(){if(!Ll&&Xt!==null){Ll=!0;var e=0,t=me;try{var n=Xt;for(me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xt=null,qi=!1}catch(s){throw Xt!==null&&(Xt=Xt.slice(e+1)),lm(Ac,Ln),s}finally{me=t,Ll=!1}}return null}var vr=[],xr=0,mi=null,hi=0,kt=[],Et=0,Jn=null,en=1,tn="";function Bn(e,t){vr[xr++]=hi,vr[xr++]=mi,mi=e,hi=t}function Fm(e,t,n){kt[Et++]=en,kt[Et++]=tn,kt[Et++]=Jn,Jn=e;var r=en;e=tn;var s=32-Bt(r)-1;r&=~(1<<s),n+=1;var o=32-Bt(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,en=1<<32-Bt(t)+s|n<<s|r,tn=o+e}else en=1<<o|n<<s|r,tn=e}function $c(e){e.return!==null&&(Bn(e,1),Fm(e,1,0))}function Uc(e){for(;e===mi;)mi=vr[--xr],vr[xr]=null,hi=vr[--xr],vr[xr]=null;for(;e===Jn;)Jn=kt[--Et],kt[Et]=null,tn=kt[--Et],kt[Et]=null,en=kt[--Et],kt[Et]=null}var gt=null,mt=null,Se=!1,Ft=null;function Mm(e,t){var n=Nt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ld(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gt=e,mt=Sn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gt=e,mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Jn!==null?{id:en,overflow:tn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Nt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,gt=e,mt=null,!0):!1;default:return!1}}function za(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $a(e){if(Se){var t=mt;if(t){var n=t;if(!Ld(e,t)){if(za(e))throw Error(z(418));t=Sn(n.nextSibling);var r=gt;t&&Ld(e,t)?Mm(r,n):(e.flags=e.flags&-4097|2,Se=!1,gt=e)}}else{if(za(e))throw Error(z(418));e.flags=e.flags&-4097|2,Se=!1,gt=e}}}function Fd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function No(e){if(e!==gt)return!1;if(!Se)return Fd(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!La(e.type,e.memoizedProps)),t&&(t=mt)){if(za(e))throw Bm(),Error(z(418));for(;t;)Mm(e,t),t=Sn(t.nextSibling)}if(Fd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){mt=Sn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}mt=null}}else mt=gt?Sn(e.stateNode.nextSibling):null;return!0}function Bm(){for(var e=mt;e;)e=Sn(e.nextSibling)}function Ar(){mt=gt=null,Se=!1}function Wc(e){Ft===null?Ft=[e]:Ft.push(e)}var Yx=an.ReactCurrentBatchConfig;function rs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,e))}return e}function Do(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Md(e){var t=e._init;return t(e._payload)}function zm(e){function t(g,y){if(e){var b=g.deletions;b===null?(g.deletions=[y],g.flags|=16):b.push(y)}}function n(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function s(g,y){return g=En(g,y),g.index=0,g.sibling=null,g}function o(g,y,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<y?(g.flags|=2,y):b):(g.flags|=2,y)):(g.flags|=1048576,y)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,y,b,j){return y===null||y.tag!==6?(y=Wl(b,g.mode,j),y.return=g,y):(y=s(y,b),y.return=g,y)}function c(g,y,b,j){var E=b.type;return E===fr?d(g,y,b.props.children,j,b.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===pn&&Md(E)===y.type)?(j=s(y,b.props),j.ref=rs(g,y,b),j.return=g,j):(j=Zo(b.type,b.key,b.props,null,g.mode,j),j.ref=rs(g,y,b),j.return=g,j)}function u(g,y,b,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Hl(b,g.mode,j),y.return=g,y):(y=s(y,b.children||[]),y.return=g,y)}function d(g,y,b,j,E){return y===null||y.tag!==7?(y=Kn(b,g.mode,j,E),y.return=g,y):(y=s(y,b),y.return=g,y)}function f(g,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Wl(""+y,g.mode,b),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case vo:return b=Zo(y.type,y.key,y.props,null,g.mode,b),b.ref=rs(g,null,y),b.return=g,b;case dr:return y=Hl(y,g.mode,b),y.return=g,y;case pn:var j=y._init;return f(g,j(y._payload),b)}if(ds(y)||Zr(y))return y=Kn(y,g.mode,b,null),y.return=g,y;Do(g,y)}return null}function p(g,y,b,j){var E=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:a(g,y,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case vo:return b.key===E?c(g,y,b,j):null;case dr:return b.key===E?u(g,y,b,j):null;case pn:return E=b._init,p(g,y,E(b._payload),j)}if(ds(b)||Zr(b))return E!==null?null:d(g,y,b,j,null);Do(g,b)}return null}function m(g,y,b,j,E){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(b)||null,a(y,g,""+j,E);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case vo:return g=g.get(j.key===null?b:j.key)||null,c(y,g,j,E);case dr:return g=g.get(j.key===null?b:j.key)||null,u(y,g,j,E);case pn:var N=j._init;return m(g,y,b,N(j._payload),E)}if(ds(j)||Zr(j))return g=g.get(b)||null,d(y,g,j,E,null);Do(y,j)}return null}function h(g,y,b,j){for(var E=null,N=null,R=y,C=y=0,_=null;R!==null&&C<b.length;C++){R.index>C?(_=R,R=null):_=R.sibling;var S=p(g,R,b[C],j);if(S===null){R===null&&(R=_);break}e&&R&&S.alternate===null&&t(g,R),y=o(S,y,C),N===null?E=S:N.sibling=S,N=S,R=_}if(C===b.length)return n(g,R),Se&&Bn(g,C),E;if(R===null){for(;C<b.length;C++)R=f(g,b[C],j),R!==null&&(y=o(R,y,C),N===null?E=R:N.sibling=R,N=R);return Se&&Bn(g,C),E}for(R=r(g,R);C<b.length;C++)_=m(R,g,C,b[C],j),_!==null&&(e&&_.alternate!==null&&R.delete(_.key===null?C:_.key),y=o(_,y,C),N===null?E=_:N.sibling=_,N=_);return e&&R.forEach(function(k){return t(g,k)}),Se&&Bn(g,C),E}function v(g,y,b,j){var E=Zr(b);if(typeof E!="function")throw Error(z(150));if(b=E.call(b),b==null)throw Error(z(151));for(var N=E=null,R=y,C=y=0,_=null,S=b.next();R!==null&&!S.done;C++,S=b.next()){R.index>C?(_=R,R=null):_=R.sibling;var k=p(g,R,S.value,j);if(k===null){R===null&&(R=_);break}e&&R&&k.alternate===null&&t(g,R),y=o(k,y,C),N===null?E=k:N.sibling=k,N=k,R=_}if(S.done)return n(g,R),Se&&Bn(g,C),E;if(R===null){for(;!S.done;C++,S=b.next())S=f(g,S.value,j),S!==null&&(y=o(S,y,C),N===null?E=S:N.sibling=S,N=S);return Se&&Bn(g,C),E}for(R=r(g,R);!S.done;C++,S=b.next())S=m(R,g,C,S.value,j),S!==null&&(e&&S.alternate!==null&&R.delete(S.key===null?C:S.key),y=o(S,y,C),N===null?E=S:N.sibling=S,N=S);return e&&R.forEach(function(P){return t(g,P)}),Se&&Bn(g,C),E}function x(g,y,b,j){if(typeof b=="object"&&b!==null&&b.type===fr&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case vo:e:{for(var E=b.key,N=y;N!==null;){if(N.key===E){if(E=b.type,E===fr){if(N.tag===7){n(g,N.sibling),y=s(N,b.props.children),y.return=g,g=y;break e}}else if(N.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===pn&&Md(E)===N.type){n(g,N.sibling),y=s(N,b.props),y.ref=rs(g,N,b),y.return=g,g=y;break e}n(g,N);break}else t(g,N);N=N.sibling}b.type===fr?(y=Kn(b.props.children,g.mode,j,b.key),y.return=g,g=y):(j=Zo(b.type,b.key,b.props,null,g.mode,j),j.ref=rs(g,y,b),j.return=g,g=j)}return i(g);case dr:e:{for(N=b.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(g,y.sibling),y=s(y,b.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else t(g,y);y=y.sibling}y=Hl(b,g.mode,j),y.return=g,g=y}return i(g);case pn:return N=b._init,x(g,y,N(b._payload),j)}if(ds(b))return h(g,y,b,j);if(Zr(b))return v(g,y,b,j);Do(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(g,y.sibling),y=s(y,b),y.return=g,g=y):(n(g,y),y=Wl(b,g.mode,j),y.return=g,g=y),i(g)):n(g,y)}return x}var Ir=zm(!0),$m=zm(!1),gi=On(null),yi=null,_r=null,Hc=null;function Vc(){Hc=_r=yi=null}function qc(e){var t=gi.current;xe(gi),e._currentValue=t}function Ua(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Nr(e,t){yi=e,Hc=_r=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(it=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(Hc!==e)if(e={context:e,memoizedValue:t,next:null},_r===null){if(yi===null)throw Error(z(308));_r=e,yi.dependencies={lanes:0,firstContext:e}}else _r=_r.next=e;return t}var Hn=null;function Gc(e){Hn===null?Hn=[e]:Hn.push(e)}function Um(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Gc(t)):(n.next=s.next,s.next=n),t.interleaved=n,on(e,r)}function on(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var mn=!1;function Kc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,on(e,n)}return s=r.interleaved,s===null?(t.next=t,Gc(r)):(t.next=s.next,s.next=t),r.interleaved=t,on(e,n)}function qo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ic(e,n)}}function Bd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vi(e,t,n,r){var s=e.updateQueue;mn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,a=o;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,v=a;switch(p=t,m=n,v.tag){case 1:if(h=v.payload,typeof h=="function"){f=h.call(m,f,p);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=v.payload,p=typeof h=="function"?h.call(m,f,p):h,p==null)break e;f=ke({},f,p);break e;case 2:mn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,i|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Xn|=i,e.lanes=i,e.memoizedState=f}}function zd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var so={},Qt=On(so),Ms=On(so),Bs=On(so);function Vn(e){if(e===so)throw Error(z(174));return e}function Qc(e,t){switch(ye(Bs,t),ye(Ms,e),ye(Qt,so),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wa(t,e)}xe(Qt),ye(Qt,t)}function Tr(){xe(Qt),xe(Ms),xe(Bs)}function Hm(e){Vn(Bs.current);var t=Vn(Qt.current),n=wa(t,e.type);t!==n&&(ye(Ms,e),ye(Qt,n))}function Yc(e){Ms.current===e&&(xe(Qt),xe(Ms))}var Ce=On(0);function xi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fl=[];function Jc(){for(var e=0;e<Fl.length;e++)Fl[e]._workInProgressVersionPrimary=null;Fl.length=0}var Go=an.ReactCurrentDispatcher,Ml=an.ReactCurrentBatchConfig,Zn=0,je=null,Te=null,Me=null,_i=!1,xs=!1,zs=0,Jx=0;function Ge(){throw Error(z(321))}function Zc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$t(e[n],t[n]))return!1;return!0}function Xc(e,t,n,r,s,o){if(Zn=o,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Go.current=e===null||e.memoizedState===null?t0:n0,e=n(r,s),xs){o=0;do{if(xs=!1,zs=0,25<=o)throw Error(z(301));o+=1,Me=Te=null,t.updateQueue=null,Go.current=r0,e=n(r,s)}while(xs)}if(Go.current=bi,t=Te!==null&&Te.next!==null,Zn=0,Me=Te=je=null,_i=!1,t)throw Error(z(300));return e}function eu(){var e=zs!==0;return zs=0,e}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?je.memoizedState=Me=e:Me=Me.next=e,Me}function It(){if(Te===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Me===null?je.memoizedState:Me.next;if(t!==null)Me=t,Te=e;else{if(e===null)throw Error(z(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Me===null?je.memoizedState=Me=e:Me=Me.next=e}return Me}function $s(e,t){return typeof t=="function"?t(e):t}function Bl(e){var t=It(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=Te,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,c=null,u=o;do{var d=u.lane;if((Zn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,i=r):c=c.next=f,je.lanes|=d,Xn|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=a,$t(r,t.memoizedState)||(it=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,je.lanes|=o,Xn|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zl(e){var t=It(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);$t(o,t.memoizedState)||(it=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Vm(){}function qm(e,t){var n=je,r=It(),s=t(),o=!$t(r.memoizedState,s);if(o&&(r.memoizedState=s,it=!0),r=r.queue,tu(Qm.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,Us(9,Km.bind(null,n,r,s,t),void 0,null),Be===null)throw Error(z(349));Zn&30||Gm(n,t,s)}return s}function Gm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Km(e,t,n,r){t.value=n,t.getSnapshot=r,Ym(t)&&Jm(e)}function Qm(e,t,n){return n(function(){Ym(t)&&Jm(e)})}function Ym(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$t(e,n)}catch{return!0}}function Jm(e){var t=on(e,1);t!==null&&zt(t,e,1,-1)}function $d(e){var t=qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:e},t.queue=e,e=e.dispatch=e0.bind(null,je,e),[t.memoizedState,e]}function Us(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Zm(){return It().memoizedState}function Ko(e,t,n,r){var s=qt();je.flags|=e,s.memoizedState=Us(1|t,n,void 0,r===void 0?null:r)}function Gi(e,t,n,r){var s=It();r=r===void 0?null:r;var o=void 0;if(Te!==null){var i=Te.memoizedState;if(o=i.destroy,r!==null&&Zc(r,i.deps)){s.memoizedState=Us(t,n,o,r);return}}je.flags|=e,s.memoizedState=Us(1|t,n,o,r)}function Ud(e,t){return Ko(8390656,8,e,t)}function tu(e,t){return Gi(2048,8,e,t)}function Xm(e,t){return Gi(4,2,e,t)}function eh(e,t){return Gi(4,4,e,t)}function th(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nh(e,t,n){return n=n!=null?n.concat([e]):null,Gi(4,4,th.bind(null,t,e),n)}function nu(){}function rh(e,t){var n=It();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sh(e,t){var n=It();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function oh(e,t,n){return Zn&21?($t(n,t)||(n=um(),je.lanes|=n,Xn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=n)}function Zx(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var r=Ml.transition;Ml.transition={};try{e(!1),t()}finally{me=n,Ml.transition=r}}function ih(){return It().memoizedState}function Xx(e,t,n){var r=kn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lh(e))ah(t,n);else if(n=Um(e,t,n,r),n!==null){var s=tt();zt(n,e,r,s),ch(n,t,r)}}function e0(e,t,n){var r=kn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lh(e))ah(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,$t(a,i)){var c=t.interleaved;c===null?(s.next=s,Gc(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Um(e,t,s,r),n!==null&&(s=tt(),zt(n,e,r,s),ch(n,t,r))}}function lh(e){var t=e.alternate;return e===je||t!==null&&t===je}function ah(e,t){xs=_i=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ch(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ic(e,n)}}var bi={readContext:At,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},t0={readContext:At,useCallback:function(e,t){return qt().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:Ud,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ko(4194308,4,th.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ko(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ko(4,2,e,t)},useMemo:function(e,t){var n=qt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=qt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xx.bind(null,je,e),[r.memoizedState,e]},useRef:function(e){var t=qt();return e={current:e},t.memoizedState=e},useState:$d,useDebugValue:nu,useDeferredValue:function(e){return qt().memoizedState=e},useTransition:function(){var e=$d(!1),t=e[0];return e=Zx.bind(null,e[1]),qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=je,s=qt();if(Se){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),Be===null)throw Error(z(349));Zn&30||Gm(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Ud(Qm.bind(null,r,o,e),[e]),r.flags|=2048,Us(9,Km.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=qt(),t=Be.identifierPrefix;if(Se){var n=tn,r=en;n=(r&~(1<<32-Bt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=zs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Jx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},n0={readContext:At,useCallback:rh,useContext:At,useEffect:tu,useImperativeHandle:nh,useInsertionEffect:Xm,useLayoutEffect:eh,useMemo:sh,useReducer:Bl,useRef:Zm,useState:function(){return Bl($s)},useDebugValue:nu,useDeferredValue:function(e){var t=It();return oh(t,Te.memoizedState,e)},useTransition:function(){var e=Bl($s)[0],t=It().memoizedState;return[e,t]},useMutableSource:Vm,useSyncExternalStore:qm,useId:ih,unstable_isNewReconciler:!1},r0={readContext:At,useCallback:rh,useContext:At,useEffect:tu,useImperativeHandle:nh,useInsertionEffect:Xm,useLayoutEffect:eh,useMemo:sh,useReducer:zl,useRef:Zm,useState:function(){return zl($s)},useDebugValue:nu,useDeferredValue:function(e){var t=It();return Te===null?t.memoizedState=e:oh(t,Te.memoizedState,e)},useTransition:function(){var e=zl($s)[0],t=It().memoizedState;return[e,t]},useMutableSource:Vm,useSyncExternalStore:qm,useId:ih,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Wa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ki={isMounted:function(e){return(e=e._reactInternals)?or(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tt(),s=kn(e),o=nn(r,s);o.payload=t,n!=null&&(o.callback=n),t=Cn(e,o,s),t!==null&&(zt(t,e,s,r),qo(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tt(),s=kn(e),o=nn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Cn(e,o,s),t!==null&&(zt(t,e,s,r),qo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tt(),r=kn(e),s=nn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Cn(e,s,r),t!==null&&(zt(t,e,r,n),qo(t,e,r))}};function Wd(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Ts(n,r)||!Ts(s,o):!0}function uh(e,t,n){var r=!1,s=An,o=t.contextType;return typeof o=="object"&&o!==null?o=At(o):(s=at(t)?Yn:Je.current,r=t.contextTypes,o=(r=r!=null)?Pr(e,s):An),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ki,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Hd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ki.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Kc(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=At(o):(o=at(t)?Yn:Je.current,s.context=Pr(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Wa(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ki.enqueueReplaceState(s,s.state,null),vi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Or(e,t){try{var n="",r=t;do n+=Pv(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function $l(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Va(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var s0=typeof WeakMap=="function"?WeakMap:Map;function dh(e,t,n){n=nn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Si||(Si=!0,tc=r),Va(e,t)},n}function fh(e,t,n){n=nn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Va(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Va(e,t),typeof r!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Vd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new s0;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=v0.bind(null,e,t,n),t.then(e,e))}function qd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gd(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=nn(-1,1),t.tag=2,Cn(n,t,1))),n.lanes|=1),e)}var o0=an.ReactCurrentOwner,it=!1;function et(e,t,n,r){t.child=e===null?$m(t,null,n,r):Ir(t,e.child,n,r)}function Kd(e,t,n,r,s){n=n.render;var o=t.ref;return Nr(t,s),r=Xc(e,t,n,r,o,s),n=eu(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ln(e,t,s)):(Se&&n&&$c(t),t.flags|=1,et(e,t,r,s),t.child)}function Qd(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!uu(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,ph(e,t,o,r,s)):(e=Zo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ts,n(i,r)&&e.ref===t.ref)return ln(e,t,s)}return t.flags|=1,e=En(o,r),e.ref=t.ref,e.return=t,t.child=e}function ph(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Ts(o,r)&&e.ref===t.ref)if(it=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(it=!0);else return t.lanes=e.lanes,ln(e,t,s)}return qa(e,t,n,r,s)}function mh(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(wr,pt),pt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(wr,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ye(wr,pt),pt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ye(wr,pt),pt|=r;return et(e,t,s,n),t.child}function hh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qa(e,t,n,r,s){var o=at(n)?Yn:Je.current;return o=Pr(t,o),Nr(t,s),n=Xc(e,t,n,r,o,s),r=eu(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ln(e,t,s)):(Se&&r&&$c(t),t.flags|=1,et(e,t,n,s),t.child)}function Yd(e,t,n,r,s){if(at(n)){var o=!0;pi(t)}else o=!1;if(Nr(t,s),t.stateNode===null)Qo(e,t),uh(t,n,r),Ha(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=At(u):(u=at(n)?Yn:Je.current,u=Pr(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||c!==u)&&Hd(t,i,r,u),mn=!1;var p=t.memoizedState;i.state=p,vi(t,r,i,s),c=t.memoizedState,a!==r||p!==c||lt.current||mn?(typeof d=="function"&&(Wa(t,n,d,r),c=t.memoizedState),(a=mn||Wd(t,n,a,r,p,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Wm(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Ot(t.type,a),i.props=u,f=t.pendingProps,p=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=At(c):(c=at(n)?Yn:Je.current,c=Pr(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||p!==c)&&Hd(t,i,r,c),mn=!1,p=t.memoizedState,i.state=p,vi(t,r,i,s);var h=t.memoizedState;a!==f||p!==h||lt.current||mn?(typeof m=="function"&&(Wa(t,n,m,r),h=t.memoizedState),(u=mn||Wd(t,n,u,r,p,h,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,h,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,h,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Ga(e,t,n,r,o,s)}function Ga(e,t,n,r,s,o){hh(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Od(t,n,!1),ln(e,t,o);r=t.stateNode,o0.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Ir(t,e.child,null,o),t.child=Ir(t,null,a,o)):et(e,t,a,o),t.memoizedState=r.state,s&&Od(t,n,!0),t.child}function gh(e){var t=e.stateNode;t.pendingContext?Td(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Td(e,t.context,!1),Qc(e,t.containerInfo)}function Jd(e,t,n,r,s){return Ar(),Wc(s),t.flags|=256,et(e,t,n,r),t.child}var Ka={dehydrated:null,treeContext:null,retryLane:0};function Qa(e){return{baseLanes:e,cachePool:null,transitions:null}}function yh(e,t,n){var r=t.pendingProps,s=Ce.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ye(Ce,s&1),e===null)return $a(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Ji(i,r,0,null),e=Kn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Qa(n),t.memoizedState=Ka,e):ru(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return i0(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=En(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=En(a,o):(o=Kn(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Qa(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Ka,r}return o=e.child,e=o.sibling,r=En(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ru(e,t){return t=Ji({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ro(e,t,n,r){return r!==null&&Wc(r),Ir(t,e.child,null,n),e=ru(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function i0(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=$l(Error(z(422))),Ro(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Ji({mode:"visible",children:r.children},s,0,null),o=Kn(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ir(t,e.child,null,i),t.child.memoizedState=Qa(i),t.memoizedState=Ka,o);if(!(t.mode&1))return Ro(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(z(419)),r=$l(o,r,void 0),Ro(e,t,i,r)}if(a=(i&e.childLanes)!==0,it||a){if(r=Be,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,on(e,s),zt(r,e,s,-1))}return cu(),r=$l(Error(z(421))),Ro(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=x0.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,mt=Sn(s.nextSibling),gt=t,Se=!0,Ft=null,e!==null&&(kt[Et++]=en,kt[Et++]=tn,kt[Et++]=Jn,en=e.id,tn=e.overflow,Jn=t),t=ru(t,r.children),t.flags|=4096,t)}function Zd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ua(e.return,t,n)}function Ul(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function vh(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(et(e,t,r.children,n),r=Ce.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zd(e,n,t);else if(e.tag===19)Zd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ye(Ce,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&xi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ul(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&xi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ul(t,!0,n,null,o);break;case"together":Ul(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ln(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=En(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=En(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function l0(e,t,n){switch(t.tag){case 3:gh(t),Ar();break;case 5:Hm(t);break;case 1:at(t.type)&&pi(t);break;case 4:Qc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ye(gi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ye(Ce,Ce.current&1),t.flags|=128,null):n&t.child.childLanes?yh(e,t,n):(ye(Ce,Ce.current&1),e=ln(e,t,n),e!==null?e.sibling:null);ye(Ce,Ce.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ye(Ce,Ce.current),r)break;return null;case 22:case 23:return t.lanes=0,mh(e,t,n)}return ln(e,t,n)}var xh,Ya,_h,bh;xh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ya=function(){};_h=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Vn(Qt.current);var o=null;switch(n){case"input":s=va(e,s),r=va(e,r),o=[];break;case"select":s=ke({},s,{value:void 0}),r=ke({},r,{value:void 0}),o=[];break;case"textarea":s=ba(e,s),r=ba(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=di)}Sa(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Es.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Es.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ve("scroll",e),o||a===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};bh=function(e,t,n,r){n!==r&&(t.flags|=4)};function ss(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function a0(e,t,n){var r=t.pendingProps;switch(Uc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return at(t.type)&&fi(),Ke(t),null;case 3:return r=t.stateNode,Tr(),xe(lt),xe(Je),Jc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(No(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ft!==null&&(sc(Ft),Ft=null))),Ya(e,t),Ke(t),null;case 5:Yc(t);var s=Vn(Bs.current);if(n=t.type,e!==null&&t.stateNode!=null)_h(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(z(166));return Ke(t),null}if(e=Vn(Qt.current),No(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Gt]=t,r[Fs]=o,e=(t.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(s=0;s<ps.length;s++)ve(ps[s],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":ld(r,o),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ve("invalid",r);break;case"textarea":cd(r,o),ve("invalid",r)}Sa(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Eo(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Eo(r.textContent,a,e),s=["children",""+a]):Es.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&ve("scroll",r)}switch(n){case"input":xo(r),ad(r,o,!0);break;case"textarea":xo(r),ud(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=di)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Gt]=t,e[Fs]=r,xh(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ca(n,r),n){case"dialog":ve("cancel",e),ve("close",e),s=r;break;case"iframe":case"object":case"embed":ve("load",e),s=r;break;case"video":case"audio":for(s=0;s<ps.length;s++)ve(ps[s],e);s=r;break;case"source":ve("error",e),s=r;break;case"img":case"image":case"link":ve("error",e),ve("load",e),s=r;break;case"details":ve("toggle",e),s=r;break;case"input":ld(e,r),s=va(e,r),ve("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ke({},r,{value:void 0}),ve("invalid",e);break;case"textarea":cd(e,r),s=ba(e,r),ve("invalid",e);break;default:s=r}Sa(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?Zp(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Yp(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ns(e,c):typeof c=="number"&&Ns(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Es.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ve("scroll",e):c!=null&&Ec(e,o,c,i))}switch(n){case"input":xo(e),ad(e,r,!1);break;case"textarea":xo(e),ud(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Pn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Cr(e,!!r.multiple,o,!1):r.defaultValue!=null&&Cr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=di)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ke(t),null;case 6:if(e&&t.stateNode!=null)bh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(z(166));if(n=Vn(Bs.current),Vn(Qt.current),No(t)){if(r=t.stateNode,n=t.memoizedProps,r[Gt]=t,(o=r.nodeValue!==n)&&(e=gt,e!==null))switch(e.tag){case 3:Eo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Eo(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gt]=t,t.stateNode=r}return Ke(t),null;case 13:if(xe(Ce),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&mt!==null&&t.mode&1&&!(t.flags&128))Bm(),Ar(),t.flags|=98560,o=!1;else if(o=No(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(z(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(z(317));o[Gt]=t}else Ar(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ke(t),o=!1}else Ft!==null&&(sc(Ft),Ft=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?Oe===0&&(Oe=3):cu())),t.updateQueue!==null&&(t.flags|=4),Ke(t),null);case 4:return Tr(),Ya(e,t),e===null&&Os(t.stateNode.containerInfo),Ke(t),null;case 10:return qc(t.type._context),Ke(t),null;case 17:return at(t.type)&&fi(),Ke(t),null;case 19:if(xe(Ce),o=t.memoizedState,o===null)return Ke(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)ss(o,!1);else{if(Oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=xi(e),i!==null){for(t.flags|=128,ss(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(Ce,Ce.current&1|2),t.child}e=e.sibling}o.tail!==null&&Pe()>Lr&&(t.flags|=128,r=!0,ss(o,!1),t.lanes=4194304)}else{if(!r)if(e=xi(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ss(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Se)return Ke(t),null}else 2*Pe()-o.renderingStartTime>Lr&&n!==1073741824&&(t.flags|=128,r=!0,ss(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Pe(),t.sibling=null,n=Ce.current,ye(Ce,r?n&1|2:n&1),t):(Ke(t),null);case 22:case 23:return au(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?pt&1073741824&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function c0(e,t){switch(Uc(t),t.tag){case 1:return at(t.type)&&fi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tr(),xe(lt),xe(Je),Jc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yc(t),null;case 13:if(xe(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));Ar()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(Ce),null;case 4:return Tr(),null;case 10:return qc(t.type._context),null;case 22:case 23:return au(),null;case 24:return null;default:return null}}var Po=!1,Qe=!1,u0=typeof WeakSet=="function"?WeakSet:Set,V=null;function br(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ne(e,t,r)}else n.current=null}function Ja(e,t,n){try{n()}catch(r){Ne(e,t,r)}}var Xd=!1;function d0(e,t){if(Ta=ai,e=km(),zc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===s&&(a=i),p===o&&++d===r&&(c=i),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Oa={focusedElem:e,selectionRange:n},ai=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var v=h.memoizedProps,x=h.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ot(t.type,v),x);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(j){Ne(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return h=Xd,Xd=!1,h}function _s(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Ja(t,n,o)}s=s.next}while(s!==r)}}function Qi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Za(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wh(e){var t=e.alternate;t!==null&&(e.alternate=null,wh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gt],delete t[Fs],delete t[Ma],delete t[Gx],delete t[Kx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sh(e){return e.tag===5||e.tag===3||e.tag===4}function ef(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=di));else if(r!==4&&(e=e.child,e!==null))for(Xa(e,t,n),e=e.sibling;e!==null;)Xa(e,t,n),e=e.sibling}function ec(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ec(e,t,n),e=e.sibling;e!==null;)ec(e,t,n),e=e.sibling}var We=null,Lt=!1;function fn(e,t,n){for(n=n.child;n!==null;)Ch(e,t,n),n=n.sibling}function Ch(e,t,n){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount($i,n)}catch{}switch(n.tag){case 5:Qe||br(n,t);case 6:var r=We,s=Lt;We=null,fn(e,t,n),We=r,Lt=s,We!==null&&(Lt?(e=We,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):We.removeChild(n.stateNode));break;case 18:We!==null&&(Lt?(e=We,n=n.stateNode,e.nodeType===8?Ol(e.parentNode,n):e.nodeType===1&&Ol(e,n),As(e)):Ol(We,n.stateNode));break;case 4:r=We,s=Lt,We=n.stateNode.containerInfo,Lt=!0,fn(e,t,n),We=r,Lt=s;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Ja(n,t,i),s=s.next}while(s!==r)}fn(e,t,n);break;case 1:if(!Qe&&(br(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ne(n,t,a)}fn(e,t,n);break;case 21:fn(e,t,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,fn(e,t,n),Qe=r):fn(e,t,n);break;default:fn(e,t,n)}}function tf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new u0),t.forEach(function(r){var s=_0.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Tt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:We=a.stateNode,Lt=!1;break e;case 3:We=a.stateNode.containerInfo,Lt=!0;break e;case 4:We=a.stateNode.containerInfo,Lt=!0;break e}a=a.return}if(We===null)throw Error(z(160));Ch(o,i,s),We=null,Lt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ne(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jh(t,e),t=t.sibling}function jh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Ht(e),r&4){try{_s(3,e,e.return),Qi(3,e)}catch(v){Ne(e,e.return,v)}try{_s(5,e,e.return)}catch(v){Ne(e,e.return,v)}}break;case 1:Tt(t,e),Ht(e),r&512&&n!==null&&br(n,n.return);break;case 5:if(Tt(t,e),Ht(e),r&512&&n!==null&&br(n,n.return),e.flags&32){var s=e.stateNode;try{Ns(s,"")}catch(v){Ne(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Gp(s,o),Ca(a,i);var u=Ca(a,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?Zp(s,f):d==="dangerouslySetInnerHTML"?Yp(s,f):d==="children"?Ns(s,f):Ec(s,d,f,u)}switch(a){case"input":xa(s,o);break;case"textarea":Kp(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Cr(s,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?Cr(s,!!o.multiple,o.defaultValue,!0):Cr(s,!!o.multiple,o.multiple?[]:"",!1))}s[Fs]=o}catch(v){Ne(e,e.return,v)}}break;case 6:if(Tt(t,e),Ht(e),r&4){if(e.stateNode===null)throw Error(z(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(v){Ne(e,e.return,v)}}break;case 3:if(Tt(t,e),Ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{As(t.containerInfo)}catch(v){Ne(e,e.return,v)}break;case 4:Tt(t,e),Ht(e);break;case 13:Tt(t,e),Ht(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(iu=Pe())),r&4&&tf(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Qe=(u=Qe)||d,Tt(t,e),Qe=u):Tt(t,e),Ht(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(V=e,d=e.child;d!==null;){for(f=V=d;V!==null;){switch(p=V,m=p.child,p.tag){case 0:case 11:case 14:case 15:_s(4,p,p.return);break;case 1:br(p,p.return);var h=p.stateNode;if(typeof h.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(v){Ne(r,n,v)}}break;case 5:br(p,p.return);break;case 22:if(p.memoizedState!==null){rf(f);continue}}m!==null?(m.return=p,V=m):rf(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Jp("display",i))}catch(v){Ne(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Ne(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Tt(t,e),Ht(e),r&4&&tf(e);break;case 21:break;default:Tt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sh(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ns(s,""),r.flags&=-33);var o=ef(e);ec(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=ef(e);Xa(e,a,i);break;default:throw Error(z(161))}}catch(c){Ne(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function f0(e,t,n){V=e,kh(e)}function kh(e,t,n){for(var r=(e.mode&1)!==0;V!==null;){var s=V,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Po;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Qe;a=Po;var u=Qe;if(Po=i,(Qe=c)&&!u)for(V=s;V!==null;)i=V,c=i.child,i.tag===22&&i.memoizedState!==null?sf(s):c!==null?(c.return=i,V=c):sf(s);for(;o!==null;)V=o,kh(o),o=o.sibling;V=s,Po=a,Qe=u}nf(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,V=o):nf(e)}}function nf(e){for(;V!==null;){var t=V;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||Qi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ot(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&zd(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}zd(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&As(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Qe||t.flags&512&&Za(t)}catch(p){Ne(t,t.return,p)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function rf(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function sf(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qi(4,t)}catch(c){Ne(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Ne(t,s,c)}}var o=t.return;try{Za(t)}catch(c){Ne(t,o,c)}break;case 5:var i=t.return;try{Za(t)}catch(c){Ne(t,i,c)}}}catch(c){Ne(t,t.return,c)}if(t===e){V=null;break}var a=t.sibling;if(a!==null){a.return=t.return,V=a;break}V=t.return}}var p0=Math.ceil,wi=an.ReactCurrentDispatcher,su=an.ReactCurrentOwner,Rt=an.ReactCurrentBatchConfig,de=0,Be=null,Ie=null,Ve=0,pt=0,wr=On(0),Oe=0,Ws=null,Xn=0,Yi=0,ou=0,bs=null,ot=null,iu=0,Lr=1/0,Zt=null,Si=!1,tc=null,jn=null,Ao=!1,vn=null,Ci=0,ws=0,nc=null,Yo=-1,Jo=0;function tt(){return de&6?Pe():Yo!==-1?Yo:Yo=Pe()}function kn(e){return e.mode&1?de&2&&Ve!==0?Ve&-Ve:Yx.transition!==null?(Jo===0&&(Jo=um()),Jo):(e=me,e!==0||(e=window.event,e=e===void 0?16:ym(e.type)),e):1}function zt(e,t,n,r){if(50<ws)throw ws=0,nc=null,Error(z(185));to(e,n,r),(!(de&2)||e!==Be)&&(e===Be&&(!(de&2)&&(Yi|=n),Oe===4&&gn(e,Ve)),ct(e,r),n===1&&de===0&&!(t.mode&1)&&(Lr=Pe()+500,qi&&Ln()))}function ct(e,t){var n=e.callbackNode;Yv(e,t);var r=li(e,e===Be?Ve:0);if(r===0)n!==null&&pd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&pd(n),t===1)e.tag===0?Qx(of.bind(null,e)):Lm(of.bind(null,e)),Vx(function(){!(de&6)&&Ln()}),n=null;else{switch(dm(r)){case 1:n=Ac;break;case 4:n=am;break;case 16:n=ii;break;case 536870912:n=cm;break;default:n=ii}n=Th(n,Eh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Eh(e,t){if(Yo=-1,Jo=0,de&6)throw Error(z(327));var n=e.callbackNode;if(Dr()&&e.callbackNode!==n)return null;var r=li(e,e===Be?Ve:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ji(e,r);else{t=r;var s=de;de|=2;var o=Dh();(Be!==e||Ve!==t)&&(Zt=null,Lr=Pe()+500,Gn(e,t));do try{g0();break}catch(a){Nh(e,a)}while(!0);Vc(),wi.current=o,de=s,Ie!==null?t=0:(Be=null,Ve=0,t=Oe)}if(t!==0){if(t===2&&(s=Da(e),s!==0&&(r=s,t=rc(e,s))),t===1)throw n=Ws,Gn(e,0),gn(e,r),ct(e,Pe()),n;if(t===6)gn(e,r);else{if(s=e.current.alternate,!(r&30)&&!m0(s)&&(t=ji(e,r),t===2&&(o=Da(e),o!==0&&(r=o,t=rc(e,o))),t===1))throw n=Ws,Gn(e,0),gn(e,r),ct(e,Pe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(z(345));case 2:zn(e,ot,Zt);break;case 3:if(gn(e,r),(r&130023424)===r&&(t=iu+500-Pe(),10<t)){if(li(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){tt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Fa(zn.bind(null,e,ot,Zt),t);break}zn(e,ot,Zt);break;case 4:if(gn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-Bt(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*p0(r/1960))-r,10<r){e.timeoutHandle=Fa(zn.bind(null,e,ot,Zt),r);break}zn(e,ot,Zt);break;case 5:zn(e,ot,Zt);break;default:throw Error(z(329))}}}return ct(e,Pe()),e.callbackNode===n?Eh.bind(null,e):null}function rc(e,t){var n=bs;return e.current.memoizedState.isDehydrated&&(Gn(e,t).flags|=256),e=ji(e,t),e!==2&&(t=ot,ot=n,t!==null&&sc(t)),e}function sc(e){ot===null?ot=e:ot.push.apply(ot,e)}function m0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!$t(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gn(e,t){for(t&=~ou,t&=~Yi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Bt(t),r=1<<n;e[n]=-1,t&=~r}}function of(e){if(de&6)throw Error(z(327));Dr();var t=li(e,0);if(!(t&1))return ct(e,Pe()),null;var n=ji(e,t);if(e.tag!==0&&n===2){var r=Da(e);r!==0&&(t=r,n=rc(e,r))}if(n===1)throw n=Ws,Gn(e,0),gn(e,t),ct(e,Pe()),n;if(n===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zn(e,ot,Zt),ct(e,Pe()),null}function lu(e,t){var n=de;de|=1;try{return e(t)}finally{de=n,de===0&&(Lr=Pe()+500,qi&&Ln())}}function er(e){vn!==null&&vn.tag===0&&!(de&6)&&Dr();var t=de;de|=1;var n=Rt.transition,r=me;try{if(Rt.transition=null,me=1,e)return e()}finally{me=r,Rt.transition=n,de=t,!(de&6)&&Ln()}}function au(){pt=wr.current,xe(wr)}function Gn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Hx(n)),Ie!==null)for(n=Ie.return;n!==null;){var r=n;switch(Uc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fi();break;case 3:Tr(),xe(lt),xe(Je),Jc();break;case 5:Yc(r);break;case 4:Tr();break;case 13:xe(Ce);break;case 19:xe(Ce);break;case 10:qc(r.type._context);break;case 22:case 23:au()}n=n.return}if(Be=e,Ie=e=En(e.current,null),Ve=pt=t,Oe=0,Ws=null,ou=Yi=Xn=0,ot=bs=null,Hn!==null){for(t=0;t<Hn.length;t++)if(n=Hn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Hn=null}return e}function Nh(e,t){do{var n=Ie;try{if(Vc(),Go.current=bi,_i){for(var r=je.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}_i=!1}if(Zn=0,Me=Te=je=null,xs=!1,zs=0,su.current=null,n===null||n.return===null){Oe=1,Ws=t,Ie=null;break}e:{var o=e,i=n.return,a=n,c=t;if(t=Ve,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=qd(i);if(m!==null){m.flags&=-257,Gd(m,i,a,o,t),m.mode&1&&Vd(o,u,t),t=m,c=u;var h=t.updateQueue;if(h===null){var v=new Set;v.add(c),t.updateQueue=v}else h.add(c);break e}else{if(!(t&1)){Vd(o,u,t),cu();break e}c=Error(z(426))}}else if(Se&&a.mode&1){var x=qd(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Gd(x,i,a,o,t),Wc(Or(c,a));break e}}o=c=Or(c,a),Oe!==4&&(Oe=2),bs===null?bs=[o]:bs.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=dh(o,c,t);Bd(o,g);break e;case 1:a=c;var y=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(jn===null||!jn.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=fh(o,a,t);Bd(o,j);break e}}o=o.return}while(o!==null)}Ph(n)}catch(E){t=E,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(!0)}function Dh(){var e=wi.current;return wi.current=bi,e===null?bi:e}function cu(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Be===null||!(Xn&268435455)&&!(Yi&268435455)||gn(Be,Ve)}function ji(e,t){var n=de;de|=2;var r=Dh();(Be!==e||Ve!==t)&&(Zt=null,Gn(e,t));do try{h0();break}catch(s){Nh(e,s)}while(!0);if(Vc(),de=n,wi.current=r,Ie!==null)throw Error(z(261));return Be=null,Ve=0,Oe}function h0(){for(;Ie!==null;)Rh(Ie)}function g0(){for(;Ie!==null&&!$v();)Rh(Ie)}function Rh(e){var t=Ih(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?Ph(e):Ie=t,su.current=null}function Ph(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=c0(n,t),n!==null){n.flags&=32767,Ie=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Oe=6,Ie=null;return}}else if(n=a0(n,t,pt),n!==null){Ie=n;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);Oe===0&&(Oe=5)}function zn(e,t,n){var r=me,s=Rt.transition;try{Rt.transition=null,me=1,y0(e,t,n,r)}finally{Rt.transition=s,me=r}return null}function y0(e,t,n,r){do Dr();while(vn!==null);if(de&6)throw Error(z(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Jv(e,o),e===Be&&(Ie=Be=null,Ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ao||(Ao=!0,Th(ii,function(){return Dr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Rt.transition,Rt.transition=null;var i=me;me=1;var a=de;de|=4,su.current=null,d0(e,n),jh(n,e),Fx(Oa),ai=!!Ta,Oa=Ta=null,e.current=n,f0(n),Uv(),de=a,me=i,Rt.transition=o}else e.current=n;if(Ao&&(Ao=!1,vn=e,Ci=s),o=e.pendingLanes,o===0&&(jn=null),Vv(n.stateNode),ct(e,Pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Si)throw Si=!1,e=tc,tc=null,e;return Ci&1&&e.tag!==0&&Dr(),o=e.pendingLanes,o&1?e===nc?ws++:(ws=0,nc=e):ws=0,Ln(),null}function Dr(){if(vn!==null){var e=dm(Ci),t=Rt.transition,n=me;try{if(Rt.transition=null,me=16>e?16:e,vn===null)var r=!1;else{if(e=vn,vn=null,Ci=0,de&6)throw Error(z(331));var s=de;for(de|=4,V=e.current;V!==null;){var o=V,i=o.child;if(V.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(V=u;V!==null;){var d=V;switch(d.tag){case 0:case 11:case 15:_s(8,d,o)}var f=d.child;if(f!==null)f.return=d,V=f;else for(;V!==null;){d=V;var p=d.sibling,m=d.return;if(wh(d),d===u){V=null;break}if(p!==null){p.return=m,V=p;break}V=m}}}var h=o.alternate;if(h!==null){var v=h.child;if(v!==null){h.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}V=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,V=i;else e:for(;V!==null;){if(o=V,o.flags&2048)switch(o.tag){case 0:case 11:case 15:_s(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,V=g;break e}V=o.return}}var y=e.current;for(V=y;V!==null;){i=V;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,V=b;else e:for(i=y;V!==null;){if(a=V,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qi(9,a)}}catch(E){Ne(a,a.return,E)}if(a===i){V=null;break e}var j=a.sibling;if(j!==null){j.return=a.return,V=j;break e}V=a.return}}if(de=s,Ln(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot($i,e)}catch{}r=!0}return r}finally{me=n,Rt.transition=t}}return!1}function lf(e,t,n){t=Or(n,t),t=dh(e,t,1),e=Cn(e,t,1),t=tt(),e!==null&&(to(e,1,t),ct(e,t))}function Ne(e,t,n){if(e.tag===3)lf(e,e,n);else for(;t!==null;){if(t.tag===3){lf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jn===null||!jn.has(r))){e=Or(n,e),e=fh(t,e,1),t=Cn(t,e,1),e=tt(),t!==null&&(to(t,1,e),ct(t,e));break}}t=t.return}}function v0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=tt(),e.pingedLanes|=e.suspendedLanes&n,Be===e&&(Ve&n)===n&&(Oe===4||Oe===3&&(Ve&130023424)===Ve&&500>Pe()-iu?Gn(e,0):ou|=n),ct(e,t)}function Ah(e,t){t===0&&(e.mode&1?(t=wo,wo<<=1,!(wo&130023424)&&(wo=4194304)):t=1);var n=tt();e=on(e,t),e!==null&&(to(e,t,n),ct(e,n))}function x0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ah(e,n)}function _0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(t),Ah(e,n)}var Ih;Ih=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)it=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return it=!1,l0(e,t,n);it=!!(e.flags&131072)}else it=!1,Se&&t.flags&1048576&&Fm(t,hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qo(e,t),e=t.pendingProps;var s=Pr(t,Je.current);Nr(t,n),s=Xc(null,t,r,e,s,n);var o=eu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(r)?(o=!0,pi(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Kc(t),s.updater=Ki,t.stateNode=s,s._reactInternals=t,Ha(t,r,e,n),t=Ga(null,t,r,!0,o,n)):(t.tag=0,Se&&o&&$c(t),et(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qo(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=w0(r),e=Ot(r,e),s){case 0:t=qa(null,t,r,e,n);break e;case 1:t=Yd(null,t,r,e,n);break e;case 11:t=Kd(null,t,r,e,n);break e;case 14:t=Qd(null,t,r,Ot(r.type,e),n);break e}throw Error(z(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ot(r,s),qa(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ot(r,s),Yd(e,t,r,s,n);case 3:e:{if(gh(t),e===null)throw Error(z(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Wm(e,t),vi(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Or(Error(z(423)),t),t=Jd(e,t,r,n,s);break e}else if(r!==s){s=Or(Error(z(424)),t),t=Jd(e,t,r,n,s);break e}else for(mt=Sn(t.stateNode.containerInfo.firstChild),gt=t,Se=!0,Ft=null,n=$m(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ar(),r===s){t=ln(e,t,n);break e}et(e,t,r,n)}t=t.child}return t;case 5:return Hm(t),e===null&&$a(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,La(r,s)?i=null:o!==null&&La(r,o)&&(t.flags|=32),hh(e,t),et(e,t,i,n),t.child;case 6:return e===null&&$a(t),null;case 13:return yh(e,t,n);case 4:return Qc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ir(t,null,r,n):et(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ot(r,s),Kd(e,t,r,s,n);case 7:return et(e,t,t.pendingProps,n),t.child;case 8:return et(e,t,t.pendingProps.children,n),t.child;case 12:return et(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,ye(gi,r._currentValue),r._currentValue=i,o!==null)if($t(o.value,i)){if(o.children===s.children&&!lt.current){t=ln(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=nn(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Ua(o.return,n,t),a.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(z(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ua(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}et(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Nr(t,n),s=At(s),r=r(s),t.flags|=1,et(e,t,r,n),t.child;case 14:return r=t.type,s=Ot(r,t.pendingProps),s=Ot(r.type,s),Qd(e,t,r,s,n);case 15:return ph(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ot(r,s),Qo(e,t),t.tag=1,at(r)?(e=!0,pi(t)):e=!1,Nr(t,n),uh(t,r,s),Ha(t,r,s,n),Ga(null,t,r,!0,e,n);case 19:return vh(e,t,n);case 22:return mh(e,t,n)}throw Error(z(156,t.tag))};function Th(e,t){return lm(e,t)}function b0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,n,r){return new b0(e,t,n,r)}function uu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function w0(e){if(typeof e=="function")return uu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Dc)return 11;if(e===Rc)return 14}return 2}function En(e,t){var n=e.alternate;return n===null?(n=Nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zo(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")uu(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case fr:return Kn(n.children,s,o,t);case Nc:i=8,s|=8;break;case ma:return e=Nt(12,n,t,s|2),e.elementType=ma,e.lanes=o,e;case ha:return e=Nt(13,n,t,s),e.elementType=ha,e.lanes=o,e;case ga:return e=Nt(19,n,t,s),e.elementType=ga,e.lanes=o,e;case Hp:return Ji(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Up:i=10;break e;case Wp:i=9;break e;case Dc:i=11;break e;case Rc:i=14;break e;case pn:i=16,r=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=Nt(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Kn(e,t,n,r){return e=Nt(7,e,r,t),e.lanes=n,e}function Ji(e,t,n,r){return e=Nt(22,e,r,t),e.elementType=Hp,e.lanes=n,e.stateNode={isHidden:!1},e}function Wl(e,t,n){return e=Nt(6,e,null,t),e.lanes=n,e}function Hl(e,t,n){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function S0(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cl(0),this.expirationTimes=Cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function du(e,t,n,r,s,o,i,a,c){return e=new S0(e,t,n,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Nt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kc(o),e}function C0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Oh(e){if(!e)return An;e=e._reactInternals;e:{if(or(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(at(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var n=e.type;if(at(n))return Om(e,n,t)}return t}function Lh(e,t,n,r,s,o,i,a,c){return e=du(n,r,!0,e,s,o,i,a,c),e.context=Oh(null),n=e.current,r=tt(),s=kn(n),o=nn(r,s),o.callback=t??null,Cn(n,o,s),e.current.lanes=s,to(e,s,r),ct(e,r),e}function Zi(e,t,n,r){var s=t.current,o=tt(),i=kn(s);return n=Oh(n),t.context===null?t.context=n:t.pendingContext=n,t=nn(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Cn(s,t,i),e!==null&&(zt(e,s,i,o),qo(e,s,i)),i}function ki(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function af(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fu(e,t){af(e,t),(e=e.alternate)&&af(e,t)}function j0(){return null}var Fh=typeof reportError=="function"?reportError:function(e){console.error(e)};function pu(e){this._internalRoot=e}Xi.prototype.render=pu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));Zi(e,t,null,null)};Xi.prototype.unmount=pu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;er(function(){Zi(null,e,null,null)}),t[sn]=null}};function Xi(e){this._internalRoot=e}Xi.prototype.unstable_scheduleHydration=function(e){if(e){var t=mm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<hn.length&&t!==0&&t<hn[n].priority;n++);hn.splice(n,0,e),n===0&&gm(e)}};function mu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function el(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cf(){}function k0(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=ki(i);o.call(u)}}var i=Lh(t,r,e,0,null,!1,!1,"",cf);return e._reactRootContainer=i,e[sn]=i.current,Os(e.nodeType===8?e.parentNode:e),er(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=ki(c);a.call(u)}}var c=du(e,0,!1,null,null,!1,!1,"",cf);return e._reactRootContainer=c,e[sn]=c.current,Os(e.nodeType===8?e.parentNode:e),er(function(){Zi(t,c,n,r)}),c}function tl(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=ki(i);a.call(c)}}Zi(t,i,e,s)}else i=k0(n,t,e,s,r);return ki(i)}fm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fs(t.pendingLanes);n!==0&&(Ic(t,n|1),ct(t,Pe()),!(de&6)&&(Lr=Pe()+500,Ln()))}break;case 13:er(function(){var r=on(e,1);if(r!==null){var s=tt();zt(r,e,1,s)}}),fu(e,1)}};Tc=function(e){if(e.tag===13){var t=on(e,134217728);if(t!==null){var n=tt();zt(t,e,134217728,n)}fu(e,134217728)}};pm=function(e){if(e.tag===13){var t=kn(e),n=on(e,t);if(n!==null){var r=tt();zt(n,e,t,r)}fu(e,t)}};mm=function(){return me};hm=function(e,t){var n=me;try{return me=e,t()}finally{me=n}};ka=function(e,t,n){switch(t){case"input":if(xa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Vi(r);if(!s)throw Error(z(90));qp(r),xa(r,s)}}}break;case"textarea":Kp(e,n);break;case"select":t=n.value,t!=null&&Cr(e,!!n.multiple,t,!1)}};tm=lu;nm=er;var E0={usingClientEntryPoint:!1,Events:[ro,gr,Vi,Xp,em,lu]},os={findFiberByHostInstance:Wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},N0={bundleType:os.bundleType,version:os.version,rendererPackageName:os.rendererPackageName,rendererConfig:os.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=om(e),e===null?null:e.stateNode},findFiberByHostInstance:os.findFiberByHostInstance||j0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Io.isDisabled&&Io.supportsFiber)try{$i=Io.inject(N0),Kt=Io}catch{}}_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E0;_t.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mu(t))throw Error(z(200));return C0(e,t,null,n)};_t.createRoot=function(e,t){if(!mu(e))throw Error(z(299));var n=!1,r="",s=Fh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=du(e,1,!1,null,null,n,!1,r,s),e[sn]=t.current,Os(e.nodeType===8?e.parentNode:e),new pu(t)};_t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=om(t),e=e===null?null:e.stateNode,e};_t.flushSync=function(e){return er(e)};_t.hydrate=function(e,t,n){if(!el(t))throw Error(z(200));return tl(null,e,t,!0,n)};_t.hydrateRoot=function(e,t,n){if(!mu(e))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=Fh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Lh(t,null,e,1,n??null,s,!1,o,i),e[sn]=t.current,Os(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Xi(t)};_t.render=function(e,t,n){if(!el(t))throw Error(z(200));return tl(null,e,t,!1,n)};_t.unmountComponentAtNode=function(e){if(!el(e))throw Error(z(40));return e._reactRootContainer?(er(function(){tl(null,null,e,!1,function(){e._reactRootContainer=null,e[sn]=null})}),!0):!1};_t.unstable_batchedUpdates=lu;_t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!el(n))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return tl(e,t,n,!1,r)};_t.version="18.3.1-next-f1338f8080-20240426";function Mh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mh)}catch(e){console.error(e)}}Mh(),Mp.exports=_t;var nl=Mp.exports;const D0=Bi(nl);var uf=nl;fa.createRoot=uf.createRoot,fa.hydrateRoot=uf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hs.apply(this,arguments)}var xn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xn||(xn={}));const df="popstate";function R0(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:a}=r.location;return oc("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ei(s)}return A0(t,n,null,e)}function Ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Bh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function P0(){return Math.random().toString(36).substr(2,8)}function ff(e,t){return{usr:e.state,key:e.key,idx:t}}function oc(e,t,n,r){return n===void 0&&(n=null),Hs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Hr(t):t,{state:n,key:t&&t.key||r||P0()})}function Ei(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Hr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function A0(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=xn.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Hs({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=xn.Pop;let x=d(),g=x==null?null:x-u;u=x,c&&c({action:a,location:v.location,delta:g})}function p(x,g){a=xn.Push;let y=oc(v.location,x,g);u=d()+1;let b=ff(y,u),j=v.createHref(y);try{i.pushState(b,"",j)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(j)}o&&c&&c({action:a,location:v.location,delta:1})}function m(x,g){a=xn.Replace;let y=oc(v.location,x,g);u=d();let b=ff(y,u),j=v.createHref(y);i.replaceState(b,"",j),o&&c&&c({action:a,location:v.location,delta:0})}function h(x){let g=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:Ei(x);return y=y.replace(/ $/,"%20"),Ae(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let v={get action(){return a},get location(){return e(s,i)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(df,f),c=x,()=>{s.removeEventListener(df,f),c=null}},createHref(x){return t(s,x)},createURL:h,encodeLocation(x){let g=h(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(x){return i.go(x)}};return v}var pf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(pf||(pf={}));function I0(e,t,n){return n===void 0&&(n="/"),T0(e,t,n)}function T0(e,t,n,r){let s=typeof t=="string"?Hr(t):t,o=hu(s.pathname||"/",n);if(o==null)return null;let i=zh(e);O0(i);let a=null;for(let c=0;a==null&&c<i.length;++c){let u=G0(o);a=H0(i[c],u)}return a}function zh(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Ae(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Nn([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(Ae(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),zh(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:U0(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let c of $h(o.path))s(o,i,c)}),t}function $h(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=$h(r.join("/")),a=[];return a.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&a.push(...i),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function O0(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:W0(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const L0=/^:[\w-]+$/,F0=3,M0=2,B0=1,z0=10,$0=-2,mf=e=>e==="*";function U0(e,t){let n=e.split("/"),r=n.length;return n.some(mf)&&(r+=$0),t&&(r+=M0),n.filter(s=>!mf(s)).reduce((s,o)=>s+(L0.test(o)?F0:o===""?B0:z0),r)}function W0(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function H0(e,t,n){let{routesMeta:r}=e,s={},o="/",i=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=V0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Nn([o,f.pathname]),pathnameBase:J0(Nn([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=Nn([o,f.pathnameBase]))}return i}function V0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=q0(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let v=a[f]||"";i=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const h=a[f];return m&&!h?u[p]=void 0:u[p]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function q0(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Bh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function G0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Bh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function hu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function K0(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Hr(e):e;return{pathname:n?n.startsWith("/")?n:Q0(n,t):t,search:Z0(r),hash:X0(s)}}function Q0(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Vl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Y0(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function gu(e,t){let n=Y0(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function yu(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Hr(e):(s=Hs({},e),Ae(!s.pathname||!s.pathname.includes("?"),Vl("?","pathname","search",s)),Ae(!s.pathname||!s.pathname.includes("#"),Vl("#","pathname","hash",s)),Ae(!s.search||!s.search.includes("#"),Vl("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?t[f]:"/"}let c=K0(s,a),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Nn=e=>e.join("/").replace(/\/\/+/g,"/"),J0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Z0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,X0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function e_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Uh=["post","put","patch","delete"];new Set(Uh);const t_=["get",...Uh];new Set(t_);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vs(){return Vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vs.apply(this,arguments)}const vu=w.createContext(null),n_=w.createContext(null),Fn=w.createContext(null),rl=w.createContext(null),cn=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Wh=w.createContext(null);function r_(e,t){let{relative:n}=t===void 0?{}:t;Vr()||Ae(!1);let{basename:r,navigator:s}=w.useContext(Fn),{hash:o,pathname:i,search:a}=Vh(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:Nn([r,i])),s.createHref({pathname:c,search:a,hash:o})}function Vr(){return w.useContext(rl)!=null}function oo(){return Vr()||Ae(!1),w.useContext(rl).location}function Hh(e){w.useContext(Fn).static||w.useLayoutEffect(e)}function io(){let{isDataRoute:e}=w.useContext(cn);return e?v_():s_()}function s_(){Vr()||Ae(!1);let e=w.useContext(vu),{basename:t,future:n,navigator:r}=w.useContext(Fn),{matches:s}=w.useContext(cn),{pathname:o}=oo(),i=JSON.stringify(gu(s,n.v7_relativeSplatPath)),a=w.useRef(!1);return Hh(()=>{a.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=yu(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Nn([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,o,e])}const o_=w.createContext(null);function i_(e){let t=w.useContext(cn).outlet;return t&&w.createElement(o_.Provider,{value:e},t)}function Vh(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(Fn),{matches:s}=w.useContext(cn),{pathname:o}=oo(),i=JSON.stringify(gu(s,r.v7_relativeSplatPath));return w.useMemo(()=>yu(e,JSON.parse(i),o,n==="path"),[e,i,o,n])}function l_(e,t){return a_(e,t)}function a_(e,t,n,r){Vr()||Ae(!1);let{navigator:s}=w.useContext(Fn),{matches:o}=w.useContext(cn),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=oo(),d;if(t){var f;let x=typeof t=="string"?Hr(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Ae(!1),d=x}else d=u;let p=d.pathname||"/",m=p;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let h=I0(e,{pathname:m}),v=p_(h&&h.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Nn([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Nn([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return t&&v?w.createElement(rl.Provider,{value:{location:Vs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:xn.Pop}},v):v}function c_(){let e=y_(),t=e_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:s},n):null,null)}const u_=w.createElement(c_,null);class d_ extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(cn.Provider,{value:this.props.routeContext},w.createElement(Wh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function f_(e){let{routeContext:t,match:n,children:r}=e,s=w.useContext(vu);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(cn.Provider,{value:t},r)}function p_(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Ae(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:m}=n,h=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||h){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,p)=>{let m,h=!1,v=null,x=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||u_,c&&(u<0&&p===0?(x_("route-fallback"),h=!0,x=null):u===p&&(h=!0,x=f.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,p+1)),y=()=>{let b;return m?b=v:h?b=x:f.route.Component?b=w.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,w.createElement(f_,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?w.createElement(d_,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var qh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qh||{}),Gh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Gh||{});function m_(e){let t=w.useContext(vu);return t||Ae(!1),t}function h_(e){let t=w.useContext(n_);return t||Ae(!1),t}function g_(e){let t=w.useContext(cn);return t||Ae(!1),t}function Kh(e){let t=g_(),n=t.matches[t.matches.length-1];return n.route.id||Ae(!1),n.route.id}function y_(){var e;let t=w.useContext(Wh),n=h_(),r=Kh();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function v_(){let{router:e}=m_(qh.UseNavigateStable),t=Kh(Gh.UseNavigateStable),n=w.useRef(!1);return Hh(()=>{n.current=!0}),w.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Vs({fromRouteId:t},o)))},[e,t])}const hf={};function x_(e,t,n){hf[e]||(hf[e]=!0)}function __(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function b_(e){let{to:t,replace:n,state:r,relative:s}=e;Vr()||Ae(!1);let{future:o,static:i}=w.useContext(Fn),{matches:a}=w.useContext(cn),{pathname:c}=oo(),u=io(),d=yu(t,gu(a,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function w_(e){return i_(e.context)}function $n(e){Ae(!1)}function S_(e){let{basename:t="/",children:n=null,location:r,navigationType:s=xn.Pop,navigator:o,static:i=!1,future:a}=e;Vr()&&Ae(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:o,static:i,future:Vs({v7_relativeSplatPath:!1},a)}),[c,a,o,i]);typeof r=="string"&&(r=Hr(r));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:h="default"}=r,v=w.useMemo(()=>{let x=hu(d,c);return x==null?null:{location:{pathname:x,search:f,hash:p,state:m,key:h},navigationType:s}},[c,d,f,p,m,h,s]);return v==null?null:w.createElement(Fn.Provider,{value:u},w.createElement(rl.Provider,{children:n,value:v}))}function C_(e){let{children:t,location:n}=e;return l_(ic(t),n)}new Promise(()=>{});function ic(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,s)=>{if(!w.isValidElement(r))return;let o=[...t,s];if(r.type===w.Fragment){n.push.apply(n,ic(r.props.children,o));return}r.type!==$n&&Ae(!1),!r.props.index||!r.props.children||Ae(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=ic(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lc.apply(this,arguments)}function j_(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function k_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function E_(e,t){return e.button===0&&(!t||t==="_self")&&!k_(e)}const N_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],D_="6";try{window.__reactRouterVersion=D_}catch{}const R_="startTransition",gf=vv[R_];function P_(e){let{basename:t,children:n,future:r,window:s}=e,o=w.useRef();o.current==null&&(o.current=R0({window:s,v5Compat:!0}));let i=o.current,[a,c]=w.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=w.useCallback(f=>{u&&gf?gf(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>i.listen(d),[i,d]),w.useEffect(()=>__(r),[r]),w.createElement(S_,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}const A_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qh=w.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:i,state:a,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,p=j_(t,N_),{basename:m}=w.useContext(Fn),h,v=!1;if(typeof u=="string"&&I_.test(u)&&(h=u,A_))try{let b=new URL(window.location.href),j=u.startsWith("//")?new URL(b.protocol+u):new URL(u),E=hu(j.pathname,m);j.origin===b.origin&&E!=null?u=E+j.search+j.hash:v=!0}catch{}let x=r_(u,{relative:s}),g=T_(u,{replace:i,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:f});function y(b){r&&r(b),b.defaultPrevented||g(b)}return w.createElement("a",lc({},p,{href:h||x,onClick:v||o?r:y,ref:n,target:c}))});var yf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(yf||(yf={}));var vf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(vf||(vf={}));function T_(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:a}=t===void 0?{}:t,c=io(),u=oo(),d=Vh(e,{relative:i});return w.useCallback(f=>{if(E_(f,n)){f.preventDefault();let p=r!==void 0?r:Ei(u)===Ei(d);c(e,{replace:p,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[u,c,d,r,s,n,e,o,i,a])}function Yh(e,t){return function(){return e.apply(t,arguments)}}const{toString:O_}=Object.prototype,{getPrototypeOf:xu}=Object,{iterator:sl,toStringTag:Jh}=Symbol,ol=(e=>t=>{const n=O_.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ut=e=>(e=e.toLowerCase(),t=>ol(t)===e),il=e=>t=>typeof t===e,{isArray:qr}=Array,Fr=il("undefined");function lo(e){return e!==null&&!Fr(e)&&e.constructor!==null&&!Fr(e.constructor)&&ut(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Zh=Ut("ArrayBuffer");function L_(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Zh(e.buffer),t}const F_=il("string"),ut=il("function"),Xh=il("number"),ao=e=>e!==null&&typeof e=="object",M_=e=>e===!0||e===!1,Xo=e=>{if(ol(e)!=="object")return!1;const t=xu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Jh in e)&&!(sl in e)},B_=e=>{if(!ao(e)||lo(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},z_=Ut("Date"),$_=Ut("File"),U_=Ut("Blob"),W_=Ut("FileList"),H_=e=>ao(e)&&ut(e.pipe),V_=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ut(e.append)&&((t=ol(e))==="formdata"||t==="object"&&ut(e.toString)&&e.toString()==="[object FormData]"))},q_=Ut("URLSearchParams"),[G_,K_,Q_,Y_]=["ReadableStream","Request","Response","Headers"].map(Ut),J_=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function co(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),qr(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(lo(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let a;for(r=0;r<i;r++)a=o[r],t.call(null,e[a],a,e)}}function eg(e,t){if(lo(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const qn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tg=e=>!Fr(e)&&e!==qn;function ac(){const{caseless:e,skipUndefined:t}=tg(this)&&this||{},n={},r=(s,o)=>{const i=e&&eg(n,o)||o;Xo(n[i])&&Xo(s)?n[i]=ac(n[i],s):Xo(s)?n[i]=ac({},s):qr(s)?n[i]=s.slice():(!t||!Fr(s))&&(n[i]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&co(arguments[s],r);return n}const Z_=(e,t,n,{allOwnKeys:r}={})=>(co(t,(s,o)=>{n&&ut(s)?e[o]=Yh(s,n):e[o]=s},{allOwnKeys:r}),e),X_=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),eb=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},tb=(e,t,n,r)=>{let s,o,i;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)i=s[o],(!r||r(i,e,t))&&!a[i]&&(t[i]=e[i],a[i]=!0);e=n!==!1&&xu(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},nb=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},rb=e=>{if(!e)return null;if(qr(e))return e;let t=e.length;if(!Xh(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},sb=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&xu(Uint8Array)),ob=(e,t)=>{const r=(e&&e[sl]).call(e);let s;for(;(s=r.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},ib=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},lb=Ut("HTMLFormElement"),ab=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),xf=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),cb=Ut("RegExp"),ng=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};co(n,(s,o)=>{let i;(i=t(s,o,e))!==!1&&(r[o]=i||s)}),Object.defineProperties(e,r)},ub=e=>{ng(e,(t,n)=>{if(ut(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ut(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},db=(e,t)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return qr(e)?r(e):r(String(e).split(t)),n},fb=()=>{},pb=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function mb(e){return!!(e&&ut(e.append)&&e[Jh]==="FormData"&&e[sl])}const hb=e=>{const t=new Array(10),n=(r,s)=>{if(ao(r)){if(t.indexOf(r)>=0)return;if(lo(r))return r;if(!("toJSON"in r)){t[s]=r;const o=qr(r)?[]:{};return co(r,(i,a)=>{const c=n(i,s+1);!Fr(c)&&(o[a]=c)}),t[s]=void 0,o}}return r};return n(e,0)},gb=Ut("AsyncFunction"),yb=e=>e&&(ao(e)||ut(e))&&ut(e.then)&&ut(e.catch),rg=((e,t)=>e?setImmediate:t?((n,r)=>(qn.addEventListener("message",({source:s,data:o})=>{s===qn&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),qn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ut(qn.postMessage)),vb=typeof queueMicrotask<"u"?queueMicrotask.bind(qn):typeof process<"u"&&process.nextTick||rg,xb=e=>e!=null&&ut(e[sl]),I={isArray:qr,isArrayBuffer:Zh,isBuffer:lo,isFormData:V_,isArrayBufferView:L_,isString:F_,isNumber:Xh,isBoolean:M_,isObject:ao,isPlainObject:Xo,isEmptyObject:B_,isReadableStream:G_,isRequest:K_,isResponse:Q_,isHeaders:Y_,isUndefined:Fr,isDate:z_,isFile:$_,isBlob:U_,isRegExp:cb,isFunction:ut,isStream:H_,isURLSearchParams:q_,isTypedArray:sb,isFileList:W_,forEach:co,merge:ac,extend:Z_,trim:J_,stripBOM:X_,inherits:eb,toFlatObject:tb,kindOf:ol,kindOfTest:Ut,endsWith:nb,toArray:rb,forEachEntry:ob,matchAll:ib,isHTMLForm:lb,hasOwnProperty:xf,hasOwnProp:xf,reduceDescriptors:ng,freezeMethods:ub,toObjectSet:db,toCamelCase:ab,noop:fb,toFiniteNumber:pb,findKey:eg,global:qn,isContextDefined:tg,isSpecCompliantForm:mb,toJSONObject:hb,isAsyncFn:gb,isThenable:yb,setImmediate:rg,asap:vb,isIterable:xb};function ne(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}I.inherits(ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}});const sg=ne.prototype,og={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{og[e]={value:e}});Object.defineProperties(ne,og);Object.defineProperty(sg,"isAxiosError",{value:!0});ne.from=(e,t,n,r,s,o)=>{const i=Object.create(sg);I.toFlatObject(e,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const a=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ne.call(i,a,c,n,r,s),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};const _b=null;function cc(e){return I.isPlainObject(e)||I.isArray(e)}function ig(e){return I.endsWith(e,"[]")?e.slice(0,-2):e}function _f(e,t,n){return e?e.concat(t).map(function(s,o){return s=ig(s),!n&&o?"["+s+"]":s}).join(n?".":""):t}function bb(e){return I.isArray(e)&&!e.some(cc)}const wb=I.toFlatObject(I,{},null,function(t){return/^is[A-Z]/.test(t)});function ll(e,t,n){if(!I.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=I.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,x){return!I.isUndefined(x[v])});const r=n.metaTokens,s=n.visitor||d,o=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(t);if(!I.isFunction(s))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(I.isDate(h))return h.toISOString();if(I.isBoolean(h))return h.toString();if(!c&&I.isBlob(h))throw new ne("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(h)||I.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function d(h,v,x){let g=h;if(h&&!x&&typeof h=="object"){if(I.endsWith(v,"{}"))v=r?v:v.slice(0,-2),h=JSON.stringify(h);else if(I.isArray(h)&&bb(h)||(I.isFileList(h)||I.endsWith(v,"[]"))&&(g=I.toArray(h)))return v=ig(v),g.forEach(function(b,j){!(I.isUndefined(b)||b===null)&&t.append(i===!0?_f([v],j,o):i===null?v:v+"[]",u(b))}),!1}return cc(h)?!0:(t.append(_f(x,v,o),u(h)),!1)}const f=[],p=Object.assign(wb,{defaultVisitor:d,convertValue:u,isVisitable:cc});function m(h,v){if(!I.isUndefined(h)){if(f.indexOf(h)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(h),I.forEach(h,function(g,y){(!(I.isUndefined(g)||g===null)&&s.call(t,g,I.isString(y)?y.trim():y,v,p))===!0&&m(g,v?v.concat(y):[y])}),f.pop()}}if(!I.isObject(e))throw new TypeError("data must be an object");return m(e),t}function bf(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function _u(e,t){this._pairs=[],e&&ll(e,this,t)}const lg=_u.prototype;lg.append=function(t,n){this._pairs.push([t,n])};lg.toString=function(t){const n=t?function(r){return t.call(this,r,bf)}:bf;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Sb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ag(e,t,n){if(!t)return e;const r=n&&n.encode||Sb;I.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(t,n):o=I.isURLSearchParams(t)?t.toString():new _u(t,n).toString(r),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class wf{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){I.forEach(this.handlers,function(r){r!==null&&t(r)})}}const cg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Cb=typeof URLSearchParams<"u"?URLSearchParams:_u,jb=typeof FormData<"u"?FormData:null,kb=typeof Blob<"u"?Blob:null,Eb={isBrowser:!0,classes:{URLSearchParams:Cb,FormData:jb,Blob:kb},protocols:["http","https","file","blob","url","data"]},bu=typeof window<"u"&&typeof document<"u",uc=typeof navigator=="object"&&navigator||void 0,Nb=bu&&(!uc||["ReactNative","NativeScript","NS"].indexOf(uc.product)<0),Db=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Rb=bu&&window.location.href||"http://localhost",Pb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bu,hasStandardBrowserEnv:Nb,hasStandardBrowserWebWorkerEnv:Db,navigator:uc,origin:Rb},Symbol.toStringTag,{value:"Module"})),Ye={...Pb,...Eb};function Ab(e,t){return ll(e,new Ye.classes.URLSearchParams,{visitor:function(n,r,s,o){return Ye.isNode&&I.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function Ib(e){return I.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Tb(e){const t={},n=Object.keys(e);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],t[o]=e[o];return t}function ug(e){function t(n,r,s,o){let i=n[o++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),c=o>=n.length;return i=!i&&I.isArray(s)?s.length:i,c?(I.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!a):((!s[i]||!I.isObject(s[i]))&&(s[i]=[]),t(n,r,s[i],o)&&I.isArray(s[i])&&(s[i]=Tb(s[i])),!a)}if(I.isFormData(e)&&I.isFunction(e.entries)){const n={};return I.forEachEntry(e,(r,s)=>{t(Ib(r),s,n,0)}),n}return null}function Ob(e,t,n){if(I.isString(e))try{return(t||JSON.parse)(e),I.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const uo={transitional:cg,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=I.isObject(t);if(o&&I.isHTMLForm(t)&&(t=new FormData(t)),I.isFormData(t))return s?JSON.stringify(ug(t)):t;if(I.isArrayBuffer(t)||I.isBuffer(t)||I.isStream(t)||I.isFile(t)||I.isBlob(t)||I.isReadableStream(t))return t;if(I.isArrayBufferView(t))return t.buffer;if(I.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ab(t,this.formSerializer).toString();if((a=I.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ll(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),Ob(t)):t}],transformResponse:[function(t){const n=this.transitional||uo.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(I.isResponse(t)||I.isReadableStream(t))return t;if(t&&I.isString(t)&&(r&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(a){if(i)throw a.name==="SyntaxError"?ne.from(a,ne.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ye.classes.FormData,Blob:Ye.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],e=>{uo.headers[e]={}});const Lb=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Fb=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||t[n]&&Lb[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Sf=Symbol("internals");function is(e){return e&&String(e).trim().toLowerCase()}function ei(e){return e===!1||e==null?e:I.isArray(e)?e.map(ei):String(e)}function Mb(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Bb=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ql(e,t,n,r,s){if(I.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!I.isString(t)){if(I.isString(r))return t.indexOf(r)!==-1;if(I.isRegExp(r))return r.test(t)}}function zb(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function $b(e,t){const n=I.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,o,i){return this[r].call(this,t,s,o,i)},configurable:!0})})}let dt=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function o(a,c,u){const d=is(c);if(!d)throw new Error("header name must be a non-empty string");const f=I.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=ei(a))}const i=(a,c)=>I.forEach(a,(u,d)=>o(u,d,c));if(I.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(I.isString(t)&&(t=t.trim())&&!Bb(t))i(Fb(t),n);else if(I.isObject(t)&&I.isIterable(t)){let a={},c,u;for(const d of t){if(!I.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(c=a[u])?I.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(a,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=is(t),t){const r=I.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return Mb(s);if(I.isFunction(n))return n.call(this,s,r);if(I.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=is(t),t){const r=I.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||ql(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function o(i){if(i=is(i),i){const a=I.findKey(r,i);a&&(!n||ql(r,r[a],a,n))&&(delete r[a],s=!0)}}return I.isArray(t)?t.forEach(o):o(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!t||ql(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const n=this,r={};return I.forEach(this,(s,o)=>{const i=I.findKey(r,o);if(i){n[i]=ei(s),delete n[o];return}const a=t?zb(o):String(o).trim();a!==o&&delete n[o],n[a]=ei(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return I.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&I.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Sf]=this[Sf]={accessors:{}}).accessors,s=this.prototype;function o(i){const a=is(i);r[a]||($b(s,i),r[a]=!0)}return I.isArray(t)?t.forEach(o):o(t),this}};dt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(dt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});I.freezeMethods(dt);function Gl(e,t){const n=this||uo,r=t||n,s=dt.from(r.headers);let o=r.data;return I.forEach(e,function(a){o=a.call(n,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function dg(e){return!!(e&&e.__CANCEL__)}function Gr(e,t,n){ne.call(this,e??"canceled",ne.ERR_CANCELED,t,n),this.name="CanceledError"}I.inherits(Gr,ne,{__CANCEL__:!0});function fg(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ne("Request failed with status code "+n.status,[ne.ERR_BAD_REQUEST,ne.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Ub(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Wb(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,o=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[o];i||(i=u),n[s]=c,r[s]=u;let f=o,p=0;for(;f!==s;)p+=n[f++],f=f%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),u-i<t)return;const m=d&&u-d;return m?Math.round(p*1e3/m):void 0}}function Hb(e,t){let n=0,r=1e3/t,s,o;const i=(u,d=Date.now())=>{n=d,s=null,o&&(clearTimeout(o),o=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?i(u,d):(s=u,o||(o=setTimeout(()=>{o=null,i(s)},r-f)))},()=>s&&i(s)]}const Ni=(e,t,n=3)=>{let r=0;const s=Wb(50,250);return Hb(o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,c=i-r,u=s(c),d=i<=a;r=i;const f={loaded:i,total:a,progress:a?i/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&d?(a-i)/u:void 0,event:o,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(f)},n)},Cf=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},jf=e=>(...t)=>I.asap(()=>e(...t)),Vb=Ye.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ye.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ye.origin),Ye.navigator&&/(msie|trident)/i.test(Ye.navigator.userAgent)):()=>!0,qb=Ye.hasStandardBrowserEnv?{write(e,t,n,r,s,o,i){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];I.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),I.isString(r)&&a.push(`path=${r}`),I.isString(s)&&a.push(`domain=${s}`),o===!0&&a.push("secure"),I.isString(i)&&a.push(`SameSite=${i}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Gb(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Kb(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function pg(e,t,n){let r=!Gb(t);return e&&(r||n==!1)?Kb(e,t):t}const kf=e=>e instanceof dt?{...e}:e;function tr(e,t){t=t||{};const n={};function r(u,d,f,p){return I.isPlainObject(u)&&I.isPlainObject(d)?I.merge.call({caseless:p},u,d):I.isPlainObject(d)?I.merge({},d):I.isArray(d)?d.slice():d}function s(u,d,f,p){if(I.isUndefined(d)){if(!I.isUndefined(u))return r(void 0,u,f,p)}else return r(u,d,f,p)}function o(u,d){if(!I.isUndefined(d))return r(void 0,d)}function i(u,d){if(I.isUndefined(d)){if(!I.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,f){if(f in t)return r(u,d);if(f in e)return r(void 0,u)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(u,d,f)=>s(kf(u),kf(d),f,!0)};return I.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||s,p=f(e[d],t[d],d);I.isUndefined(p)&&f!==a||(n[d]=p)}),n}const mg=e=>{const t=tr({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:a}=t;if(t.headers=i=dt.from(i),t.url=ag(pg(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),I.isFormData(n)){if(Ye.hasStandardBrowserEnv||Ye.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(I.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(Ye.hasStandardBrowserEnv&&(r&&I.isFunction(r)&&(r=r(t)),r||r!==!1&&Vb(t.url))){const c=s&&o&&qb.read(o);c&&i.set(s,c)}return t},Qb=typeof XMLHttpRequest<"u",Yb=Qb&&function(e){return new Promise(function(n,r){const s=mg(e);let o=s.data;const i=dt.from(s.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=s,d,f,p,m,h;function v(){m&&m(),h&&h(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function g(){if(!x)return;const b=dt.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:b,config:e,request:x};fg(function(R){n(R),v()},function(R){r(R),v()},E),x=null}"onloadend"in x?x.onloadend=g:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(g)},x.onabort=function(){x&&(r(new ne("Request aborted",ne.ECONNABORTED,e,x)),x=null)},x.onerror=function(j){const E=j&&j.message?j.message:"Network Error",N=new ne(E,ne.ERR_NETWORK,e,x);N.event=j||null,r(N),x=null},x.ontimeout=function(){let j=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const E=s.transitional||cg;s.timeoutErrorMessage&&(j=s.timeoutErrorMessage),r(new ne(j,E.clarifyTimeoutError?ne.ETIMEDOUT:ne.ECONNABORTED,e,x)),x=null},o===void 0&&i.setContentType(null),"setRequestHeader"in x&&I.forEach(i.toJSON(),function(j,E){x.setRequestHeader(E,j)}),I.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),a&&a!=="json"&&(x.responseType=s.responseType),u&&([p,h]=Ni(u,!0),x.addEventListener("progress",p)),c&&x.upload&&([f,m]=Ni(c),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(d=b=>{x&&(r(!b||b.type?new Gr(null,e,x):b),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const y=Ub(s.url);if(y&&Ye.protocols.indexOf(y)===-1){r(new ne("Unsupported protocol "+y+":",ne.ERR_BAD_REQUEST,e));return}x.send(o||null)})},Jb=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const o=function(u){if(!s){s=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof ne?d:new Gr(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,o(new ne(`timeout ${t} of ms exceeded`,ne.ETIMEDOUT))},t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>I.asap(a),c}},Zb=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},Xb=async function*(e,t){for await(const n of ew(e))yield*Zb(n,t)},ew=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Ef=(e,t,n,r)=>{const s=Xb(e,t);let o=0,i,a=c=>{i||(i=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){a(),c.close();return}let f=d.byteLength;if(n){let p=o+=f;n(p)}c.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(c){return a(c),s.return()}},{highWaterMark:2})},Nf=64*1024,{isFunction:To}=I,tw=(({Request:e,Response:t})=>({Request:e,Response:t}))(I.global),{ReadableStream:Df,TextEncoder:Rf}=I.global,Pf=(e,...t)=>{try{return!!e(...t)}catch{return!1}},nw=e=>{e=I.merge.call({skipUndefined:!0},tw,e);const{fetch:t,Request:n,Response:r}=e,s=t?To(t):typeof fetch=="function",o=To(n),i=To(r);if(!s)return!1;const a=s&&To(Df),c=s&&(typeof Rf=="function"?(h=>v=>h.encode(v))(new Rf):async h=>new Uint8Array(await new n(h).arrayBuffer())),u=o&&a&&Pf(()=>{let h=!1;const v=new n(Ye.origin,{body:new Df,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!v}),d=i&&a&&Pf(()=>I.isReadableStream(new r("").body)),f={stream:d&&(h=>h.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!f[h]&&(f[h]=(v,x)=>{let g=v&&v[h];if(g)return g.call(v);throw new ne(`Response type '${h}' is not supported`,ne.ERR_NOT_SUPPORT,x)})});const p=async h=>{if(h==null)return 0;if(I.isBlob(h))return h.size;if(I.isSpecCompliantForm(h))return(await new n(Ye.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(I.isArrayBufferView(h)||I.isArrayBuffer(h))return h.byteLength;if(I.isURLSearchParams(h)&&(h=h+""),I.isString(h))return(await c(h)).byteLength},m=async(h,v)=>{const x=I.toFiniteNumber(h.getContentLength());return x??p(v)};return async h=>{let{url:v,method:x,data:g,signal:y,cancelToken:b,timeout:j,onDownloadProgress:E,onUploadProgress:N,responseType:R,headers:C,withCredentials:_="same-origin",fetchOptions:S}=mg(h),k=t||fetch;R=R?(R+"").toLowerCase():"text";let P=Jb([y,b&&b.toAbortSignal()],j),T=null;const $=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let M;try{if(N&&u&&x!=="get"&&x!=="head"&&(M=await m(C,g))!==0){let O=new n(v,{method:"POST",body:g,duplex:"half"}),B;if(I.isFormData(g)&&(B=O.headers.get("content-type"))&&C.setContentType(B),O.body){const[U,J]=Cf(M,Ni(jf(N)));g=Ef(O.body,Nf,U,J)}}I.isString(_)||(_=_?"include":"omit");const F=o&&"credentials"in n.prototype,H={...S,signal:P,method:x.toUpperCase(),headers:C.normalize().toJSON(),body:g,duplex:"half",credentials:F?_:void 0};T=o&&new n(v,H);let D=await(o?k(T,S):k(v,H));const A=d&&(R==="stream"||R==="response");if(d&&(E||A&&$)){const O={};["status","statusText","headers"].forEach(ee=>{O[ee]=D[ee]});const B=I.toFiniteNumber(D.headers.get("content-length")),[U,J]=E&&Cf(B,Ni(jf(E),!0))||[];D=new r(Ef(D.body,Nf,U,()=>{J&&J(),$&&$()}),O)}R=R||"text";let L=await f[I.findKey(f,R)||"text"](D,h);return!A&&$&&$(),await new Promise((O,B)=>{fg(O,B,{data:L,headers:dt.from(D.headers),status:D.status,statusText:D.statusText,config:h,request:T})})}catch(F){throw $&&$(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new ne("Network Error",ne.ERR_NETWORK,h,T),{cause:F.cause||F}):ne.from(F,F&&F.code,h,T)}}},rw=new Map,hg=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,o=[r,s,n];let i=o.length,a=i,c,u,d=rw;for(;a--;)c=o[a],u=d.get(c),u===void 0&&d.set(c,u=a?new Map:nw(t)),d=u;return u};hg();const wu={http:_b,xhr:Yb,fetch:{get:hg}};I.forEach(wu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Af=e=>`- ${e}`,sw=e=>I.isFunction(e)||e===null||e===!1;function ow(e,t){e=I.isArray(e)?e:[e];const{length:n}=e;let r,s;const o={};for(let i=0;i<n;i++){r=e[i];let a;if(s=r,!sw(r)&&(s=wu[(a=String(r)).toLowerCase()],s===void 0))throw new ne(`Unknown adapter '${a}'`);if(s&&(I.isFunction(s)||(s=s.get(t))))break;o[a||"#"+i]=s}if(!s){const i=Object.entries(o).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?i.length>1?`since :
`+i.map(Af).join(`
`):" "+Af(i[0]):"as no adapter specified";throw new ne("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const gg={getAdapter:ow,adapters:wu};function Kl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Gr(null,e)}function If(e){return Kl(e),e.headers=dt.from(e.headers),e.data=Gl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),gg.getAdapter(e.adapter||uo.adapter,e)(e).then(function(r){return Kl(e),r.data=Gl.call(e,e.transformResponse,r),r.headers=dt.from(r.headers),r},function(r){return dg(r)||(Kl(e),r&&r.response&&(r.response.data=Gl.call(e,e.transformResponse,r.response),r.response.headers=dt.from(r.response.headers))),Promise.reject(r)})}const yg="1.13.1",al={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{al[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Tf={};al.transitional=function(t,n,r){function s(o,i){return"[Axios v"+yg+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,a)=>{if(t===!1)throw new ne(s(i," has been removed"+(n?" in "+n:"")),ne.ERR_DEPRECATED);return n&&!Tf[i]&&(Tf[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,i,a):!0}};al.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function iw(e,t,n){if(typeof e!="object")throw new ne("options must be an object",ne.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],i=t[o];if(i){const a=e[o],c=a===void 0||i(a,o,e);if(c!==!0)throw new ne("option "+o+" must be "+c,ne.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ne("Unknown option "+o,ne.ERR_BAD_OPTION)}}const ti={assertOptions:iw,validators:al},Vt=ti.validators;let Qn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new wf,response:new wf}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=tr(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&ti.assertOptions(r,{silentJSONParsing:Vt.transitional(Vt.boolean),forcedJSONParsing:Vt.transitional(Vt.boolean),clarifyTimeoutError:Vt.transitional(Vt.boolean)},!1),s!=null&&(I.isFunction(s)?n.paramsSerializer={serialize:s}:ti.assertOptions(s,{encode:Vt.function,serialize:Vt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ti.assertOptions(n,{baseUrl:Vt.spelling("baseURL"),withXsrfToken:Vt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&I.merge(o.common,o[n.method]);o&&I.forEach(["delete","get","head","post","put","patch","common"],h=>{delete o[h]}),n.headers=dt.concat(i,o);const a=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(c=c&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,f=0,p;if(!c){const h=[If.bind(this),void 0];for(h.unshift(...a),h.push(...u),p=h.length,d=Promise.resolve(n);f<p;)d=d.then(h[f++],h[f++]);return d}p=a.length;let m=n;for(;f<p;){const h=a[f++],v=a[f++];try{m=h(m)}catch(x){v.call(this,x);break}}try{d=If.call(this,m)}catch(h){return Promise.reject(h)}for(f=0,p=u.length;f<p;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=tr(this.defaults,t);const n=pg(t.baseURL,t.url,t.allowAbsoluteUrls);return ag(n,t.params,t.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(t){Qn.prototype[t]=function(n,r){return this.request(tr(r||{},{method:t,url:n,data:(r||{}).data}))}});I.forEach(["post","put","patch"],function(t){function n(r){return function(o,i,a){return this.request(tr(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}Qn.prototype[t]=n(),Qn.prototype[t+"Form"]=n(!0)});let lw=class vg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(a=>{r.subscribe(a),o=a}).then(s);return i.cancel=function(){r.unsubscribe(o)},i},t(function(o,i,a){r.reason||(r.reason=new Gr(o,i,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new vg(function(s){t=s}),cancel:t}}};function aw(e){return function(n){return e.apply(null,n)}}function cw(e){return I.isObject(e)&&e.isAxiosError===!0}const dc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(dc).forEach(([e,t])=>{dc[t]=e});function xg(e){const t=new Qn(e),n=Yh(Qn.prototype.request,t);return I.extend(n,Qn.prototype,t,{allOwnKeys:!0}),I.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return xg(tr(e,s))},n}const De=xg(uo);De.Axios=Qn;De.CanceledError=Gr;De.CancelToken=lw;De.isCancel=dg;De.VERSION=yg;De.toFormData=ll;De.AxiosError=ne;De.Cancel=De.CanceledError;De.all=function(t){return Promise.all(t)};De.spread=aw;De.isAxiosError=cw;De.mergeConfig=tr;De.AxiosHeaders=dt;De.formToJSON=e=>ug(I.isHTMLForm(e)?new FormData(e):e);De.getAdapter=gg.getAdapter;De.HttpStatusCode=dc;De.default=De;const{Axios:BN,AxiosError:zN,CanceledError:$N,isCancel:UN,CancelToken:WN,VERSION:HN,all:VN,Cancel:qN,isAxiosError:GN,spread:KN,toFormData:QN,AxiosHeaders:YN,HttpStatusCode:JN,formToJSON:ZN,getAdapter:XN,mergeConfig:eD}=De,Y=De.create({baseURL:"http://149.71.141.253:3000",headers:{"Content-Type":"application/json"},withCredentials:!0});Y.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`,console.log(" Token added to request:",e.url)),e},e=>Promise.reject(e));let Ql=!1,fc=[];const Of=(e,t=null)=>{fc.forEach(n=>{e?n.reject(e):n.resolve(t)}),fc=[]};Y.interceptors.response.use(e=>e,async e=>{var n;const t=e.config;if(((n=e.response)==null?void 0:n.status)===401&&!t._retry){if(Ql)return new Promise((r,s)=>{fc.push({resolve:r,reject:s})}).then(r=>(t.headers.Authorization="Bearer "+r,Y(t))).catch(r=>Promise.reject(r));t._retry=!0,Ql=!0;try{console.log(" Refreshing token...");const{data:r}=await De.post("http://149.71.141.253:3000/api/auth/refresh",{},{withCredentials:!0}),s=r.accessToken;return window.dispatchEvent(new CustomEvent("token-refreshed",{detail:{accessToken:s}})),localStorage.setItem("token",s),console.log(" Token refreshed successfully."),Of(null,s),Y.defaults.headers.common.Authorization=`Bearer ${s}`,t.headers.Authorization=`Bearer ${s}`,Y(t)}catch(r){return console.error(" Token refresh failed:",r),Of(r,null),localStorage.removeItem("token"),window.dispatchEvent(new Event("auth-error")),Promise.reject(r)}finally{Ql=!1}}return Promise.reject(e)});const _g=w.createContext(null),ir=()=>{const e=w.useContext(_g);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},uw=({children:e})=>{const[t,n]=w.useState(()=>{try{return JSON.parse(localStorage.getItem("user"))||null}catch{return null}}),[r,s]=w.useState(localStorage.getItem("token")),[o,i]=w.useState(!0),[a,c]=w.useState(!1);w.useEffect(()=>{(async()=>{var v;const h=localStorage.getItem("token");if(!h){i(!1);return}try{s(h);const g=(await Y.get("/api/users/me")).data;n(g),c(!0),localStorage.setItem("user",JSON.stringify(g))}catch(x){console.error("Token verification failed:",x),((v=x.response)==null?void 0:v.status)!==401&&f()}finally{i(!1)}})()},[]),w.useEffect(()=>{const m=v=>{console.log(" AuthContext: Token refreshed, updating state."),s(v.detail.accessToken),c(!0)},h=()=>{console.log("AuthContext: Auth error detected, logging out."),f()};return window.addEventListener("token-refreshed",m),window.addEventListener("auth-error",h),()=>{window.removeEventListener("token-refreshed",m),window.removeEventListener("auth-error",h)}},[]);const u=async(m,h)=>{i(!0),console.log(" Attempting login...");try{const v=await Y.post("/api/auth/login",{email:m,password:h});console.log(" Login response:",v.data);const{accessToken:x,refreshToken:g,user:y}=v.data;if(!x)throw new Error("No authentication token received");return console.log(" Token from accessToken:",`YES (${x.substring(0,20)}...)`),localStorage.setItem("token",x),g&&localStorage.setItem("refreshToken",g),localStorage.setItem("user",JSON.stringify(y)),s(x),n(y),c(!0),console.log(" Token and user saved to localStorage"),y}catch(v){throw console.error(" Login error:",v),f(),v}finally{i(!1)}},d=async m=>{try{const h=await Y.post("/api/auth/register",m);if(h.data.accessToken){const{accessToken:v,refreshToken:x,user:g}=h.data;localStorage.setItem("token",v),x&&localStorage.setItem("refreshToken",x),localStorage.setItem("user",JSON.stringify(g)),s(v),n(g),c(!0)}return h.data}catch(h){throw console.error("Registration error:",h),h}},f=()=>{console.log(" Logging out..."),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("refreshToken"),s(null),n(null),c(!1);try{Y.post("/api/auth/logout").catch(()=>{})}catch{}},p={user:t,token:r,login:u,logout:f,register:d,isAuthenticated:a,loading:o};return l.jsx(_g.Provider,{value:p,children:!o&&e})};let Sr=class extends ce.Component{constructor(n){super(n);ed(this,"handleReset",()=>{this.props.onReset?this.props.onReset():this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){this.setState({errorInfo:r}),console.error("Bd komponentu:",n,r)}render(){return this.state.hasError?l.jsxs("div",{className:"card",style:{textAlign:"center"},children:[l.jsx("h2",{children:"Something went wrong! "}),l.jsx("p",{children:"We apologize for the inconvenience. Below are the technical details that may help resolve the issue:"}),l.jsxs("details",{style:{whiteSpace:"pre-wrap",textAlign:"left",background:"#f8d7da",border:"1px solid #f5c6cb",padding:"1rem",borderRadius:"8px"},children:[l.jsx("summary",{children:"Error Details"}),this.state.error&&this.state.error.toString(),l.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]}),l.jsx("button",{onClick:this.handleReset,className:"btn-primary",style:{marginTop:"1rem"},children:"Try Again"})]}):this.props.children}};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fw=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Lf=e=>{const t=fw(e);return t.charAt(0).toUpperCase()+t.slice(1)},bg=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),pw=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},c)=>w.createElement("svg",{ref:c,...mw,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:bg("lucide",s),...!o&&!pw(a)&&{"aria-hidden":"true"},...a},[...i.map(([u,d])=>w.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(e,t)=>{const n=w.forwardRef(({className:r,...s},o)=>w.createElement(hw,{ref:o,iconNode:t,className:bg(`lucide-${dw(Lf(e))}`,`lucide-${e}`,r),...s}));return n.displayName=Lf(e),n};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],yw=fe("arrow-down-to-line",gw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],wg=fe("arrow-down",vw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]],_w=fe("arrow-up-from-line",xw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Sg=fe("arrow-up",bw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ww=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Yl=fe("briefcase",ww);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],Cw=fe("bug",Sw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Cg=fe("calendar",jw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Su=fe("circle-check-big",kw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ff=fe("circle-x",Ew);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Mf=fe("cloud-upload",Nw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],fo=fe("download",Dw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],cl=fe("file-text",Rw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Ss=fe("layout-grid",Pw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Iw=fe("layout-dashboard",Aw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Ow=fe("link-2",Tw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Fw=fe("log-out",Lw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Cu=fe("package",Mw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],zw=fe("play",Bw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nr=fe("plus",$w);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]],qs=fe("pound-sterling",Uw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],jg=fe("printer",Ww);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Vw=fe("save",Hw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bf=fe("settings",qw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],po=fe("square-pen",Gw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],lr=fe("trash-2",Kw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ju=fe("triangle-alert",Qw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Oo=fe("truck",Yw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ku=fe("upload",Jw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],kg=fe("user",Zw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zf=fe("users",Xw);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],Cs=fe("weight",e1);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ft=fe("x",t1);var Eg={exports:{}},n1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",r1=n1,s1=r1;function Ng(){}function Dg(){}Dg.resetWarningCache=Ng;var o1=function(){function e(r,s,o,i,a,c){if(c!==s1){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Dg,resetWarningCache:Ng};return n.PropTypes=n,n};Eg.exports=o1();var i1=Eg.exports;const Fe=Bi(i1),l1=({columns:e=[],hasActions:t})=>{const n=Array.isArray(e)?e:[];return l.jsxs("tr",{"aria-busy":"true",children:[n.map(r=>l.jsx("td",{children:l.jsx("div",{className:"skeleton-cell"})},r.key)),t&&l.jsx("td",{className:"actions-cell",children:l.jsx("div",{className:"skeleton-cell"})})]})},Jl=(e,t)=>{if(t)return t.split(".").reduce((n,r)=>n&&n[r],e)},a1=(e=[],{initialSortKey:t,filterKeys:n})=>{console.log(" useTableData STEP 1 - Input:",{initialData:e,initialDataIsArray:Array.isArray(e),initialDataLength:Array.isArray(e)?e.length:"undefined"});const[r,s]=w.useState({key:t,direction:"ascending"}),[o,i]=w.useState(""),a=w.useMemo(()=>{console.log(" useTableData STEP 2 - Creating sortedData");const d=Array.isArray(e)?[...e]:[];return r.key!==null&&d.sort((f,p)=>{const m=Jl(f,r.key),h=Jl(p,r.key),v=typeof m=="string"?m.toLowerCase():m,x=typeof h=="string"?h.toLowerCase():h;return v<x?r.direction==="ascending"?-1:1:v>x?r.direction==="ascending"?1:-1:0}),console.log(" useTableData STEP 3 - sortedData result:",d.length),d},[e,r]),c=w.useCallback(d=>{let f="ascending";r.key===d&&r.direction==="ascending"&&(f="descending"),s({key:d,direction:f})},[r]),u=w.useMemo(()=>{console.log(" useTableData STEP 4 - Creating sortedAndFilteredData");const d=Array.isArray(a)?a:[];if(!o)return console.log(" useTableData STEP 5 - No filter, returning:",d.length),d;const f=d.filter(p=>(n||[]).some(m=>{const h=Jl(p,m)??"";return h&&String(h).toLowerCase().includes(o.toLowerCase())}));return console.log(" useTableData STEP 6 - Filtered result:",f.length),f},[a,o,n]);return console.log(" useTableData STEP 7 - Final result:",{sortedAndFilteredData:u,isArray:Array.isArray(u),length:u==null?void 0:u.length}),{sortedAndFilteredData:u,sortConfig:r,filterText:o,setFilterText:i,handleSort:c}},c1=(e,t)=>{if(!(!e||!t||typeof e!="object"))try{return t.split(".").reduce((n,r)=>n&&n[r],e)}catch(n){console.warn("Error accessing nested value:",{path:t,obj:e,error:n});return}},Yt=({items:e=[],columns:t=[],onRefresh:n=void 0,onEdit:r=void 0,onDelete:s=void 0,title:o="",customActions:i=[],filterPlaceholder:a="Search...",initialSortKey:c,filterKeys:u=[],currentUser:d,isLoading:f=!1,loadingText:p="Loading...",onContextMenu:m,footerData:h={}})=>{if(!Array.isArray(t))return console.error("DataTable: columns must be an array"),null;const v=Array.isArray(e)?e:[];console.log(" DataTable STEP 1 - Input:",{items:v.length,safeItems:v});const{sortedAndFilteredData:x,sortConfig:g,filterText:y,setFilterText:b,handleSort:j}=a1(v,{initialSortKey:c,filterKeys:u});console.log(" DataTable STEP 2 - useTableData result:",{sortedAndFilteredData:x,isArray:Array.isArray(x),length:x==null?void 0:x.length});const E=Array.isArray(x)?x:[];console.log(" DataTable STEP 3 - Final safe data:",{safeSortedData:E,length:E.length});const[N,R]=w.useState(y);w.useEffect(()=>{const _=setTimeout(()=>{b(N)},300);return()=>clearTimeout(_)},[N,b]);const C=_=>g.key===_?g.direction==="ascending"?l.jsx(Sg,{size:14,"aria-label":"sorted ascending"}):l.jsx(wg,{size:14,"aria-label":"sorted descending"}):null;return l.jsxs("div",{style:{display:"flex",flexDirection:"column",flexGrow:1,minHeight:0},children:[l.jsxs("h2",{children:[o," (",(E==null?void 0:E.length)??0,")"]}),l.jsx("input",{type:"text",placeholder:a,value:N,onChange:_=>R(_.target.value),className:"filter-input",style:{marginTop:"1rem"},"aria-label":"Filter table data"}),l.jsxs("div",{className:"table-wrapper",children:[l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[t.map(_=>l.jsx("th",{onClick:_.sortable?()=>j(_.key):void 0,"aria-sort":g.key===_.key?g.direction==="ascending"?"ascending":"descending":"none",children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[_.icon,l.jsx("span",{children:_.header}),_.sortable&&C(_.key)]})},_.key)),(r||s||Array.isArray(i)&&i.length>0)&&l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:f?Array.from({length:10}).map((_,S)=>l.jsx(l1,{columns:t,hasActions:r||s||Array.isArray(i)&&i.length>0},S)):E.length>0?E.map(_=>l.jsxs("tr",{onContextMenu:m?S=>m(S,_):void 0,style:m?{cursor:"context-menu"}:{},children:[t.map(S=>l.jsx("td",{children:S.render?S.render(_):c1(_,S.key)},`${_.id}-${S.key}`)),(r||s||Array.isArray(i)&&i.length>0)&&l.jsxs("td",{className:"actions-cell",children:[d&&d.id===_.id?l.jsx("span",{className:"text-muted","aria-label":"Current user",children:"This is you"}):l.jsxs(l.Fragment,{children:[r&&l.jsx("button",{onClick:()=>r(_),className:"btn-icon",title:"Edit","aria-label":`Edit ${_.name||"item"}`,children:l.jsx(po,{size:16})}),s&&l.jsx("button",{onClick:()=>s(_),className:"btn-icon btn-danger",title:"Delete","aria-label":`Delete ${_.name||"item"}`,children:l.jsx(lr,{size:16})})]}),i.map((S,k)=>l.jsx("button",{onClick:()=>S.onClick(_),className:"btn-icon",title:S.title,"aria-label":S.title,children:S.icon},k))]})]},_.id)):null}),h&&l.jsx("tfoot",{children:l.jsxs("tr",{children:[t.map(_=>l.jsx("td",{children:h!=null&&h[_.key]?l.jsx("strong",{children:h[_.key]}):null},`footer-${_.key}`)),(r||s||Array.isArray(i)&&i.length>0)&&l.jsx("td",{})]})})]}),!f&&E.length===0&&l.jsx("p",{className:"no-results-message","aria-live":"polite",children:y?"No results match the search criteria.":"No data in the database."})]})]})};Yt.propTypes={items:Fe.array,columns:Fe.arrayOf(Fe.shape({key:Fe.string.isRequired,header:Fe.string.isRequired,sortable:Fe.bool,render:Fe.func,icon:Fe.node})),onEdit:Fe.func,onDelete:Fe.func,title:Fe.string,customActions:Fe.array,filterPlaceholder:Fe.string,initialSortKey:Fe.string,filterKeys:Fe.array,currentUser:Fe.object,onContextMenu:Fe.func,footerData:Fe.object};const Rg=w.createContext(null),_e=()=>{const e=w.useContext(Rg);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},u1=({message:e,type:t,onClose:n})=>{const r={success:l.jsx(Su,{}),error:l.jsx(ju,{})};return l.jsxs("div",{className:`toast toast-${t}`,children:[l.jsx("div",{className:"toast-icon",children:r[t]}),l.jsx("p",{className:"toast-message",children:e}),l.jsx("button",{onClick:n,className:"toast-close-btn",children:l.jsx(ft,{size:18})})]})},d1=({children:e})=>{const[t,n]=w.useState(null),r=w.useCallback((o,i="success")=>{n({message:o,type:i}),setTimeout(()=>{n(null)},5e3)},[]),s=()=>{n(null)};return l.jsxs(Rg.Provider,{value:{showToast:r},children:[e,t&&l.jsx(u1,{message:t.message,type:t.type,onClose:s})]})},f1=({items:e=[],onRefresh:t,onEdit:n})=>{const r=Array.isArray(e)?e:[],s=[{key:"first_name",header:"Name",sortable:!0,render:a=>`${a.first_name} ${a.last_name}`},{key:"license_number",header:"Driver's License",sortable:!0},{key:"phone_number",header:"Phone",sortable:!0},{key:"cpc_number",header:"CPC",sortable:!0,render:a=>a.cpc_number||"N/A"},{key:"login_code",header:"Login Code",sortable:!0,render:a=>a.login_code||"N/A"},{key:"is_active",header:"Status",sortable:!0,render:a=>l.jsx("span",{className:`status ${a.is_active?"active":"inactive"}`,children:a.is_active?"Active":"Inactive"})}],{showToast:o}=_e(),i=async a=>{var c,u;if(window.confirm(`Are you sure you want to delete driver ${a.first_name} ${a.last_name}?`))try{await Y.delete(`/api/drivers/${a.id}`),o("Driver deleted successfully.","success"),t()}catch(d){o(((u=(c=d.response)==null?void 0:c.data)==null?void 0:u.error)||"Failed to delete driver.","error")}};return l.jsx(Yt,{items:r,columns:s,onRefresh:t,onEdit:n,onDelete:i,title:"Driver List",filterPlaceholder:"Filter drivers...",initialSortKey:"first_name",filterKeys:["first_name","last_name","license_number","cpc_number","login_code"]})},Lo=(e,t)=>{if(e===t)return!0;if(!e||!t||typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n)if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1;return!0},un=({initialState:e,validate:t,onSubmit:n,itemToEdit:r=null})=>{const s=w.useRef(e),[o,i]=w.useState(s.current),[a,c]=w.useState({}),[u,d]=w.useState(!1);w.useEffect(()=>{const h=e??s.current;if(r){const v={...h,...r};if(v.cargo_details){const x=v.cargo_details.pallets;x&&typeof x=="object"&&!Array.isArray(x)?v.cargo_details.pallets=Object.entries(x).map(([g,y])=>({type:g,quantity:Number((y==null?void 0:y.quantity)??(y==null?void 0:y.count)??0)||0,spaces:Number((y==null?void 0:y.spaces)??0)||0,weight:Number((y==null?void 0:y.weight)??0)||0})).filter(g=>g.quantity>0):Array.isArray(x)||(v.cargo_details.pallets=[])}i(x=>Lo(x,v)?x:v),c({})}else i(v=>Lo(v,h)?v:h),c({})},[r]);const f=w.useCallback(h=>{const{name:v,value:x,type:g,checked:y}=h.target,b=g==="checkbox"?y:x;i(j=>{const E={...j,[v]:b};return Lo(j,E)?j:E}),a[v]&&c(j=>({...j,[v]:null}))},[a]),p=w.useCallback((h,v)=>{const{name:x,value:g}=v.target;i(y=>{const b={...y,[h]:{...y[h]??{},[x]:g}};return Lo(y,b)?y:b})},[]),m=w.useCallback(async h=>{h.preventDefault();const v=t?t(o):{};if(c(v),!Object.values(v).some(g=>typeof g=="object"&&g!==null?Object.keys(g).length>0:!!g)){d(!0);try{await n(o)}catch(g){console.error("Form submission error:",g)}finally{d(!1)}}},[o,n,t]);return{formData:o,setFormData:i,errors:a,loading:u,handleChange:f,handleNestedChange:p,handleSubmit:m}},p1={first_name:"",last_name:"",phone_number:"",license_number:"",cpc_number:"",login_code:"",is_active:!0},m1=({onSuccess:e,onCancel:t,itemToEdit:n})=>{const{showToast:r}=_e(),s=!!n,o=p=>{const m={};return p.first_name||(m.first_name="First name is required."),p.last_name||(m.last_name="Last name is required."),p.license_number||(m.license_number="License number is required."),m},i=async p=>{var v,x;const m=s?`/api/drivers/${n.id}`:"/api/drivers",h=s?"put":"post";try{await Y[h](m,p),r(`Driver ${s?"updated":"added"} successfully!`,"success"),e&&e()}catch(g){const y=((x=(v=g.response)==null?void 0:v.data)==null?void 0:x.error)||"A server error occurred.";throw r(y,"error"),new Error(y)}},{formData:a,errors:c,loading:u,handleChange:d,handleSubmit:f}=un({initialState:p1,validate:o,onSubmit:i,itemToEdit:n});return l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:s?"Edit Driver":"Add New Driver"}),l.jsx("button",{onClick:t,className:"btn-icon",children:l.jsx(ft,{size:20})})]}),c.form&&l.jsx("div",{className:"error-message",children:c.form}),l.jsxs("form",{onSubmit:f,className:"form",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"First Name *"}),l.jsx("input",{type:"text",name:"first_name",value:a.first_name,onChange:d,required:!0,className:c.first_name?"input-error":""}),c.first_name&&l.jsx("span",{className:"error-text",children:c.first_name})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Last Name *"}),l.jsx("input",{type:"text",name:"last_name",value:a.last_name,onChange:d,required:!0,className:c.last_name?"input-error":""}),c.last_name&&l.jsx("span",{className:"error-text",children:c.last_name})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Phone Number"}),l.jsx("input",{type:"tel",name:"phone_number",value:a.phone_number,onChange:d})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Driver's License Number *"}),l.jsx("input",{type:"text",name:"license_number",value:a.license_number,onChange:d,required:!0,className:c.license_number?"input-error":""}),c.license_number&&l.jsx("span",{className:"error-text",children:c.license_number})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Certificate of Professional Competency (CPC)"}),l.jsx("input",{type:"text",name:"cpc_number",value:a.cpc_number,onChange:d})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Login Code (for mobile app)"}),l.jsx("input",{type:"text",name:"login_code",value:a.login_code,onChange:d})]}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{children:[l.jsx("input",{type:"checkbox",name:"is_active",checked:a.is_active,onChange:d}),"Active"]})}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:u,children:"Cancel"}),l.jsx("button",{type:"submit",disabled:u,className:"btn-primary",children:u?s?"Saving...":"Adding...":s?"Save Changes":"Add Driver"})]})]})]})},h1=({items:e=[],onRefresh:t,onEdit:n})=>{const r=Array.isArray(e)?e:[],s=[{key:"registration_plate",header:"Registration",sortable:!0},{key:"brand",header:"Brand",sortable:!0},{key:"model",header:"Model",sortable:!0},{key:"vin",header:"VIN",sortable:!0},{key:"production_year",header:"Year",sortable:!0},{key:"type_of_truck",header:"Vehicle Type",sortable:!0},{key:"total_weight",header:"Total Weight (kg)",sortable:!0,render:a=>a.type_of_truck==="rigid"&&a.total_weight?`${a.total_weight} kg`:"-"},{key:"pallet_capacity",header:"Pallet Capacity",sortable:!0,render:a=>a.type_of_truck==="rigid"&&a.pallet_capacity?a.pallet_capacity:"-"},{key:"max_payload_kg",header:"Payload (kg)",sortable:!0,render:a=>a.type_of_truck==="rigid"&&a.max_payload_kg?`${a.max_payload_kg} kg`:"-"}],{showToast:o}=_e(),i=async a=>{var c,u;if(window.confirm(`Are you sure you want to delete vehicle ${a.registration_plate}?`))try{await Y.delete(`/api/trucks/${a.id}`),o("Vehicle deleted successfully.","success"),t()}catch(d){o(((u=(c=d.response)==null?void 0:c.data)==null?void 0:u.error)||"Failed to delete vehicle.","error")}};return l.jsx(Yt,{items:r,columns:s,onRefresh:t,onEdit:n,onDelete:i,title:"Vehicle List",filterPlaceholder:"Filter vehicles...",initialSortKey:"registration_plate",filterKeys:["registration_plate","brand","model","vin","type_of_truck"]})},g1=({onSuccess:e,onCancel:t,itemToEdit:n})=>{const r=!!n,s={registration_plate:"",brand:"",model:"",vin:"",production_year:"",type_of_truck:"tractor",total_weight:"",pallet_capacity:"",max_payload_kg:"",is_active:!0},{showToast:o}=_e(),i=m=>{const h={};return m.registration_plate||(h.registration_plate="Registration plate is required."),m.brand||(h.brand="Brand is required."),m.model||(h.model="Model is required."),m.type_of_truck==="rigid"&&(m.total_weight||(h.total_weight="Total weight is required."),m.pallet_capacity||(h.pallet_capacity="Pallet capacity is required."),m.max_payload_kg||(h.max_payload_kg="Max payload is required.")),h},a=async m=>{var x,g;const h={...m,production_year:m.production_year?Number(m.production_year):null,total_weight:m.type_of_truck==="rigid"&&m.total_weight?Number(m.total_weight):null,pallet_capacity:m.type_of_truck==="rigid"&&m.pallet_capacity?Number(m.pallet_capacity):null,max_payload_kg:m.type_of_truck==="rigid"&&m.max_payload_kg?Number(m.max_payload_kg):null},v=r?Y.put(`/api/trucks/${n.id}`,h):Y.post("/api/trucks",h);try{await v,o(`Vehicle ${r?"updated":"added"} successfully!`,"success"),e()}catch(y){const b=((g=(x=y.response)==null?void 0:x.data)==null?void 0:g.error)||`An error occurred while ${r?"updating":"adding"} the vehicle.`;throw o(b,"error"),new Error(b)}},{formData:c,errors:u,loading:d,handleChange:f,handleSubmit:p}=un({initialState:s,validate:i,onSubmit:a,itemToEdit:n});return l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:r?"Edit Vehicle":"Add New Vehicle"}),l.jsx("button",{onClick:t,className:"btn-icon",children:l.jsx(ft,{size:20})})]}),u.form&&l.jsx("div",{className:"error-message",children:u.form}),l.jsxs("form",{onSubmit:p,className:"form",noValidate:!0,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Brand:"}),l.jsx("input",{type:"text",name:"brand",value:c.brand||"",onChange:f,required:!0,className:u.brand?"input-error":""}),u.brand&&l.jsx("span",{className:"error-text",children:u.brand})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Model:"}),l.jsx("input",{type:"text",name:"model",value:c.model||"",onChange:f,required:!0,className:u.model?"input-error":""}),u.model&&l.jsx("span",{className:"error-text",children:u.model})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Registration Plate:"}),l.jsx("input",{type:"text",name:"registration_plate",value:c.registration_plate||"",onChange:f,required:!0,className:u.registration_plate?"input-error":""}),u.registration_plate&&l.jsx("span",{className:"error-text",children:u.registration_plate})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"VIN:"}),l.jsx("input",{type:"text",name:"vin",value:c.vin||"",onChange:f,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Production Year:"}),l.jsx("input",{type:"number",name:"production_year",value:c.production_year||"",onChange:f,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Vehicle Type:"}),l.jsxs("select",{name:"type_of_truck",value:c.type_of_truck,onChange:f,required:!0,children:[l.jsx("option",{value:"tractor",children:"Tractor Unit"}),l.jsx("option",{value:"rigid",children:"Rigid Truck"})]})]}),c.type_of_truck==="rigid"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Total Weight (kg) *"}),l.jsx("input",{type:"number",name:"total_weight",value:c.total_weight||"",onChange:f,required:!0,className:u.total_weight?"input-error":""}),u.total_weight&&l.jsx("span",{className:"error-text",children:u.total_weight})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Pallet Capacity *"}),l.jsx("input",{type:"number",name:"pallet_capacity",value:c.pallet_capacity||"",onChange:f,required:!0,className:u.pallet_capacity?"input-error":""}),u.pallet_capacity&&l.jsx("span",{className:"error-text",children:u.pallet_capacity})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Max Payload (kg) *"}),l.jsx("input",{type:"number",name:"max_payload_kg",value:c.max_payload_kg||"",onChange:f,required:!0,className:u.max_payload_kg?"input-error":""}),u.max_payload_kg&&l.jsx("span",{className:"error-text",children:u.max_payload_kg})]})]}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{children:[l.jsx("input",{type:"checkbox",name:"is_active",checked:c.is_active,onChange:f}),"Active"]})}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:d,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:d,children:d?r?"Saving...":"Adding...":r?"Save Changes":"Add Vehicle"})]})]})]})},y1=({items:e=[],onRefresh:t,onEdit:n})=>{const r=Array.isArray(e)?e:[],s=[{key:"registration_plate",header:"Trailer Code",sortable:!0},{key:"description",header:"Description",sortable:!0},{key:"category",header:"Category",sortable:!0},{key:"max_payload_kg",header:"Payload (kg)",sortable:!0},{key:"max_spaces",header:"Spaces",sortable:!0},{key:"length_m",header:"Length (m)",sortable:!0},{key:"status",header:"Status",sortable:!0,render:a=>l.jsx("span",{className:`status ${a.status}`,children:a.status})}],{showToast:o}=_e(),i=async a=>{var c,u;if(window.confirm(`Are you sure you want to delete trailer ${a.registration_plate}?`))try{await Y.delete(`/api/trailers/${a.id}`),o("Trailer deleted successfully.","success"),t()}catch(d){o(((u=(c=d.response)==null?void 0:c.data)==null?void 0:u.error)||"Failed to delete trailer.","error")}};return l.jsx(Yt,{items:r,columns:s,onRefresh:t,onEdit:n,onDelete:i,title:"Trailer List",filterPlaceholder:"Filter trailers...",initialSortKey:"registration_plate",filterKeys:["registration_plate","description","category","status"]})},v1=({onSuccess:e,onCancel:t,itemToEdit:n})=>{const r={registration_plate:"",description:"",category:"Own",brand:"",max_payload_kg:"",max_spaces:"",length_m:"",width_m:"",height_m:"",weight_kg:"",status:"active"},s=!!n,{showToast:o}=_e(),i=m=>{const h={};return m.registration_plate||(h.registration_plate="Trailer Code is required."),m.description||(h.description="Description is required."),m.brand||(h.brand="Brand is required."),m.max_payload_kg||(h.max_payload_kg="Max Payload is required."),m.max_spaces||(h.max_spaces="Max Pallet Spaces is required."),h},a=async m=>{var g,y;const h={...m,max_payload_kg:m.max_payload_kg?Number(m.max_payload_kg):null,max_spaces:m.max_spaces?Number(m.max_spaces):null,length_m:m.length_m?Number(m.length_m):null,width_m:m.width_m?Number(m.width_m):null,height_m:m.height_m?Number(m.height_m):null,weight_kg:m.weight_kg?Number(m.weight_kg):null},v=s?`/api/trailers/${n.id}`:"/api/trailers",x=s?"put":"post";try{await Y[x](v,h),o(`Trailer ${s?"updated":"added"} successfully!`,"success"),e()}catch(b){const j=((y=(g=b.response)==null?void 0:g.data)==null?void 0:y.error)||`An error occurred while ${s?"updating":"adding"} the trailer.`;throw o(j,"error"),new Error(j)}},{formData:c,errors:u,loading:d,handleChange:f,handleSubmit:p}=un({initialState:r,validate:i,onSubmit:a,itemToEdit:n});return l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:s?"Edit Trailer":"Add New Trailer"}),l.jsx("button",{onClick:t,className:"btn-icon",children:l.jsx(ft,{size:20})})]}),u.form&&l.jsx("div",{className:"error-message",children:u.form}),l.jsxs("form",{onSubmit:p,className:"form",children:[l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-column",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Trailer Code (Reg. Plate) *"}),l.jsx("input",{type:"text",name:"registration_plate",value:c.registration_plate,onChange:f,required:!0,className:u.registration_plate?"input-error":""}),u.registration_plate&&l.jsx("span",{className:"error-text",children:u.registration_plate})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Description *"}),l.jsx("input",{type:"text",name:"description",value:c.description,onChange:f,required:!0,className:u.description?"input-error":""}),u.description&&l.jsx("span",{className:"error-text",children:u.description})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Brand *"}),l.jsx("input",{type:"text",name:"brand",value:c.brand,onChange:f,required:!0,className:u.brand?"input-error":""}),u.brand&&l.jsx("span",{className:"error-text",children:u.brand})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Category"}),l.jsxs("select",{name:"category",value:c.category,onChange:f,children:[l.jsx("option",{value:"Own",children:"Own"}),l.jsx("option",{value:"Subcontractor",children:"Subcontractor"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Status"}),l.jsxs("select",{name:"status",value:c.status,onChange:f,children:[l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),l.jsxs("div",{className:"form-column",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Max Payload (kg) *"}),l.jsx("input",{type:"number",name:"max_payload_kg",value:c.max_payload_kg,onChange:f,required:!0,className:u.max_payload_kg?"input-error":""}),u.max_payload_kg&&l.jsx("span",{className:"error-text",children:u.max_payload_kg})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Max Pallet Spaces *"}),l.jsx("input",{type:"number",name:"max_spaces",value:c.max_spaces,onChange:f,required:!0,className:u.max_spaces?"input-error":""}),u.max_spaces&&l.jsx("span",{className:"error-text",children:u.max_spaces})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Length (m)"}),l.jsx("input",{type:"number",step:"0.01",name:"length_m",value:c.length_m,onChange:f})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Width (m)"}),l.jsx("input",{type:"number",step:"0.01",name:"width_m",value:c.width_m,onChange:f})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Height (m)"}),l.jsx("input",{type:"number",step:"0.01",name:"height_m",value:c.height_m,onChange:f})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Weight (kg)"}),l.jsx("input",{type:"number",name:"weight_kg",value:c.weight_kg,onChange:f})]})]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:d,children:"Cancel"}),l.jsx("button",{type:"submit",disabled:d,className:"btn-primary",children:d?s?"Saving...":"Adding...":s?"Save Changes":"Add Trailer"})]})]})]})},x1=({items:e=[],onRefresh:t,onEdit:n})=>{const r=Array.isArray(e)?e:[],s=[{key:"customer_code",header:"Code"},{key:"name",header:"Name"},{key:"address_line1",header:"Address"},{key:"postcode",header:"Postcode"},{key:"phone_number",header:"Phone"},{key:"vat_number",header:"VAT Number"},{key:"created_at",header:"Creation Date",render:a=>new Date(a.created_at).toLocaleDateString()}],{showToast:o}=_e(),i=async a=>{var c,u;if(window.confirm(`Are you sure you want to delete customer "${a.name}"?`))try{await Y.delete(`/api/customers/${a.id}`),o("Customer deleted successfully.","success"),t()}catch(d){o(((u=(c=d.response)==null?void 0:c.data)==null?void 0:u.error)||"Failed to delete customer.","error")}};return l.jsx(Yt,{items:r,columns:s,onEdit:n,onDelete:i,onRefresh:t,title:"Customers",filterPlaceholder:"Filter customers...",initialSortKey:"name",filterKeys:["name","customer_code","postcode"]})},_1={customer_code:"",name:"",address_line1:"",address_line2:"",address_line3:"",address_line4:"",postcode:"",phone_number:"",country_code:"GB",category:"",currency:"GBP",vat_number:"",payment_terms:"30",status:"active",pod_on_portal:!1,invoice_on_portal:!1,handheld_status_on_portal:!1,eta_status_on_portal:!1,general_status_on_portal:!1},b1=({onSuccess:e,onCancel:t,itemToEdit:n})=>{const r=!!n,{showToast:s}=_e(),o=p=>{const m={};return p.name||(m.name="Customer name is required."),p.customer_code||(m.customer_code="Customer code is required."),m},i=async p=>{var h,v;const m=r?Y.put(`/api/customers/${n.id}`,p):Y.post("/api/customers",p);try{await m,s(`Customer ${r?"updated":"added"} successfully!`,"success"),e()}catch(x){const g=((v=(h=x.response)==null?void 0:h.data)==null?void 0:v.error)||"An unexpected error occurred.";throw s(g,"error"),new Error(g)}},{formData:a,errors:c,loading:u,handleChange:d,handleSubmit:f}=un({initialState:_1,validate:o,onSubmit:i,itemToEdit:n});return l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:r?"Edit Customer":"Add New Customer"}),l.jsx("button",{onClick:t,className:"btn-icon",children:l.jsx(ft,{size:20})})]}),c.form&&l.jsx("div",{className:"error-message",children:c.form}),l.jsxs("form",{onSubmit:f,className:"form",children:[l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-column",children:[l.jsx("h4",{children:"Main Details"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Customer Code"}),l.jsx("input",{type:"text",name:"customer_code",value:a.customer_code??"",onChange:d,className:c.customer_code?"input-error":""}),c.customer_code&&l.jsx("span",{className:"error-text",children:c.customer_code})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Customer Name *"}),l.jsx("input",{type:"text",name:"name",value:a.name??"",onChange:d,required:!0,className:c.name?"input-error":""}),c.name&&l.jsx("span",{className:"error-text",children:c.name})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Status"}),l.jsxs("select",{name:"status",value:a.status,onChange:d,children:[l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Category"}),l.jsx("input",{type:"text",name:"category",value:a.category??"",onChange:d})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"VAT Number"}),l.jsx("input",{type:"text",name:"vat_number",value:a.vat_number??"",onChange:d})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Payment Terms (days)"}),l.jsx("input",{type:"number",name:"payment_terms",value:a.payment_terms??"",onChange:d})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Currency"}),l.jsx("input",{type:"text",name:"currency",value:a.currency??"",onChange:d})]})]}),l.jsxs("div",{className:"form-column",children:[l.jsx("h4",{children:"Address & Contact"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Address Line 1"}),l.jsx("input",{type:"text",name:"address_line1",value:a.address_line1??"",onChange:d})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Address Line 2"}),l.jsx("input",{type:"text",name:"address_line2",value:a.address_line2??"",onChange:d})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Postcode"}),l.jsx("input",{type:"text",name:"postcode",value:a.postcode??"",onChange:d})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Phone Number"}),l.jsx("input",{type:"tel",name:"phone_number",value:a.phone_number??"",onChange:d})]})]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:u,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Saving...":"Save Customer"})]})]})]})},Di=(e,t)=>{var r;if(!e||!((r=t==null?void 0:t.postcode_patterns)!=null&&r.length))return!1;const n=e.split(" ")[0].toUpperCase();return t.postcode_patterns.some(s=>{const o=s.replace(/\s/g,"").toUpperCase(),i=o.endsWith("%")?o.slice(0,-1):o;return n.startsWith(i)})},w1=({items:e=[],zones:t=[],onRefresh:n,onEdit:r})=>{const{showToast:s}=_e();console.log(" OrderList safeOrders check:",{orders:e,safeOrders:Array.isArray(e)?e:[],safeOrdersLength:(Array.isArray(e)?e:[]).length});const o=Array.isArray(e)?e:[],[i,a]=ce.useState("all"),[c,u]=ce.useState({start:new Date().toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),d=[{key:"order_number",header:"Consignment #",icon:l.jsx(Cu,{size:16})},{key:"customer_reference",header:"Customer Ref"},{key:"status",header:"Status",render:h=>l.jsx("span",{className:`status status-${h.status}`,children:h.status})},{key:"sender_details.name",header:"Loading",render:h=>{var v,x;return l.jsxs("div",{children:[l.jsxs("div",{children:[(v=h.sender_details)==null?void 0:v.name,", ",(x=h.sender_details)==null?void 0:x.townCity]}),l.jsx("div",{className:"date-time",children:new Date(h.loading_date_time).toLocaleString()})]})}},{key:"recipient_details.name",header:"Unloading",render:h=>{var v,x;return l.jsxs("div",{children:[l.jsxs("div",{children:[(v=h.recipient_details)==null?void 0:v.name,", ",(x=h.recipient_details)==null?void 0:x.townCity]}),l.jsx("div",{className:"date-time",children:new Date(h.unloading_date_time).toLocaleString()})]})}},{key:"final_price",header:"Price",icon:l.jsx(qs,{size:16}),render:h=>h.final_price?`${parseFloat(h.final_price).toFixed(2)}`:"-"},{key:"created_at",header:"Created",icon:l.jsx(Cg,{size:16}),render:h=>new Date(h.created_at).toLocaleDateString()}],f=async h=>{try{const v=await Y.get(`/api/orders/${h.id}/labels`,{responseType:"blob"}),x=window.URL.createObjectURL(new Blob([v.data])),g=document.createElement("a");g.href=x,g.setAttribute("download",`labels_order_${h.id}.pdf`),document.body.appendChild(g),g.click(),g.remove()}catch{s("Failed to generate labels.","error")}},p=async h=>{var v,x;if(window.confirm(`Are you sure you want to delete order ${h.customer_reference||h.id}?`))try{await Y.delete(`/api/orders/${h.id}`),s("Order deleted successfully.","success"),n()}catch(g){s(((x=(v=g.response)==null?void 0:v.data)==null?void 0:x.error)||"Failed to delete order.","error")}},m=ce.useMemo(()=>{let v=[...Array.isArray(o)?o:[]];const g=(Array.isArray(t)?t:[]).find(j=>j.is_home_zone);i==="delivery"&&g?v=v.filter(j=>{var E;return Di((E=j.recipient_details)==null?void 0:E.postCode,g)}):i==="collections"&&g&&(v=v.filter(j=>{var E;return Di((E=j.sender_details)==null?void 0:E.postCode,g)}));const{start:y,end:b}=c;return y&&b&&(v=v.filter(j=>{const E=i==="collections"?j.loading_date_time:j.unloading_date_time;if(!E)return!1;try{const N=new Date(E).toISOString().split("T")[0];return N>=y&&N<=b}catch{return!1}})),v},[o,t,i,c]);return l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"planit-section-header",style:{padding:"0 0 1rem 0",marginBottom:"1rem"},children:[l.jsxs("div",{className:"tabs-container",children:[l.jsx("button",{className:`tab-button ${i==="all"?"active":""}`,onClick:()=>a("all"),children:"All Orders"}),l.jsx("button",{className:`tab-button ${i==="delivery"?"active":""}`,onClick:()=>a("delivery"),children:"Delivery"}),l.jsx("button",{className:`tab-button ${i==="collections"?"active":""}`,onClick:()=>a("collections"),children:"Collections"})]}),l.jsxs("div",{className:"form-group",style:{margin:"0 0 0 1rem",minWidth:"160px"},children:[l.jsx("label",{style:{fontSize:"0.8rem",marginBottom:"0.25rem"},children:"From Date"}),l.jsx("input",{type:"date",value:c.start,onChange:h=>u(v=>({...v,start:h.target.value}))})]}),l.jsxs("div",{className:"form-group",style:{margin:"0 0 0 1rem",minWidth:"160px"},children:[l.jsx("label",{style:{fontSize:"0.8rem",marginBottom:"0.25rem"},children:"To Date"}),l.jsx("input",{type:"date",value:c.end,onChange:h=>u(v=>({...v,end:h.target.value}))})]})]}),l.jsx(Yt,{items:m,columns:d,onRefresh:n,onEdit:r,onDelete:p,customActions:[{icon:l.jsx(jg,{size:16}),onClick:f,title:"Print Pallet Labels"}],title:"Order List",filterPlaceholder:"Filter orders...",initialSortKey:"created_at",filterKeys:["order_number","customer_reference","status","sender_details.townCity","recipient_details.townCity","sender_details.name","recipient_details.name"]})]})},Zl={customer_id:"",order_number:"",customer_reference:"",service_level:"A",status:"nowe",sender_details:{name:"",address1:"",address2:"",city:"",postCode:"",contactName:"",contactPhone:""},recipient_details:{name:"",address1:"",address2:"",city:"",postCode:"",contactName:"",contactPhone:""},cargo_details:{pallets:[],total_kilos:0,total_spaces:0},loading_date_time:new Date().toISOString().split("T")[0],unloading_date_time:new Date().toISOString().split("T")[0],unloading_start_time:"",unloading_end_time:"",selected_surcharges:[],notes:"",final_price:""},Pg=({onSuccess:e,onCancel:t,itemToEdit:n,clients:r=[],surcharges:s=[]})=>{var E,N,R,C;const o=!!n,{showToast:i}=_e(),a=_=>{const S={};return _.customer_id||(S.customer_id="Customer is required."),_.sender_details.name||(S.sender_name="Sender name is required."),_.recipient_details.name||(S.recipient_name="Recipient name is required."),S},c=async _=>{var P,T;const S=o?`/api/orders/${n.id}`:"/api/orders",k=o?"put":"post";try{await Y[k](S,_),i(`Order ${o?"updated":"created"} successfully!`,"success"),e&&e()}catch($){const M=((T=(P=$.response)==null?void 0:P.data)==null?void 0:T.error)||`Failed to ${o?"update":"create"} order.`;throw i(M,"error"),new Error(M)}},{formData:u,setFormData:d,loading:f,handleChange:p,handleNestedChange:m,handleSubmit:h}=un({initialState:Zl,validate:a,onSubmit:c,itemToEdit:w.useMemo(()=>n?{...n,loading_date_time:n.loading_date_time?String(n.loading_date_time).split("T")[0]:Zl.loading_date_time,unloading_date_time:n.unloading_date_time?String(n.unloading_date_time).split("T")[0]:Zl.unloading_date_time}:null,[n])});w.useEffect(()=>{d(_=>{var $;const S=($=_.cargo_details)==null?void 0:$.pallets,k=Array.isArray(S)?S:S&&typeof S=="object"?Object.entries(S).map(([M,F])=>({type:M,quantity:Number((F==null?void 0:F.quantity)??(F==null?void 0:F.count)??0)||0,spaces:Number((F==null?void 0:F.spaces)??0)||0,weight:Number((F==null?void 0:F.weight)??0)||0})).filter(M=>M.quantity>0):[],P=k.reduce((M,F)=>M+Number(F.spaces)*Number(F.quantity),0),T=k.reduce((M,F)=>M+(Number(F.weight)||0),0);return _.cargo_details.total_spaces!==P||_.cargo_details.total_kilos!==T?{..._,cargo_details:{..._.cargo_details,pallets:k,total_spaces:P,total_kilos:T}}:_})},[(E=u==null?void 0:u.cargo_details)==null?void 0:E.pallets]);const v=_=>{const{value:S,checked:k}=_.target,P=s.find(T=>T.code===S);d(T=>{let $=[...T.selected_surcharges||[]];if(k){let M=T.unloading_start_time,F=T.unloading_end_time;if(P!=null&&P.requires_time){const H=s.filter(D=>D.requires_time).map(D=>D.code);$=$.filter(D=>!H.includes(D)),P.code!=="BW"?(M=P.start_time||T.unloading_start_time,F=P.end_time||T.unloading_end_time):(M="",F="")}return $.push(S),{...T,selected_surcharges:$,unloading_start_time:M,unloading_end_time:F}}else{$=$.filter(D=>D!==S);const M=$.some(D=>{var A;return(A=s.find(L=>L.code===D))==null?void 0:A.requires_time}),F=M?T.unloading_start_time:"",H=M?T.unloading_end_time:"";return{...T,selected_surcharges:$,unloading_start_time:F,unloading_end_time:H}}})},x=w.useMemo(()=>{var T;const _=s.find($=>$.code==="BW");if(!((T=u.selected_surcharges)!=null&&T.includes("BW"))||!(_!=null&&_.start_time)||!(_!=null&&_.end_time))return[];const S=[];let k=new Date(`1970-01-01T${_.start_time}`);const P=new Date(`1970-01-01T${_.end_time}`);for(;new Date(k.getTime()+4*60*60*1e3)<=P;){const $=new Date(k.getTime()+144e5),M=k.toTimeString().slice(0,5),F=$.toTimeString().slice(0,5);S.push({value:`${M}-${F}`,label:`${M} - ${F}`}),k.setHours(k.getHours()+1)}return S},[u.selected_surcharges,s]),g=_=>{const[S,k]=_.target.value.split("-");d(P=>({...P,unloading_start_time:S,unloading_end_time:k}))},y=(_,S,k)=>{d(P=>{var M;const $=[...Array.isArray((M=P==null?void 0:P.cargo_details)==null?void 0:M.pallets)?P.cargo_details.pallets:[]];return $[_]={...$[_],[S]:k},{...P,cargo_details:{...P.cargo_details,pallets:$}}})},b=()=>{d(_=>{var S;return{..._,cargo_details:{..._.cargo_details,pallets:[...Array.isArray((S=_==null?void 0:_.cargo_details)==null?void 0:S.pallets)?_.cargo_details.pallets:[],{type:"full",quantity:1,weight:0,spaces:1}]}}})},j=_=>{d(S=>{var T;const P=(Array.isArray((T=S==null?void 0:S.cargo_details)==null?void 0:T.pallets)?S.cargo_details.pallets:[]).filter(($,M)=>M!==_);return{...S,cargo_details:{...S.cargo_details,pallets:P}}})};return l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:o?"Edit Order":"Add New Order"}),l.jsx("button",{onClick:t,className:"btn-icon",children:l.jsx(ft,{size:20})})]}),l.jsxs("form",{onSubmit:h,className:"form",style:{maxHeight:"80vh",overflowY:"auto",paddingRight:"1rem"},children:[l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group form-span-2",children:[l.jsx("label",{children:"Customer *"}),l.jsxs("select",{name:"customer_id",value:u.customer_id,onChange:p,required:!0,children:[l.jsx("option",{value:"",children:"Select a customer..."}),r.map(_=>l.jsx("option",{value:_.id,children:_.name},_.id))]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Order Number"}),l.jsx("input",{type:"text",name:"order_number",value:u.order_number,onChange:p})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Customer Reference"}),l.jsx("input",{type:"text",name:"customer_reference",value:u.customer_reference,onChange:p})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Service Level"}),l.jsxs("select",{name:"service_level",value:u.service_level,onChange:p,children:[l.jsx("option",{value:"A",children:"A"}),l.jsx("option",{value:"B",children:"B"}),l.jsx("option",{value:"C",children:"C"}),l.jsx("option",{value:"D",children:"D"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Status"}),l.jsxs("select",{name:"status",value:u.status,onChange:p,children:[l.jsx("option",{value:"nowe",children:"New"}),l.jsx("option",{value:"w trakcie",children:"In Progress"}),l.jsx("option",{value:"zakoczone",children:"Completed"}),l.jsx("option",{value:"anulowane",children:"Cancelled"})]})]})]}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-column",children:[l.jsx("h4",{children:"Sender Details"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Name *"}),l.jsx("input",{type:"text",name:"name",value:u.sender_details.name,onChange:_=>m("sender_details",_),required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Address 1"}),l.jsx("input",{type:"text",name:"address1",value:u.sender_details.address1,onChange:_=>m("sender_details",_)})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Postcode"}),l.jsx("input",{type:"text",name:"postCode",value:u.sender_details.postCode,onChange:_=>m("sender_details",_)})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Loading Date"}),l.jsx("input",{type:"date",name:"loading_date_time",value:u.loading_date_time,onChange:p})]})]}),l.jsxs("div",{className:"form-column",children:[l.jsx("h4",{children:"Recipient Details"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Name *"}),l.jsx("input",{type:"text",name:"name",value:u.recipient_details.name,onChange:_=>m("recipient_details",_),required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Address 1"}),l.jsx("input",{type:"text",name:"address1",value:u.recipient_details.address1,onChange:_=>m("recipient_details",_)})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Postcode"}),l.jsx("input",{type:"text",name:"postCode",value:u.recipient_details.postCode,onChange:_=>m("recipient_details",_)})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Unloading Date"}),l.jsx("input",{type:"date",name:"unloading_date_time",value:u.unloading_date_time,onChange:p})]})]})]}),l.jsx("h4",{children:"Cargo Details"}),l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Type"}),l.jsx("th",{children:"Quantity"}),l.jsx("th",{children:"Weight (kg)"}),l.jsx("th",{children:"Spaces"}),l.jsx("th",{})]})}),l.jsx("tbody",{children:(Array.isArray((N=u==null?void 0:u.cargo_details)==null?void 0:N.pallets)?u.cargo_details.pallets:[]).map((_,S)=>l.jsxs("tr",{children:[l.jsx("td",{children:l.jsxs("select",{value:_.type,onChange:k=>y(S,"type",k.target.value),children:[l.jsx("option",{value:"micro",children:"Micro"}),l.jsx("option",{value:"quarter",children:"Quarter"}),l.jsx("option",{value:"half",children:"Half"}),l.jsx("option",{value:"half_plus",children:"Half Plus"}),l.jsx("option",{value:"full",children:"Full"})]})}),l.jsx("td",{children:l.jsx("input",{type:"number",value:_.quantity,onChange:k=>y(S,"quantity",k.target.value),min:"1"})}),l.jsx("td",{children:l.jsx("input",{type:"number",value:_.weight,onChange:k=>y(S,"weight",k.target.value),min:"0"})}),l.jsx("td",{children:l.jsx("input",{type:"number",step:"0.1",value:_.spaces,onChange:k=>y(S,"spaces",k.target.value),min:"0"})}),l.jsx("td",{children:l.jsx("button",{type:"button",onClick:()=>j(S),className:"btn-icon btn-danger",children:l.jsx(lr,{size:16})})})]},S))})]}),l.jsx("button",{type:"button",onClick:b,className:"btn-secondary",style:{marginTop:"1rem",alignSelf:"flex-start"},children:"Add Pallet"}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Total Weight (kg)"}),l.jsx("input",{type:"number",name:"total_kilos",value:u.cargo_details.total_kilos,readOnly:!0,disabled:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Total Spaces"}),l.jsx("input",{type:"number",name:"total_spaces",value:u.cargo_details.total_spaces,readOnly:!0,disabled:!0})]})]}),l.jsx("h4",{children:"Surcharges"}),(R=u.selected_surcharges)!=null&&R.includes("BW")?l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"4-Hour Window"}),l.jsxs("select",{onChange:g,value:`${u.unloading_start_time}-${u.unloading_end_time}`,children:[l.jsx("option",{value:"",children:"-- Select a time window --"}),x.map(_=>l.jsx("option",{value:_.value,children:_.label},_.value))]})]}):((C=u.selected_surcharges)==null?void 0:C.some(_=>{var S;return(S=s.find(k=>k.code===_))==null?void 0:S.requires_time}))&&l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Unloading Start Time"}),l.jsx("input",{type:"time",name:"unloading_start_time",value:u.unloading_start_time||"",onChange:p})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Unloading End Time"}),l.jsx("input",{type:"time",name:"unloading_end_time",value:u.unloading_end_time||"",onChange:p})]})]}),l.jsx("div",{className:"surcharge-options",children:s.map(_=>l.jsxs("div",{className:"form-group-checkbox",children:[l.jsx("input",{type:"checkbox",id:`surcharge-${_.code}`,value:_.code,checked:u.selected_surcharges.includes(_.code),onChange:v}),l.jsx("label",{htmlFor:`surcharge-${_.code}`,children:_.name})]},_.id))}),l.jsxs("div",{className:"form-grid",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Notes"}),l.jsx("textarea",{name:"notes",value:u.notes||"",onChange:p})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Final Price ()"}),l.jsx("input",{type:"number",step:"0.01",name:"final_price",value:u.final_price,onChange:p,placeholder:u.calculated_price||"Auto-calculated"}),u.calculated_price&&l.jsxs("small",{children:["Calculated: ",u.calculated_price]})]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:f,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:f,children:f?"Saving...":o?"Save Changes":"Add Order"})]})]})]})},S1=({items:e=[],onRefresh:t,onEdit:n,currentUser:r})=>{const s=Array.isArray(e)?e:[],o=[{key:"name",header:"Name",sortable:!0,render:c=>`${c.first_name||""} ${c.last_name||""}`.trim()||c.email},{key:"email",header:"Email",sortable:!0},{key:"role",header:"Role",sortable:!0,render:c=>c.role==="admin"?"Admin":"Dispatcher"}],{showToast:i}=_e(),a=async c=>{var u,d;if(window.confirm(`Are you sure you want to delete user ${c.email}?`))try{await Y.delete(`/api/users/${c.id}`),i("User deleted successfully.","success"),t()}catch(f){i(((d=(u=f.response)==null?void 0:u.data)==null?void 0:d.error)||"Failed to delete user.","error")}};return l.jsx(Yt,{items:s,columns:o,onRefresh:t,onEdit:n,onDelete:a,title:"User List",filterPlaceholder:"Filter by email or role...",initialSortKey:"name",filterKeys:["email","role"],currentUser:r})},C1=({onSuccess:e,onCancel:t,itemToEdit:n})=>{const r=!!n,s={email:"",first_name:"",last_name:"",password:"",role:"dispatcher"},{showToast:o}=_e(),i=m=>{const h={};return m.email||(h.email="Email is required."),m.first_name||(h.first_name="First name is required."),m.last_name||(h.last_name="Last name is required."),!r&&(!m.password||m.password.length<6)&&(h.password="Password must be at least 6 characters long."),h},a=async m=>{var h,v;try{r?(await Y.put(`/api/users/${n.id}`,{role:m.role,first_name:m.first_name,last_name:m.last_name}),o("User updated successfully!","success")):(await Y.post("/api/users",m),o("User created successfully!","success")),e()}catch(x){const g=((v=(h=x.response)==null?void 0:h.data)==null?void 0:v.error)||"An error occurred.";throw o(g,"error"),new Error(g)}},{formData:c,errors:u,loading:d,handleChange:f,handleSubmit:p}=un({initialState:s,validate:i,onSubmit:a,itemToEdit:n});return l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:r?"Edit User":"Add New User"}),l.jsx("button",{onClick:t,className:"btn-icon",children:l.jsx(ft,{size:20})})]}),u.form&&l.jsx("div",{className:"error-message",children:u.form}),l.jsxs("form",{onSubmit:p,className:"form",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Email *"}),l.jsx("input",{type:"email",name:"email",value:c.email,onChange:f,required:!0,disabled:r,className:u.email?"input-error":""}),u.email&&l.jsx("span",{className:"error-text",children:u.email})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"First Name *"}),l.jsx("input",{type:"text",name:"first_name",value:c.first_name,onChange:f,required:!0,className:u.first_name?"input-error":""}),u.first_name&&l.jsx("span",{className:"error-text",children:u.first_name})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Last Name *"}),l.jsx("input",{type:"text",name:"last_name",value:c.last_name,onChange:f,required:!0,className:u.last_name?"input-error":""}),u.last_name&&l.jsx("span",{className:"error-text",children:u.last_name})]}),!r&&l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Password *"}),l.jsx("input",{type:"password",name:"password",value:c.password,onChange:f,required:!0,className:u.password?"input-error":""}),u.password&&l.jsx("span",{className:"error-text",children:u.password})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Role *"}),l.jsxs("select",{name:"role",value:c.role,onChange:f,required:!0,children:[l.jsx("option",{value:"dispatcher",children:"Dispatcher"}),l.jsx("option",{value:"admin",children:"Admin"})]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:d,children:"Cancel"}),l.jsx("button",{type:"submit",disabled:d,className:"btn-primary",children:d?r?"Saving...":"Adding...":r?"Save Changes":"Add User"})]})]})]})},$f={run_date:new Date().toISOString().split("T")[0],type:"delivery",driver_id:"",truck_id:"",trailer_id:""},Ag=({onSuccess:e,onCancel:t,itemToEdit:n,drivers:r=[],trucks:s=[],trailers:o=[]})=>{const i=!!n,{showToast:a}=_e(),c=v=>{const x={};return v.run_date||(x.run_date="Run date is required."),v.driver_id||(x.driver_id="Driver is required."),v.truck_id||(x.truck_id="Truck is required."),x},u=async v=>{try{await e(v)}catch(x){throw a(x.message||`Failed to ${i?"update":"create"} run.`,"error"),x}},{formData:d,errors:f,loading:p,handleChange:m,handleSubmit:h}=un({initialState:$f,validate:c,onSubmit:u,itemToEdit:w.useMemo(()=>n?{...n,run_date:n.run_date?new Date(n.run_date).toISOString().split("T")[0]:$f.run_date,driver_id:n.driver_id||"",truck_id:n.truck_id||"",trailer_id:n.trailer_id||""}:null,[n])});return l.jsxs("div",{className:"card",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1010,width:"400px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:i?"Edit Run":"Add New Run"}),l.jsx("button",{type:"button",onClick:t,className:"btn-icon","aria-label":"Close add run form",children:l.jsx(ft,{size:20})})]}),l.jsxs("form",{onSubmit:h,className:"form",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Run Date"}),l.jsx("input",{type:"date",name:"run_date",value:d.run_date,onChange:m,required:!0,className:f.run_date?"input-error":""}),f.run_date&&l.jsx("span",{className:"error-text",children:f.run_date})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Driver"}),l.jsxs("select",{name:"driver_id",value:d.driver_id,onChange:m,required:!0,className:f.driver_id?"input-error":"",children:[l.jsx("option",{value:"",children:"Select a driver..."}),r.map(v=>l.jsxs("option",{value:v.id,children:[v.first_name," ",v.last_name]},v.id))]}),f.driver_id&&l.jsx("span",{className:"error-text",children:f.driver_id})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Truck"}),l.jsxs("select",{name:"truck_id",value:d.truck_id,onChange:m,required:!0,className:f.truck_id?"input-error":"",children:[l.jsx("option",{value:"",children:"Select a truck..."}),s.map(v=>l.jsx("option",{value:v.id,children:v.registration_plate},v.id))]}),f.truck_id&&l.jsx("span",{className:"error-text",children:f.truck_id})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Trailer (optional)"}),l.jsxs("select",{name:"trailer_id",value:d.trailer_id,onChange:m,children:[l.jsx("option",{value:"",children:"Select a trailer..."}),o.map(v=>l.jsx("option",{value:v.id,children:v.registration_plate},v.id))]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:t,className:"btn-secondary",disabled:p,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:p,children:p?"Saving...":i?"Save Changes":"Add Run"})]})]})]})},j1=({runs:e=[],trucks:t=[],trailers:n=[],drivers:r=[],onDataRefresh:s,runActions:o})=>{const[i,a]=w.useState(!1),[c,u]=w.useState(null),{showToast:d}=_e(),f=Array.isArray(e)?e:[],p=Array.isArray(t)?t:[],m=Array.isArray(n)?n:[],h=Array.isArray(r)?r:[],v=w.useCallback(()=>{u(null),a(!0)},[]),x=w.useCallback(_=>{u(_),a(!0)},[]),g=w.useCallback(()=>{a(!1),u(null)},[]),y=w.useCallback(async _=>{var S,k;try{c?await o.update(c.id,_):await o.create(_),d("Run saved successfully!","success")}catch(P){d(((k=(S=P.response)==null?void 0:S.data)==null?void 0:k.error)||"Failed to save run.","error")}g()},[s,g]),b=w.useMemo(()=>new Map(h.map(_=>[_.id,`${_.first_name} ${_.last_name}`])),[h]),j=w.useMemo(()=>new Map(p.map(_=>[_.id,_.registration_plate])),[p]),E=w.useMemo(()=>new Map(m.map(_=>[_.id,_.registration_plate])),[m]),N=w.useMemo(()=>f.map(_=>({..._,driverName:b.get(_.driver_id)||"N/A",truckPlate:j.get(_.truck_id)||"N/A",trailerPlate:_.trailer_id?E.get(_.trailer_id):"N/A"})),[f,b,j,E]),R=[{key:"run_date",header:"Date",sortable:!0,render:_=>new Date(_.run_date).toLocaleDateString()},{key:"driverName",header:"Driver",sortable:!0},{key:"truckPlate",header:"Truck",sortable:!0},{key:"trailerPlate",header:"Trailer",sortable:!0},{key:"type",header:"Type",sortable:!0,render:_=>l.jsx("span",{style:{textTransform:"capitalize"},children:_.type})}],C=w.useCallback(async _=>{var T,$;const S=N.find(M=>M.id===_.id),k=(S==null?void 0:S.driverName)||"N/A",P=new Date(_.run_date).toLocaleDateString();if(window.confirm(`Are you sure you want to delete run for ${k} on ${P}?`))try{await o.delete(_.id),d("Run deleted successfully.","success")}catch(M){d((($=(T=M.response)==null?void 0:T.data)==null?void 0:$.error)||"Failed to delete run.","error")}},[o,d,N]);return l.jsxs("div",{className:"card",children:[i&&l.jsx("div",{className:"modal-overlay",children:l.jsx(Ag,{onSuccess:y,onCancel:g,itemToEdit:c,drivers:r,trucks:t,trailers:n})}),l.jsxs("div",{className:"card-header",children:[l.jsx("h3",{children:"Run Management"}),l.jsxs("button",{onClick:v,className:"btn-primary",children:[l.jsx(nr,{size:16})," Add New Run"]})]}),l.jsx(Yt,{items:N,columns:R,onEdit:x,onDelete:C,filterPlaceholder:"Filter runs...",filterKeys:["run_date","driverName","truckPlate","trailerPlate","type"],initialSortKey:"run_date",initialSortOrder:"desc"})]})},st=(e,t="resource")=>{const[n,r]=w.useState([]),[s,o]=w.useState(!1),[i,a]=w.useState(null),c=w.useRef(r);w.useEffect(()=>{c.current=r},[r]);const u=w.useRef(e),d=w.useRef(t);w.useEffect(()=>{u.current=e,d.current=t},[e,t]);const f=w.useCallback(async()=>{var b,j;const g=u.current,y=d.current;if(g){o(!0),a(null);try{const E=await Y.get(g);return c.current(Array.isArray(E.data)?E.data:[]),E.data}catch(E){const N=((j=(b=E.response)==null?void 0:b.data)==null?void 0:j.error)||`Failed to fetch ${y}.`;a(N),c.current([])}finally{o(!1)}}},[]);w.useEffect(()=>{e?f():c.current([])},[e]);const p=w.useCallback(async(g,y)=>{var N,R;const b=u.current,j=d.current;let E=null;if(y){E=`temp-${Date.now()}`;const C=y(g,E);c.current(_=>[..._,C])}o(!0),a(null);try{const C=await Y.post(b,g);return y?c.current(_=>_.map(S=>S.id===E?C.data:S)):c.current(_=>[..._,C.data]),C.data}catch(C){y&&c.current(S=>S.filter(k=>k.id!==E));const _=((R=(N=C.response)==null?void 0:N.data)==null?void 0:R.error)||`Failed to create ${j}.`;return a(_),null}finally{o(!1)}},[]),m=w.useCallback(async g=>{var N,R;const y=u.current,b=d.current;let j=null,E=-1;if(c.current(C=>(E=C.findIndex(_=>_.id===g),E===-1?C:(j=C[E],C.filter(_=>_.id!==g)))),E!==-1){o(!0),a(null);try{await Y.delete(`${y}/${g}`)}catch(C){c.current(S=>{const k=[...S];return k.splice(E,0,j),k});const _=((R=(N=C.response)==null?void 0:N.data)==null?void 0:R.error)||`Failed to delete ${b}.`;a(_)}finally{o(!1)}}},[]),h=w.useCallback(async(g,y)=>{var N,R;const b=u.current,j=d.current;let E=null;c.current(C=>(E=[...C],C.map(_=>_.id===g?{..._,...y}:_))),o(!0),a(null);try{const C=await Y.put(`${b}/${g}`,y);return c.current(_=>_.map(S=>S.id===g?C.data:S)),C.data}catch(C){E&&c.current(E);const _=((R=(N=C.response)==null?void 0:N.data)==null?void 0:R.error)||`Failed to update ${j}.`;return a(_),null}finally{o(!1)}},[]),v=w.useCallback(async g=>{var j,E;const y=u.current,b=d.current;o(!0),a(null);try{const N=await Y.post(`${y}/bulk`,g);return f(),{success:!0,message:N.data.message||`${b} created successfully.`}}catch(N){const R=((E=(j=N.response)==null?void 0:j.data)==null?void 0:E.error)||`Failed to bulk create ${b}.`;return a(R),{success:!1,message:R}}finally{o(!1)}},[]),x=w.useCallback(g=>{r(g)},[]);return{data:n,isLoading:s,error:i,fetchData:f,createResource:p,updateResource:h,deleteResource:m,bulkCreate:v,setData:x}};function Xe(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var k1=typeof Symbol=="function"&&Symbol.observable||"@@observable",Uf=k1,Wf=()=>Math.random().toString(36).substring(7).split("").join("."),E1={INIT:`@@redux/INIT${Wf()}`,REPLACE:`@@redux/REPLACE${Wf()}`},Hf=E1;function N1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Ig(e,t,n){if(typeof e!="function")throw new Error(Xe(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xe(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xe(1));return n(Ig)(e,t)}let r=e,s=t,o=new Map,i=o,a=0,c=!1;function u(){i===o&&(i=new Map,o.forEach((x,g)=>{i.set(g,x)}))}function d(){if(c)throw new Error(Xe(3));return s}function f(x){if(typeof x!="function")throw new Error(Xe(4));if(c)throw new Error(Xe(5));let g=!0;u();const y=a++;return i.set(y,x),function(){if(g){if(c)throw new Error(Xe(6));g=!1,u(),i.delete(y),o=null}}}function p(x){if(!N1(x))throw new Error(Xe(7));if(typeof x.type>"u")throw new Error(Xe(8));if(typeof x.type!="string")throw new Error(Xe(17));if(c)throw new Error(Xe(9));try{c=!0,s=r(s,x)}finally{c=!1}return(o=i).forEach(y=>{y()}),x}function m(x){if(typeof x!="function")throw new Error(Xe(10));r=x,p({type:Hf.REPLACE})}function h(){const x=f;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(Xe(11));function y(){const j=g;j.next&&j.next(d())}return y(),{unsubscribe:x(y)}},[Uf](){return this}}}return p({type:Hf.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:m,[Uf]:h}}function Vf(e,t){return function(...n){return t(e.apply(this,n))}}function qf(e,t){if(typeof e=="function")return Vf(e,t);if(typeof e!="object"||e===null)throw new Error(Xe(16));const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=Vf(s,t))}return n}function Tg(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function D1(...e){return t=>(n,r)=>{const s=t(n,r);let o=()=>{throw new Error(Xe(15))};const i={getState:s.getState,dispatch:(c,...u)=>o(c,...u)},a=e.map(c=>c(i));return o=Tg(...a)(s.dispatch),{...s,dispatch:o}}}var R1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mo=w;function P1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var A1=typeof Object.is=="function"?Object.is:P1,I1=mo.useSyncExternalStore,T1=mo.useRef,O1=mo.useEffect,L1=mo.useMemo,F1=mo.useDebugValue;R1.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var o=T1(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=L1(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),s!==void 0&&i.hasValue){var h=i.value;if(s(h,m))return f=h}return f=m}if(h=f,A1(d,m))return h;var v=r(m);return s!==void 0&&s(h,v)?(d=m,h):(d=m,f=v)}var u=!1,d,f,p=n===void 0?null:n;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,n,r,s]);var a=I1(e,o[0],o[1]);return O1(function(){i.hasValue=!0,i.value=a},[a]),F1(a),a};var M1=w.version.startsWith("19"),B1=Symbol.for(M1?"react.transitional.element":"react.element"),z1=Symbol.for("react.portal"),$1=Symbol.for("react.fragment"),U1=Symbol.for("react.strict_mode"),W1=Symbol.for("react.profiler"),H1=Symbol.for("react.consumer"),V1=Symbol.for("react.context"),Og=Symbol.for("react.forward_ref"),q1=Symbol.for("react.suspense"),G1=Symbol.for("react.suspense_list"),Eu=Symbol.for("react.memo"),K1=Symbol.for("react.lazy"),Q1=Og,Y1=Eu;function J1(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case B1:switch(e=e.type,e){case $1:case W1:case U1:case q1:case G1:return e;default:switch(e=e&&e.$$typeof,e){case V1:case Og:case K1:case Eu:return e;case H1:return e;default:return t}}case z1:return t}}}function Z1(e){return J1(e)===Eu}function X1(e,t,n,r,{areStatesEqual:s,areOwnPropsEqual:o,areStatePropsEqual:i}){let a=!1,c,u,d,f,p;function m(y,b){return c=y,u=b,d=e(c,u),f=t(r,u),p=n(d,f,u),a=!0,p}function h(){return d=e(c,u),t.dependsOnOwnProps&&(f=t(r,u)),p=n(d,f,u),p}function v(){return e.dependsOnOwnProps&&(d=e(c,u)),t.dependsOnOwnProps&&(f=t(r,u)),p=n(d,f,u),p}function x(){const y=e(c,u),b=!i(y,d);return d=y,b&&(p=n(d,f,u)),p}function g(y,b){const j=!o(b,u),E=!s(y,c,b,u);return c=y,u=b,j&&E?h():j?v():E?x():p}return function(b,j){return a?g(b,j):m(b,j)}}function eS(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...s}){const o=t(e,s),i=n(e,s),a=r(e,s);return X1(o,i,a,e,s)}function tS(e,t){const n={};for(const r in e){const s=e[r];typeof s=="function"&&(n[r]=(...o)=>t(s(...o)))}return n}function pc(e){return function(n){const r=e(n);function s(){return r}return s.dependsOnOwnProps=!1,s}}function Gf(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function Lg(e,t){return function(r,{displayName:s}){const o=function(a,c){return o.dependsOnOwnProps?o.mapToProps(a,c):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,c){o.mapToProps=e,o.dependsOnOwnProps=Gf(e);let u=o(a,c);return typeof u=="function"&&(o.mapToProps=u,o.dependsOnOwnProps=Gf(u),u=o(a,c)),u},o}}function Nu(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function nS(e){return e&&typeof e=="object"?pc(t=>tS(e,t)):e?typeof e=="function"?Lg(e):Nu(e,"mapDispatchToProps"):pc(t=>({dispatch:t}))}function rS(e){return e?typeof e=="function"?Lg(e):Nu(e,"mapStateToProps"):pc(()=>({}))}function sS(e,t,n){return{...n,...e,...t}}function oS(e){return function(n,{displayName:r,areMergedPropsEqual:s}){let o=!1,i;return function(c,u,d){const f=e(c,u,d);return o?s(f,i)||(i=f):(o=!0,i=f),i}}}function iS(e){return e?typeof e=="function"?oS(e):Nu(e,"mergeProps"):()=>sS}function lS(e){e()}function aS(){let e=null,t=null;return{clear(){e=null,t=null},notify(){lS(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var Kf={notify(){},get:()=>[]};function Fg(e,t){let n,r=Kf,s=0,o=!1;function i(v){d();const x=r.subscribe(v);let g=!1;return()=>{g||(g=!0,x(),f())}}function a(){r.notify()}function c(){h.onStateChange&&h.onStateChange()}function u(){return o}function d(){s++,n||(n=t?t.addNestedSub(c):e.subscribe(c),r=aS())}function f(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=Kf)}function p(){o||(o=!0,d())}function m(){o&&(o=!1,f())}const h={addNestedSub:i,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return h}var cS=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uS=cS(),dS=()=>typeof navigator<"u"&&navigator.product==="ReactNative",fS=dS(),pS=()=>uS||fS?w.useLayoutEffect:w.useEffect,Ri=pS();function Qf(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Xl(e,t){if(Qf(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(t,n[s])||!Qf(e[n[s]],t[n[s]]))return!1;return!0}var mS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},hS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},gS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Mg={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},yS={[Q1]:gS,[Y1]:Mg};function Yf(e){return Z1(e)?Mg:yS[e.$$typeof]||mS}var vS=Object.defineProperty,xS=Object.getOwnPropertyNames,Jf=Object.getOwnPropertySymbols,_S=Object.getOwnPropertyDescriptor,bS=Object.getPrototypeOf,Zf=Object.prototype;function mc(e,t){if(typeof t!="string"){if(Zf){const o=bS(t);o&&o!==Zf&&mc(e,o)}let n=xS(t);Jf&&(n=n.concat(Jf(t)));const r=Yf(e),s=Yf(t);for(let o=0;o<n.length;++o){const i=n[o];if(!hS[i]&&!(s&&s[i])&&!(r&&r[i])){const a=_S(t,i);try{vS(e,i,a)}catch{}}}}return e}var ea=Symbol.for("react-redux-context"),ta=typeof globalThis<"u"?globalThis:{};function wS(){if(!w.createContext)return{};const e=ta[ea]??(ta[ea]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var Bg=wS(),SS=[null,null];function CS(e,t,n){Ri(()=>e(...t),n)}function jS(e,t,n,r,s,o){e.current=r,n.current=!1,s.current&&(s.current=null,o())}function kS(e,t,n,r,s,o,i,a,c,u,d){if(!e)return()=>{};let f=!1,p=null;const m=()=>{if(f||!a.current)return;const v=t.getState();let x,g;try{x=r(v,s.current)}catch(y){g=y,p=y}g||(p=null),x===o.current?i.current||u():(o.current=x,c.current=x,i.current=!0,d())};return n.onStateChange=m,n.trySubscribe(),m(),()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,p)throw p}}function ES(e,t){return e===t}function NS(e,t,n,{pure:r,areStatesEqual:s=ES,areOwnPropsEqual:o=Xl,areStatePropsEqual:i=Xl,areMergedPropsEqual:a=Xl,forwardRef:c=!1,context:u=Bg}={}){const d=u,f=rS(e),p=nS(t),m=iS(n),h=!!e;return x=>{const g=x.displayName||x.name||"Component",y=`Connect(${g})`,b={shouldHandleStateChanges:h,displayName:y,wrappedComponentName:g,WrappedComponent:x,initMapStateToProps:f,initMapDispatchToProps:p,initMergeProps:m,areStatesEqual:s,areStatePropsEqual:i,areOwnPropsEqual:o,areMergedPropsEqual:a};function j(R){const[C,_,S]=w.useMemo(()=>{const{reactReduxForwardedRef:oe,...ge}=R;return[R.context,oe,ge]},[R]),k=w.useMemo(()=>{let oe=d;return C!=null&&C.Consumer,oe},[C,d]),P=w.useContext(k),T=!!R.store&&!!R.store.getState&&!!R.store.dispatch,$=!!P&&!!P.store,M=T?R.store:P.store,F=$?P.getServerState:M.getState,H=w.useMemo(()=>eS(M.dispatch,b),[M]),[D,A]=w.useMemo(()=>{if(!h)return SS;const oe=Fg(M,T?void 0:P.subscription),ge=oe.notifyNestedSubs.bind(oe);return[oe,ge]},[M,T,P]),L=w.useMemo(()=>T?P:{...P,subscription:D},[T,P,D]),O=w.useRef(void 0),B=w.useRef(S),U=w.useRef(void 0),J=w.useRef(!1),ee=w.useRef(!1),ae=w.useRef(void 0);Ri(()=>(ee.current=!0,()=>{ee.current=!1}),[]);const Ee=w.useMemo(()=>()=>U.current&&S===B.current?U.current:H(M.getState(),S),[M,S]),se=w.useMemo(()=>ge=>D?kS(h,M,D,H,B,O,J,ee,U,A,ge):()=>{},[D]);CS(jS,[B,O,J,S,U,A]);let ie;try{ie=w.useSyncExternalStore(se,Ee,F?()=>H(F(),S):Ee)}catch(oe){throw ae.current&&(oe.message+=`
The error may be correlated with this previous error:
${ae.current.stack}

`),oe}Ri(()=>{ae.current=void 0,U.current=void 0,O.current=ie});const he=w.useMemo(()=>w.createElement(x,{...ie,ref:_}),[_,x,ie]);return w.useMemo(()=>h?w.createElement(k.Provider,{value:L},he):he,[k,he,L])}const N=w.memo(j);if(N.WrappedComponent=x,N.displayName=j.displayName=y,c){const C=w.forwardRef(function(S,k){return w.createElement(N,{...S,reactReduxForwardedRef:k})});return C.displayName=y,C.WrappedComponent=x,mc(C,x)}return mc(N,x)}}var zg=NS;function DS(e){const{children:t,context:n,serverState:r,store:s}=e,o=w.useMemo(()=>{const c=Fg(s);return{store:s,subscription:c,getServerState:r?()=>r:void 0}},[s,r]),i=w.useMemo(()=>s.getState(),[s]);Ri(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,i]);const a=n||Bg;return w.createElement(a.Provider,{value:o},t)}var RS=DS,PS="Invariant failed";function AS(e,t){throw new Error(PS)}var Mt=function(t){var n=t.top,r=t.right,s=t.bottom,o=t.left,i=r-o,a=s-n,c={top:n,right:r,bottom:s,left:o,width:i,height:a,x:o,y:n,center:{x:(r+o)/2,y:(s+n)/2}};return c},Du=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},Xf=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},IS=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},na={top:0,right:0,bottom:0,left:0},Ru=function(t){var n=t.borderBox,r=t.margin,s=r===void 0?na:r,o=t.border,i=o===void 0?na:o,a=t.padding,c=a===void 0?na:a,u=Mt(Du(n,s)),d=Mt(Xf(n,i)),f=Mt(Xf(d,c));return{marginBox:u,borderBox:Mt(n),paddingBox:d,contentBox:f,margin:s,border:i,padding:c}},jt=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var s=Number(n);return isNaN(s)&&AS(),s},TS=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Pi=function(t,n){var r=t.borderBox,s=t.border,o=t.margin,i=t.padding,a=IS(r,n);return Ru({borderBox:a,border:s,margin:o,padding:i})},Ai=function(t,n){return n===void 0&&(n=TS()),Pi(t,n)},$g=function(t,n){var r={top:jt(n.marginTop),right:jt(n.marginRight),bottom:jt(n.marginBottom),left:jt(n.marginLeft)},s={top:jt(n.paddingTop),right:jt(n.paddingRight),bottom:jt(n.paddingBottom),left:jt(n.paddingLeft)},o={top:jt(n.borderTopWidth),right:jt(n.borderRightWidth),bottom:jt(n.borderBottomWidth),left:jt(n.borderLeftWidth)};return Ru({borderBox:t,margin:r,padding:s,border:o})},Ug=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return $g(n,r)},Gs=function(t){var n=[],r=null,s=function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];n=a,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return s.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},s};function Ii(){return Ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ii.apply(null,arguments)}function Wg(e,t){}Wg.bind(null,"warn");Wg.bind(null,"error");function Dn(){}function OS(e,t){return{...e,...t}}function Dt(e,t,n){const r=t.map(s=>{const o=OS(n,s.options);return e.addEventListener(s.eventName,s.fn,o),function(){e.removeEventListener(s.eventName,s.fn,o)}});return function(){r.forEach(o=>{o()})}}const LS="Invariant failed";class Ti extends Error{}Ti.prototype.toString=function(){return this.message};function W(e,t){throw new Ti(LS)}class FS extends ce.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Dn,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof Ti&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Dt(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Ti){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const MS=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Oi=e=>e+1,BS=e=>`
  You have lifted an item in position ${Oi(e.source.index)}
`,Hg=(e,t)=>{const n=e.droppableId===t.droppableId,r=Oi(e.index),s=Oi(t.index);return n?`
      You have moved the item from position ${r}
      to position ${s}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${s}
  `},Vg=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,zS=e=>{const t=e.destination;if(t)return Hg(e.source,t);const n=e.combine;return n?Vg(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},ep=e=>`
  The item has returned to its starting position
  of ${Oi(e.index)}
`,$S=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${ep(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${Hg(e.source,t)}
    `:n?`
      You have dropped the item.
      ${Vg(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${ep(e.source)}
  `},ni={dragHandleUsageInstructions:MS,onDragStart:BS,onDragUpdate:zS,onDragEnd:$S};function US(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function qg(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!US(e[n],t[n]))return!1;return!0}function ue(e,t){const n=w.useState(()=>({inputs:t,result:e()}))[0],r=w.useRef(!0),s=w.useRef(n),i=r.current||!!(t&&s.current.inputs&&qg(t,s.current.inputs))?s.current:{inputs:t,result:e()};return w.useEffect(()=>{r.current=!1,s.current=i},[i]),i.result}function K(e,t){return ue(()=>e,t)}const $e={x:0,y:0},He=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),ht=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Rn=(e,t)=>e.x===t.x&&e.y===t.y,Kr=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),rr=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Ks=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),tp=(e,t)=>Math.min(...t.map(n=>Ks(e,n))),Gg=e=>t=>({x:e(t.x),y:e(t.y)});var WS=(e,t)=>{const n=Mt({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const ho=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),np=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],HS={top:0,right:0,bottom:0,left:0},VS=(e,t)=>t?ho(e,t.scroll.diff.displacement):e,qS=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,GS=(e,t)=>t&&t.shouldClipSubject?WS(t.pageMarginBox,e):Mt(e);var Mr=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const s=VS(e.marginBox,r),o=qS(s,n,t),i=GS(o,r);return{page:e,withPlaceholder:t,active:i}},Pu=(e,t)=>{e.frame||W();const n=e.frame,r=ht(t,n.scroll.initial),s=Kr(r),o={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:s},max:n.scroll.max}},i=Mr({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:i}};function ze(e,t=qg){let n=null;function r(...s){if(n&&n.lastThis===this&&t(s,n.lastArgs))return n.lastResult;const o=e.apply(this,s);return n={lastResult:o,lastArgs:s,lastThis:this},o}return r.clear=function(){n=null},r}const Kg=ze(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),Qg=ze(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),ul=ze(e=>Object.values(e)),KS=ze(e=>Object.values(e));var Qr=ze((e,t)=>KS(t).filter(r=>e===r.descriptor.droppableId).sort((r,s)=>r.descriptor.index-s.descriptor.index));function Au(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function dl(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var fl=ze((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),QS=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:s})=>{if(!n.isCombineEnabled||!Au(s))return null;function i(m){const h={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return{...s,at:h}}const a=s.displaced.all,c=a.length?a[0]:null;if(e)return c?i(c):null;const u=fl(t,r);if(!c){if(!u.length)return null;const m=u[u.length-1];return i(m.descriptor.id)}const d=u.findIndex(m=>m.descriptor.id===c);d===-1&&W();const f=d-1;if(f<0)return null;const p=u[f];return i(p.descriptor.id)},Yr=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const Yg={point:$e,value:0},Qs={invisible:{},visible:{},all:[]},YS={displaced:Qs,displacedBy:Yg,at:null};var Pt=(e,t)=>n=>e<=n&&n<=t,Jg=e=>{const t=Pt(e.top,e.bottom),n=Pt(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const o=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(o&&i)return!0;const c=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right;return c&&u?!0:c&&i||u&&o}},JS=e=>{const t=Pt(e.top,e.bottom),n=Pt(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const Iu={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Zg={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var ZS=e=>t=>{const n=Pt(t.top,t.bottom),r=Pt(t.left,t.right);return s=>e===Iu?n(s.top)&&n(s.bottom):r(s.left)&&r(s.right)};const XS=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:$e;return ho(e,n)},eC=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,tC=(e,t,n)=>n(t)(e),Tu=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:s})=>{const o=r?XS(e,t):e;return eC(o,t,s)&&tC(o,n,s)},nC=e=>Tu({...e,isVisibleThroughFrameFn:Jg}),Xg=e=>Tu({...e,isVisibleThroughFrameFn:JS}),rC=e=>Tu({...e,isVisibleThroughFrameFn:ZS(e.destination.axis)}),sC=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:s}=t;if(r[e])return!1;const o=s[e];return o?o.shouldAnimate:!0};function oC(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Mt(Du(n,r))}function Ys({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:s,last:o}){return e.reduce(function(a,c){const u=oC(c,n),d=c.descriptor.id;if(a.all.push(d),!nC({target:u,destination:t,viewport:r,withDroppableDisplacement:!0}))return a.invisible[c.descriptor.id]=!0,a;const p=sC(d,o,s),m={draggableId:d,shouldAnimate:p};return a.visible[d]=m,a},{all:[],visible:{},invisible:{}})}function iC(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function rp({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const s=iC(e,{inHomeList:t});return{displaced:Qs,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Li({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:s,last:o,index:i,forceShouldAnimate:a}){const c=Yr(e,n);if(i==null)return rp({insideDestination:t,inHomeList:c,displacedBy:s,destination:n});const u=t.find(h=>h.descriptor.index===i);if(!u)return rp({insideDestination:t,inHomeList:c,displacedBy:s,destination:n});const d=fl(e,t),f=t.indexOf(u),p=d.slice(f);return{displaced:Ys({afterDragging:p,destination:n,displacedBy:s,last:o,viewport:r.frame,forceShouldAnimate:a}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:i}}}}function In(e,t){return!!t.effected[e]}var lC=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:s})=>{if(!t.isCombineEnabled)return null;const o=r.draggableId,a=n[o].descriptor.index;return In(o,s)?e?a:a-1:e?a+1:a},aC=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const s=r.index,o=e?s+1:s-1,i=n[0].descriptor.index,a=n[n.length-1].descriptor.index,c=t?a:a+1;return o<i||o>c?null:o},cC=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:s,insideDestination:o,previousImpact:i,viewport:a,afterCritical:c})=>{const u=i.at;if(u||W(),u.type==="REORDER"){const f=aC({isMovingForward:e,isInHomeList:t,location:u.destination,insideDestination:o});return f==null?null:Li({draggable:n,insideDestination:o,destination:s,viewport:a,last:i.displaced,displacedBy:i.displacedBy,index:f})}const d=lC({isMovingForward:e,destination:s,displaced:i.displaced,draggables:r,combine:u.combine,afterCritical:c});return d==null?null:Li({draggable:n,insideDestination:o,destination:s,viewport:a,last:i.displaced,displacedBy:i.displacedBy,index:d})},uC=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const s=!!(e.visible[n]||e.invisible[n]);return In(n,t)?s?$e:Kr(r.point):s?r.point:$e},dC=({afterCritical:e,impact:t,draggables:n})=>{const r=dl(t);r||W();const s=r.draggableId,o=n[s].page.borderBox.center,i=uC({displaced:t.displaced,afterCritical:e,combineWith:s,displacedBy:t.displacedBy});return He(o,i)};const ey=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,fC=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,Ou=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,sp=({axis:e,moveRelativeTo:t,isMoving:n})=>rr(e.line,t.marginBox[e.end]+ey(e,n),Ou(e,t.marginBox,n)),op=({axis:e,moveRelativeTo:t,isMoving:n})=>rr(e.line,t.marginBox[e.start]-fC(e,n),Ou(e,t.marginBox,n)),pC=({axis:e,moveInto:t,isMoving:n})=>rr(e.line,t.contentBox[e.start]+ey(e,n),Ou(e,t.contentBox,n));var mC=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:s})=>{const o=Qr(r.descriptor.id,n),i=t.page,a=r.axis;if(!o.length)return pC({axis:a,moveInto:r.page,isMoving:i});const{displaced:c,displacedBy:u}=e,d=c.all[0];if(d){const p=n[d];if(In(d,s))return op({axis:a,moveRelativeTo:p.page,isMoving:i});const m=Pi(p.page,u.point);return op({axis:a,moveRelativeTo:m,isMoving:i})}const f=o[o.length-1];if(f.descriptor.id===t.descriptor.id)return i.borderBox.center;if(In(f.descriptor.id,s)){const p=Pi(f.page,Kr(s.displacedBy.point));return sp({axis:a,moveRelativeTo:p,isMoving:i})}return sp({axis:a,moveRelativeTo:f.page,isMoving:i})},hc=(e,t)=>{const n=e.frame;return n?He(t,n.scroll.diff.displacement):t};const hC=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:s})=>{const o=t.page.borderBox.center,i=e.at;return!n||!i?o:i.type==="REORDER"?mC({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s}):dC({impact:e,draggables:r,afterCritical:s})};var pl=e=>{const t=hC(e),n=e.droppable;return n?hc(n,t):t},ty=(e,t)=>{const n=ht(t,e.scroll.initial),r=Kr(n);return{frame:Mt({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function ip(e,t){return e.map(n=>t[n])}function gC(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var yC=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:s})=>{const o=ty(t,He(t.scroll.current,s)),i=n.frame?Pu(n,He(n.frame.scroll.current,s)):n,a=e.displaced,c=Ys({afterDragging:ip(a.all,r),destination:n,displacedBy:e.displacedBy,viewport:o.frame,last:a,forceShouldAnimate:!1}),u=Ys({afterDragging:ip(a.all,r),destination:i,displacedBy:e.displacedBy,viewport:t.frame,last:a,forceShouldAnimate:!1}),d={},f={},p=[a,c,u];return a.all.forEach(h=>{const v=gC(h,p);if(v){f[h]=v;return}d[h]=!0}),{...e,displaced:{all:a.all,invisible:d,visible:f}}},vC=(e,t)=>He(e.scroll.diff.displacement,t),Lu=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=vC(n,e),s=ht(r,t.page.borderBox.center);return He(t.client.borderBox.center,s)},ny=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:s,onlyOnMainAxis:o=!1})=>{const i=ht(n,e.page.borderBox.center),c={target:ho(e.page.borderBox,i),destination:t,withDroppableDisplacement:s,viewport:r};return o?rC(c):Xg(c)},xC=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:s,viewport:o,previousPageBorderBoxCenter:i,previousClientSelection:a,afterCritical:c})=>{if(!n.isEnabled)return null;const u=Qr(n.descriptor.id,r),d=Yr(t,n),f=QS({isMovingForward:e,draggable:t,destination:n,insideDestination:u,previousImpact:s})||cC({isMovingForward:e,isInHomeList:d,draggable:t,draggables:r,destination:n,insideDestination:u,previousImpact:s,viewport:o,afterCritical:c});if(!f)return null;const p=pl({impact:f,draggable:t,droppable:n,draggables:r,afterCritical:c});if(ny({draggable:t,destination:n,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Lu({pageBorderBoxCenter:p,draggable:t,viewport:o}),impact:f,scrollJumpRequest:null};const h=ht(p,i),v=yC({impact:f,viewport:o,destination:n,draggables:r,maxScrollChange:h});return{clientSelection:a,impact:v,scrollJumpRequest:h}};const Ze=e=>{const t=e.subject.active;return t||W(),t};var _C=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:s})=>{const o=n.subject.active;if(!o)return null;const i=n.axis,a=Pt(o[i.start],o[i.end]),c=ul(r).filter(d=>d!==n).filter(d=>d.isEnabled).filter(d=>!!d.subject.active).filter(d=>Jg(s.frame)(Ze(d))).filter(d=>{const f=Ze(d);return e?o[i.crossAxisEnd]<f[i.crossAxisEnd]:f[i.crossAxisStart]<o[i.crossAxisStart]}).filter(d=>{const f=Ze(d),p=Pt(f[i.start],f[i.end]);return a(f[i.start])||a(f[i.end])||p(o[i.start])||p(o[i.end])}).sort((d,f)=>{const p=Ze(d)[i.crossAxisStart],m=Ze(f)[i.crossAxisStart];return e?p-m:m-p}).filter((d,f,p)=>Ze(d)[i.crossAxisStart]===Ze(p[0])[i.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const u=c.filter(d=>Pt(Ze(d)[i.start],Ze(d)[i.end])(t[i.line]));return u.length===1?u[0]:u.length>1?u.sort((d,f)=>Ze(d)[i.start]-Ze(f)[i.start])[0]:c.sort((d,f)=>{const p=tp(t,np(Ze(d))),m=tp(t,np(Ze(f)));return p!==m?p-m:Ze(d)[i.start]-Ze(f)[i.start]})[0]};const lp=(e,t)=>{const n=e.page.borderBox.center;return In(e.descriptor.id,t)?ht(n,t.displacedBy.point):n},bC=(e,t)=>{const n=e.page.borderBox;return In(e.descriptor.id,t)?ho(n,Kr(t.displacedBy.point)):n};var wC=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:s})=>r.filter(i=>Xg({target:bC(i,s),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((i,a)=>{const c=Ks(e,hc(n,lp(i,s))),u=Ks(e,hc(n,lp(a,s)));return c<u?-1:u<c?1:i.descriptor.index-a.descriptor.index})[0]||null,go=ze(function(t,n){const r=n[t.line];return{value:r,point:rr(t.line,r)}});const SC=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return rr(r.line,t[r.line]);const s=e.subject.page.contentBox[r.size],c=Qr(e.descriptor.id,n).reduce((u,d)=>u+d.client.marginBox[r.size],0)+t[r.line]-s;return c<=0?null:rr(r.line,c)},ry=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),sy=(e,t,n)=>{const r=e.frame;Yr(t,e)&&W(),e.subject.withPlaceholder&&W();const s=go(e.axis,t.displaceBy).point,o=SC(e,s,n),i={placeholderSize:s,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const d=Mr({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame});return{...e,subject:d}}const a=o?He(r.scroll.max,o):r.scroll.max,c=ry(r,a),u=Mr({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:c});return{...e,subject:u,frame:c}},CC=e=>{const t=e.subject.withPlaceholder;t||W();const n=e.frame;if(!n){const i=Mr({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:i}}const r=t.oldFrameMaxScroll;r||W();const s=ry(n,r),o=Mr({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return{...e,subject:o,frame:s}};var jC=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:s,destination:o,viewport:i,afterCritical:a})=>{if(!t){if(n.length)return null;const f={displaced:Qs,displacedBy:Yg,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},p=pl({impact:f,draggable:r,droppable:o,draggables:s,afterCritical:a}),m=Yr(r,o)?o:sy(o,r,s);return ny({draggable:r,destination:m,newPageBorderBoxCenter:p,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const c=e[o.axis.line]<=t.page.borderBox.center[o.axis.line],u=(()=>{const f=t.descriptor.index;return t.descriptor.id===r.descriptor.id||c?f:f+1})(),d=go(o.axis,r.displaceBy);return Li({draggable:r,insideDestination:n,destination:o,viewport:i,displacedBy:d,last:Qs,index:u})},kC=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:s,droppables:o,viewport:i,afterCritical:a})=>{const c=_C({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:o,viewport:i});if(!c)return null;const u=Qr(c.descriptor.id,s),d=wC({pageBorderBoxCenter:t,viewport:i,destination:c,insideDestination:u,afterCritical:a}),f=jC({previousPageBorderBoxCenter:t,destination:c,draggable:n,draggables:s,moveRelativeTo:d,insideDestination:u,viewport:i,afterCritical:a});if(!f)return null;const p=pl({impact:f,draggable:n,droppable:c,draggables:s,afterCritical:a});return{clientSelection:Lu({pageBorderBoxCenter:p,draggable:n,viewport:i}),impact:f,scrollJumpRequest:null}},yt=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const EC=(e,t)=>{const n=yt(e);return n?t[n]:null};var NC=({state:e,type:t})=>{const n=EC(e.impact,e.dimensions.droppables),r=!!n,s=e.dimensions.droppables[e.critical.droppable.id],o=n||s,i=o.axis.direction,a=i==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||i==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(a&&!r)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],d=e.current.page.borderBoxCenter,{draggables:f,droppables:p}=e.dimensions;return a?xC({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:o,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):kC({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:o,draggables:f,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function Un(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function oy(e){const t=Pt(e.top,e.bottom),n=Pt(e.left,e.right);return function(s){return t(s.y)&&n(s.x)}}function DC(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function RC({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,s=n.map(o=>{const i=o.axis,a=rr(o.axis.line,e.center[i.line],o.page.borderBox.center[i.crossAxisLine]);return{id:o.descriptor.id,distance:Ks(r,a)}}).sort((o,i)=>i.distance-o.distance);return s[0]?s[0].id:null}function PC({pageBorderBox:e,draggable:t,droppables:n}){const r=ul(n).filter(s=>{if(!s.isEnabled)return!1;const o=s.subject.active;if(!o||!DC(e,o))return!1;if(oy(o)(e.center))return!0;const i=s.axis,a=o.center[i.crossAxisLine],c=e[i.crossAxisStart],u=e[i.crossAxisEnd],d=Pt(o[i.crossAxisStart],o[i.crossAxisEnd]),f=d(c),p=d(u);return!f&&!p?!0:f?c<a:u>a});return r.length?r.length===1?r[0].descriptor.id:RC({pageBorderBox:e,draggable:t,candidates:r}):null}const iy=(e,t)=>Mt(ho(e,t));var AC=(e,t)=>{const n=e.frame;return n?iy(t,n.scroll.diff.value):t};function ly({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function IC({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var TC=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:s,viewport:o,afterCritical:i})=>{const a=n.axis,c=go(n.axis,t.displaceBy),u=c.value,d=e[a.start],f=e[a.end],m=fl(t,r).find(v=>{const x=v.descriptor.id,g=v.page.borderBox.center[a.line],y=In(x,i),b=ly({displaced:s,id:x});return y?b?f<=g:d<g-u:b?f<=g+u:d<g})||null,h=IC({draggable:t,closest:m,inHomeList:Yr(t,n)});return Li({draggable:t,insideDestination:r,destination:n,viewport:o,last:s,displacedBy:c,index:h})};const OC=4;var LC=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:s,afterCritical:o})=>{if(!r.isCombineEnabled)return null;const i=r.axis,a=go(r.axis,e.displaceBy),c=a.value,u=t[i.start],d=t[i.end],p=fl(e,s).find(h=>{const v=h.descriptor.id,x=h.page.borderBox,y=x[i.size]/OC,b=In(v,o),j=ly({displaced:n.displaced,id:v});return b?j?d>x[i.start]+y&&d<x[i.end]-y:u>x[i.start]-c+y&&u<x[i.end]-c-y:j?d>x[i.start]+c+y&&d<x[i.end]+c-y:u>x[i.start]+y&&u<x[i.end]-y});return p?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:r.descriptor.id}}}:null},ay=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:s,viewport:o,afterCritical:i})=>{const a=iy(t.page.borderBox,e),c=PC({pageBorderBox:a,draggable:t,droppables:r});if(!c)return YS;const u=r[c],d=Qr(u.descriptor.id,n),f=AC(u,a);return LC({pageBorderBoxWithDroppableScroll:f,draggable:t,previousImpact:s,destination:u,insideDestination:d,afterCritical:i})||TC({pageBorderBoxWithDroppableScroll:f,draggable:t,destination:u,insideDestination:d,last:s.displaced,viewport:o,afterCritical:i})},Fu=(e,t)=>({...e,[t.descriptor.id]:t});const FC=({previousImpact:e,impact:t,droppables:n})=>{const r=yt(e),s=yt(t);if(!r||r===s)return n;const o=n[r];if(!o.subject.withPlaceholder)return n;const i=CC(o);return Fu(n,i)};var MC=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:s})=>{const o=FC({previousImpact:r,impact:s,droppables:n}),i=yt(s);if(!i)return o;const a=n[i];if(Yr(e,a)||a.subject.withPlaceholder)return o;const c=sy(a,e,t);return Fu(o,c)},js=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:s,scrollJumpRequest:o})=>{const i=r||e.viewport,a=n||e.dimensions,c=t||e.current.client.selection,u=ht(c,e.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:He(e.initial.client.borderBoxCenter,u)},f={selection:He(d.selection,i.scroll.current),borderBoxCenter:He(d.borderBoxCenter,i.scroll.current),offset:He(d.offset,i.scroll.diff.value)},p={client:d,page:f};if(e.phase==="COLLECTING")return{...e,dimensions:a,viewport:i,current:p};const m=a.draggables[e.critical.draggable.id],h=s||ay({pageOffset:f.offset,draggable:m,draggables:a.draggables,droppables:a.droppables,previousImpact:e.impact,viewport:i,afterCritical:e.afterCritical}),v=MC({draggable:m,impact:h,previousImpact:e.impact,draggables:a.draggables,droppables:a.droppables});return{...e,current:p,dimensions:{draggables:a.draggables,droppables:v},impact:h,viewport:i,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function BC(e,t){return e.map(n=>t[n])}var cy=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:s})=>{const o=e.displaced,i=BC(o.all,n),a=Ys({afterDragging:i,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:s,last:o});return{...e,displaced:a}},uy=({impact:e,draggable:t,droppable:n,draggables:r,viewport:s,afterCritical:o})=>{const i=pl({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o});return Lu({pageBorderBoxCenter:i,draggable:t,viewport:s})},dy=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&W();const r=e.impact,s=n||e.viewport,o=t||e.dimensions,{draggables:i,droppables:a}=o,c=i[e.critical.draggable.id],u=yt(r);u||W();const d=a[u],f=cy({impact:r,viewport:s,destination:d,draggables:i}),p=uy({impact:f,draggable:c,droppable:d,draggables:i,viewport:s,afterCritical:e.afterCritical});return js({impact:f,clientSelection:p,state:e,dimensions:o,viewport:s})},zC=e=>({index:e.index,droppableId:e.droppableId}),fy=({draggable:e,home:t,draggables:n,viewport:r})=>{const s=go(t.axis,e.displaceBy),o=Qr(t.descriptor.id,n),i=o.indexOf(e);i===-1&&W();const a=o.slice(i+1),c=a.reduce((p,m)=>(p[m.descriptor.id]=!0,p),{}),u={inVirtualList:t.descriptor.mode==="virtual",displacedBy:s,effected:c};return{impact:{displaced:Ys({afterDragging:a,destination:t,displacedBy:s,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:zC(e.descriptor)}},afterCritical:u}},$C=(e,t)=>({draggables:e.draggables,droppables:Fu(e.droppables,t)}),UC=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=Pi(e.client,t),s=Ai(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:s}},WC=e=>{const t=e.frame;return t||W(),t},HC=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(s=>{const o=s.descriptor.droppableId,i=t[o],c=WC(i).scroll.diff.value,u=He(r,c);return UC({draggable:s,offset:u,initialWindowScroll:n.scroll.initial})})},VC=({state:e,published:t})=>{const n=t.modified.map(g=>{const y=e.dimensions.droppables[g.droppableId];return Pu(y,g.scroll)}),r={...e.dimensions.droppables,...Kg(n)},s=Qg(HC({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),o={...e.dimensions.draggables,...s};t.removals.forEach(g=>{delete o[g]});const i={droppables:r,draggables:o},a=yt(e.impact),c=a?i.droppables[a]:null,u=i.draggables[e.critical.draggable.id],d=i.droppables[e.critical.droppable.id],{impact:f,afterCritical:p}=fy({draggable:u,home:d,draggables:o,viewport:e.viewport}),m=c&&c.isCombineEnabled?e.impact:f,h=ay({pageOffset:e.current.page.offset,draggable:i.draggables[e.critical.draggable.id],draggables:i.draggables,droppables:i.droppables,previousImpact:m,viewport:e.viewport,afterCritical:p}),v={...e,phase:"DRAGGING",impact:h,onLiftImpact:f,dimensions:i,afterCritical:p,forceShouldAnimate:!1};return e.phase==="COLLECTING"?v:{...v,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const gc=e=>e.movementMode==="SNAP",ra=(e,t,n)=>{const r=$C(e.dimensions,t);return!gc(e)||n?js({state:e,dimensions:r}):dy({state:e,dimensions:r})};function sa(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const ap={phase:"IDLE",completed:null,shouldFlush:!1};var qC=(e=ap,t)=>{if(t.type==="FLUSH")return{...ap,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&W();const{critical:n,clientSelection:r,viewport:s,dimensions:o,movementMode:i}=t.payload,a=o.draggables[n.draggable.id],c=o.droppables[n.droppable.id],u={selection:r,borderBoxCenter:a.client.borderBox.center,offset:$e},d={client:u,page:{selection:He(u.selection,s.scroll.initial),borderBoxCenter:He(u.selection,s.scroll.initial),offset:He(u.selection,s.scroll.diff.value)}},f=ul(o.droppables).every(v=>!v.isFixedOnPage),{impact:p,afterCritical:m}=fy({draggable:a,home:c,draggables:o.draggables,viewport:s});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:i,dimensions:o,initial:d,current:d,isWindowScrollAllowed:f,impact:p,afterCritical:m,onLiftImpact:p,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&W(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||W(),VC({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Un(e)||W();const{client:n}=t.payload;return Rn(n,e.current.client.selection)?e:js({state:e,clientSelection:n,impact:gc(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return sa(e);Un(e)||W();const{id:n,newScroll:r}=t.payload,s=e.dimensions.droppables[n];if(!s)return e;const o=Pu(s,r);return ra(e,o,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Un(e)||W();const{id:n,isEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||W(),s.isEnabled===r&&W();const o={...s,isEnabled:r};return ra(e,o,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Un(e)||W();const{id:n,isCombineEnabled:r}=t.payload,s=e.dimensions.droppables[n];s||W(),s.isCombineEnabled===r&&W();const o={...s,isCombineEnabled:r};return ra(e,o,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Un(e)||W(),e.isWindowScrollAllowed||W();const n=t.payload.newScroll;if(Rn(e.viewport.scroll.current,n))return sa(e);const r=ty(e.viewport,n);return gc(e)?dy({state:e,viewport:r}):js({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Un(e))return e;const n=t.payload.maxScroll;if(Rn(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&W();const n=NC({state:e,type:t.type});return n?js({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&W(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:s}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||W(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:s,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function pe(e,t){return e instanceof Object&&"type"in e&&e.type===t}const GC=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),KC=e=>({type:"LIFT",payload:e}),QC=e=>({type:"INITIAL_PUBLISH",payload:e}),YC=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),JC=()=>({type:"COLLECTION_STARTING",payload:null}),ZC=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),XC=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),ej=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),py=e=>({type:"MOVE",payload:e}),tj=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),nj=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),rj=()=>({type:"MOVE_UP",payload:null}),sj=()=>({type:"MOVE_DOWN",payload:null}),oj=()=>({type:"MOVE_RIGHT",payload:null}),ij=()=>({type:"MOVE_LEFT",payload:null}),Mu=()=>({type:"FLUSH",payload:null}),lj=e=>({type:"DROP_ANIMATE",payload:e}),Bu=e=>({type:"DROP_COMPLETE",payload:e}),my=e=>({type:"DROP",payload:e}),aj=e=>({type:"DROP_PENDING",payload:e}),hy=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var cj=e=>({getState:t,dispatch:n})=>r=>s=>{if(!pe(s,"LIFT")){r(s);return}const{id:o,clientSelection:i,movementMode:a}=s.payload,c=t();c.phase==="DROP_ANIMATING"&&n(Bu({completed:c.completed})),t().phase!=="IDLE"&&W(),n(Mu()),n(GC({draggableId:o,movementMode:a}));const d={draggableId:o,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:f,dimensions:p,viewport:m}=e.startPublishing(d);n(QC({critical:f,dimensions:p,clientSelection:i,movementMode:a,viewport:m}))},uj=e=>()=>t=>n=>{pe(n,"INITIAL_PUBLISH")&&e.dragging(),pe(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(pe(n,"FLUSH")||pe(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const zu={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Js={opacity:{drop:0,combining:.7},scale:{drop:.75}},gy={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Mn=`${gy.outOfTheWay}s ${zu.outOfTheWay}`,ks={fluid:`opacity ${Mn}`,snap:`transform ${Mn}, opacity ${Mn}`,drop:e=>{const t=`${e}s ${zu.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Mn}`,placeholder:`height ${Mn}, width ${Mn}, margin ${Mn}`},cp=e=>Rn(e,$e)?void 0:`translate(${e.x}px, ${e.y}px)`,yc={moveTo:cp,drop:(e,t)=>{const n=cp(e);if(n)return t?`${n} scale(${Js.scale.drop})`:n}},{minDropTime:vc,maxDropTime:yy}=gy,dj=yy-vc,up=1500,fj=.6;var pj=({current:e,destination:t,reason:n})=>{const r=Ks(e,t);if(r<=0)return vc;if(r>=up)return yy;const s=r/up,o=vc+dj*s,i=n==="CANCEL"?o*fj:o;return Number(i.toFixed(2))},mj=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:s})=>{const{draggables:o,droppables:i}=n,a=yt(e),c=a?i[a]:null,u=i[t.descriptor.droppableId],d=uy({impact:e,draggable:t,draggables:o,afterCritical:s,droppable:c||u,viewport:r});return ht(d,t.client.borderBox.center)},hj=({draggables:e,reason:t,lastImpact:n,home:r,viewport:s,onLiftImpact:o})=>!n.at||t!=="DROP"?{impact:cy({draggables:e,impact:o,destination:r,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Qs},didDropInsideDroppable:!0};const gj=({getState:e,dispatch:t})=>n=>r=>{if(!pe(r,"DROP")){n(r);return}const s=e(),o=r.payload.reason;if(s.phase==="COLLECTING"){t(aj({reason:o}));return}if(s.phase==="IDLE")return;s.phase==="DROP_PENDING"&&s.isWaiting&&W(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||W();const a=s.critical,c=s.dimensions,u=c.draggables[s.critical.draggable.id],{impact:d,didDropInsideDroppable:f}=hj({reason:o,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),p=f?Au(d):null,m=f?dl(d):null,h={index:a.draggable.index,droppableId:a.droppable.id},v={draggableId:u.descriptor.id,type:u.descriptor.type,source:h,reason:o,mode:s.movementMode,destination:p,combine:m},x=mj({impact:d,draggable:u,dimensions:c,viewport:s.viewport,afterCritical:s.afterCritical}),g={critical:s.critical,afterCritical:s.afterCritical,result:v,impact:d};if(!(!Rn(s.current.client.offset,x)||!!v.combine)){t(Bu({completed:g}));return}const b=pj({current:s.current.client.offset,destination:x,reason:o});t(lj({newHomeClientOffset:x,dropDuration:b,completed:g}))};var vy=()=>({x:window.pageXOffset,y:window.pageYOffset});function yj(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function vj({onWindowScroll:e}){function t(){e(vy())}const n=Gs(t),r=yj(n);let s=Dn;function o(){return s!==Dn}function i(){o()&&W(),s=Dt(window,[r])}function a(){o()||W(),n.cancel(),s(),s=Dn}return{start:i,stop:a,isActive:o}}const xj=e=>pe(e,"DROP_COMPLETE")||pe(e,"DROP_ANIMATE")||pe(e,"FLUSH"),_j=e=>{const t=vj({onWindowScroll:n=>{e.dispatch(tj({newScroll:n}))}});return n=>r=>{!t.isActive()&&pe(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&xj(r)&&t.stop(),n(r)}};var bj=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),s=o=>{t||n||(t=!0,e(o),clearTimeout(r))};return s.wasCalled=()=>t,s},wj=()=>{const e=[],t=s=>{const o=e.findIndex(a=>a.timerId===s);o===-1&&W();const[i]=e.splice(o,1);i.callback()};return{add:s=>{const o=setTimeout(()=>t(o)),i={timerId:o,callback:s};e.push(i)},flush:()=>{if(!e.length)return;const s=[...e];e.length=0,s.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const Sj=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,Cj=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,jj=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},ls=(e,t)=>{t()},Fo=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function oa(e,t,n,r){if(!e){n(r(t));return}const s=bj(n);e(t,{announce:s}),s.wasCalled()||n(r(t))}var kj=(e,t)=>{const n=wj();let r=null;const s=(f,p)=>{r&&W(),ls("onBeforeCapture",()=>{const m=e().onBeforeCapture;m&&m({draggableId:f,mode:p})})},o=(f,p)=>{r&&W(),ls("onBeforeDragStart",()=>{const m=e().onBeforeDragStart;m&&m(Fo(f,p))})},i=(f,p)=>{r&&W();const m=Fo(f,p);r={mode:p,lastCritical:f,lastLocation:m.source,lastCombine:null},n.add(()=>{ls("onDragStart",()=>oa(e().onDragStart,m,t,ni.onDragStart))})},a=(f,p)=>{const m=Au(p),h=dl(p);r||W();const v=!jj(f,r.lastCritical);v&&(r.lastCritical=f);const x=!Sj(r.lastLocation,m);x&&(r.lastLocation=m);const g=!Cj(r.lastCombine,h);if(g&&(r.lastCombine=h),!v&&!x&&!g)return;const y={...Fo(f,r.mode),combine:h,destination:m};n.add(()=>{ls("onDragUpdate",()=>oa(e().onDragUpdate,y,t,ni.onDragUpdate))})},c=()=>{r||W(),n.flush()},u=f=>{r||W(),r=null,ls("onDragEnd",()=>oa(e().onDragEnd,f,t,ni.onDragEnd))};return{beforeCapture:s,beforeStart:o,start:i,update:a,flush:c,drop:u,abort:()=>{if(!r)return;const f={...Fo(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(f)}}},Ej=(e,t)=>{const n=kj(e,t);return r=>s=>o=>{if(pe(o,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(pe(o,"INITIAL_PUBLISH")){const a=o.payload.critical;n.beforeStart(a,o.payload.movementMode),s(o),n.start(a,o.payload.movementMode);return}if(pe(o,"DROP_COMPLETE")){const a=o.payload.completed.result;n.flush(),s(o),n.drop(a);return}if(s(o),pe(o,"FLUSH")){n.abort();return}const i=r.getState();i.phase==="DRAGGING"&&n.update(i.critical,i.impact)}};const Nj=e=>t=>n=>{if(!pe(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&W(),e.dispatch(Bu({completed:r.completed}))},Dj=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return s=>o=>{if((pe(o,"FLUSH")||pe(o,"DROP_COMPLETE")||pe(o,"DROP_ANIMATION_FINISHED"))&&r(),s(o),!pe(o,"DROP_ANIMATE"))return;const i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(hy())}};n=requestAnimationFrame(()=>{n=null,t=Dt(window,[i])})}};var Rj=e=>()=>t=>n=>{(pe(n,"DROP_COMPLETE")||pe(n,"FLUSH")||pe(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},Pj=e=>{let t=!1;return()=>n=>r=>{if(pe(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(pe(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(pe(r,"DROP_COMPLETE")){t=!1;const s=r.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const Aj=e=>pe(e,"DROP_COMPLETE")||pe(e,"DROP_ANIMATE")||pe(e,"FLUSH");var Ij=e=>t=>n=>r=>{if(Aj(r)){e.stop(),n(r);return}if(pe(r,"INITIAL_PUBLISH")){n(r);const s=t.getState();s.phase!=="DRAGGING"&&W(),e.start(s);return}n(r),e.scroll(t.getState())};const Tj=e=>t=>n=>{if(t(n),!pe(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(my({reason:r.reason})))},Oj=Tg;var Lj=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:s,autoScroller:o})=>Ig(qC,Oj(D1(uj(n),Rj(e),cj(e),gj,Nj,Dj,Tj,Ij(o),_j,Pj(t),Ej(r,s))));const ia=()=>({additions:{},removals:{},modified:{}});function Fj({registry:e,callbacks:t}){let n=ia(),r=null;const s=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:u,modified:d}=n,f=Object.keys(c).map(h=>e.draggable.getById(h).getDimension($e)).sort((h,v)=>h.descriptor.index-v.descriptor.index),p=Object.keys(d).map(h=>{const x=e.droppable.getById(h).callbacks.getScrollWhileDragging();return{droppableId:h,scroll:x}}),m={additions:f,removals:Object.keys(u),modified:p};n=ia(),t.publish(m)}))};return{add:c=>{const u=c.descriptor.id;n.additions[u]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],s()},remove:c=>{const u=c.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],s()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=ia())}}}var xy=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const s=ht({x:t,y:e},{x:r,y:n});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},_y=()=>{const e=document.documentElement;return e||W(),e},by=()=>{const e=_y();return xy({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Mj=()=>{const e=vy(),t=by(),n=e.y,r=e.x,s=_y(),o=s.clientWidth,i=s.clientHeight,a=r+o,c=n+i;return{frame:Mt({top:n,left:r,right:a,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:$e,displacement:$e}}}},Bj=({critical:e,scrollOptions:t,registry:n})=>{const r=Mj(),s=r.scroll.current,o=e.droppable,i=n.droppable.getAllByType(o.type).map(d=>d.callbacks.getDimensionAndWatchScroll(s,t)),a=n.draggable.getAllByType(e.draggable.type).map(d=>d.getDimension(s));return{dimensions:{draggables:Qg(a),droppables:Kg(i)},critical:e,viewport:r}};function dp(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var zj=(e,t)=>{let n=null;const r=Fj({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=(p,m)=>{e.droppable.exists(p)||W(),n&&t.updateDroppableIsEnabled({id:p,isEnabled:m})},o=(p,m)=>{n&&(e.droppable.exists(p)||W(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:m}))},i=(p,m)=>{n&&(e.droppable.exists(p)||W(),t.updateDroppableScroll({id:p,newScroll:m}))},a=(p,m)=>{n&&e.droppable.getById(p).callbacks.scroll(m)},c=()=>{if(!n)return;r.stop();const p=n.critical.droppable;e.droppable.getAllByType(p.type).forEach(m=>m.callbacks.dragStopped()),n.unsubscribe(),n=null},u=p=>{n||W();const m=n.critical.draggable;p.type==="ADDITION"&&dp(e,m,p.value)&&r.add(p.value),p.type==="REMOVAL"&&dp(e,m,p.value)&&r.remove(p.value)};return{updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:i,startPublishing:p=>{n&&W();const m=e.draggable.getById(p.draggableId),h=e.droppable.getById(m.descriptor.droppableId),v={draggable:m.descriptor,droppable:h.descriptor},x=e.subscribe(u);return n={critical:v,unsubscribe:x},Bj({critical:v,registry:e,scrollOptions:p.scrollOptions})},stopPublishing:c}},wy=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",$j=e=>{window.scrollBy(e.x,e.y)};const Uj=ze(e=>ul(e).filter(t=>!(!t.isEnabled||!t.frame))),Wj=(e,t)=>Uj(t).find(r=>(r.frame||W(),oy(r.frame.pageMarginBox)(e)))||null;var Hj=({center:e,destination:t,droppables:n})=>{if(t){const s=n[t];return s.frame?s:null}return Wj(e,n)};const Zs={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Vj=(e,t,n=()=>Zs)=>{const r=n(),s=e[t.size]*r.startFromPercentage,o=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:s,maxScrollValueAt:o}},Sy=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},$u=1,qj=(e,t,n=()=>Zs)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return $u;const o=1-Sy({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=r.maxPixelScroll*r.ease(o);return Math.ceil(i)},Gj=(e,t,n)=>{const r=n(),s=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,i=t,a=o,u=Date.now()-i;if(u>=o)return e;if(u<s)return $u;const d=Sy({startOfRange:s,endOfRange:a,current:u}),f=e*r.ease(d);return Math.ceil(f)},fp=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:s})=>{const o=qj(e,t,s);return o===0?0:r?Math.max(Gj(o,n,s),$u):o},pp=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const i=Vj(e,r,o);return t[r.end]<t[r.start]?fp({distanceToEdge:t[r.end],thresholds:i,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o}):-1*fp({distanceToEdge:t[r.start],thresholds:i,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o})},Kj=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,s=t.width>e.width;return!s&&!r?n:s&&r?null:{x:s?0:n.x,y:r?0:n.y}};const Qj=Gg(e=>e===0?0:e);var Cy=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const i={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},a=pp({container:t,distanceToEdges:i,dragStartTime:e,axis:Iu,shouldUseTimeDampening:s,getAutoScrollerOptions:o}),c=pp({container:t,distanceToEdges:i,dragStartTime:e,axis:Zg,shouldUseTimeDampening:s,getAutoScrollerOptions:o}),u=Qj({x:c,y:a});if(Rn(u,$e))return null;const d=Kj({container:t,subject:n,proposedScroll:u});return d?Rn(d,$e)?null:d:null};const Yj=Gg(e=>e===0?0:e>0?1:-1),Uu=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const s=He(t,r),o={x:e(s.x,n.x),y:e(s.y,n.y)};return Rn(o,$e)?null:o}})(),jy=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},s=Yj(n),o=Uu({max:r,current:t,change:s});return!o||s.x!==0&&o.x===0||s.y!==0&&o.y===0},Wu=(e,t)=>jy({current:e.scroll.current,max:e.scroll.max,change:t}),Jj=(e,t)=>{if(!Wu(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return Uu({current:r,max:n,change:t})},Hu=(e,t)=>{const n=e.frame;return n?jy({current:n.scroll.current,max:n.scroll.max,change:t}):!1},Zj=(e,t)=>{const n=e.frame;return!n||!Hu(e,t)?null:Uu({current:n.scroll.current,max:n.scroll.max,change:t})};var Xj=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const i=Cy({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o});return i&&Wu(e,i)?i:null},ek=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const i=e.frame;if(!i)return null;const a=Cy({dragStartTime:r,container:i.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o});return a&&Hu(e,a)?a:null},mp=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:s,getAutoScrollerOptions:o})=>{const i=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const f=e.viewport,p=Xj({dragStartTime:t,viewport:f,subject:c,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:o});if(p){r(p);return}}const u=Hj({center:i,destination:yt(e.impact),droppables:e.dimensions.droppables});if(!u)return;const d=ek({dragStartTime:t,droppable:u,subject:c,center:i,shouldUseTimeDampening:n,getAutoScrollerOptions:o});d&&s(u.descriptor.id,d)},tk=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Zs})=>{const r=Gs(e),s=Gs(t);let o=null;const i=u=>{o||W();const{shouldUseTimeDampening:d,dragStartTime:f}=o;mp({state:u,scrollWindow:r,scrollDroppable:s,dragStartTime:f,shouldUseTimeDampening:d,getAutoScrollerOptions:n})};return{start:u=>{o&&W();const d=Date.now();let f=!1;const p=()=>{f=!0};mp({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p,getAutoScrollerOptions:n}),o={dragStartTime:d,shouldUseTimeDampening:f},f&&i(u)},stop:()=>{o&&(r.cancel(),s.cancel(),o=null)},scroll:i}},nk=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(a,c)=>{const u=He(a.current.client.selection,c);e({client:u})},s=(a,c)=>{if(!Hu(a,c))return c;const u=Zj(a,c);if(!u)return t(a.descriptor.id,c),null;const d=ht(c,u);return t(a.descriptor.id,d),ht(c,d)},o=(a,c,u)=>{if(!a||!Wu(c,u))return u;const d=Jj(c,u);if(!d)return n(u),null;const f=ht(u,d);return n(f),ht(u,f)};return a=>{const c=a.scrollJumpRequest;if(!c)return;const u=yt(a.impact);u||W();const d=s(a.dimensions.droppables[u],c);if(!d)return;const f=a.viewport,p=o(a.isWindowScrollAllowed,f,d);p&&r(a,p)}},rk=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const s=tk({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),o=nk({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){s.scroll(c);return}c.scrollJumpRequest&&o(c)}},start:s.start,stop:s.stop}};const Br="data-rfd",zr=(()=>{const e=`${Br}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),xc=(()=>{const e=`${Br}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),sk=(()=>{const e=`${Br}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),hp={contextId:`${Br}-scroll-container-context-id`},ok=e=>t=>`[${t}="${e}"]`,as=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),ik="pointer-events: none;";var lk=e=>{const t=ok(e),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(zr.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:ik,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${ks.outOfTheWay};
    `;return{selector:t(xc.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),s={selector:t(sk.contextId),styles:{always:"overflow-anchor: none;"}},i=[r,n,s,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:as(i,"always"),resting:as(i,"resting"),dragging:as(i,"dragging"),dropAnimating:as(i,"dropAnimating"),userCancel:as(i,"userCancel")}};const vt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect,la=()=>{const e=document.querySelector("head");return e||W(),e},gp=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function ak(e,t){const n=ue(()=>lk(e),[e]),r=w.useRef(null),s=w.useRef(null),o=K(ze(f=>{const p=s.current;p||W(),p.textContent=f}),[]),i=K(f=>{const p=r.current;p||W(),p.textContent=f},[]);vt(()=>{!r.current&&!s.current||W();const f=gp(t),p=gp(t);return r.current=f,s.current=p,f.setAttribute(`${Br}-always`,e),p.setAttribute(`${Br}-dynamic`,e),la().appendChild(f),la().appendChild(p),i(n.always),o(n.resting),()=>{const m=h=>{const v=h.current;v||W(),la().removeChild(v),h.current=null};m(r),m(s)}},[t,i,o,n.always,n.resting,e]);const a=K(()=>o(n.dragging),[o,n.dragging]),c=K(f=>{if(f==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),u=K(()=>{s.current&&o(n.resting)},[o,n.resting]);return ue(()=>({dragging:a,dropping:c,resting:u}),[a,c,u])}function ky(e,t){return Array.from(e.querySelectorAll(t))}var Ey=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function ml(e){return e instanceof Ey(e).HTMLElement}function ck(e,t){const n=`[${zr.contextId}="${e}"]`,r=ky(document,n);if(!r.length)return null;const s=r.find(o=>o.getAttribute(zr.draggableId)===t);return!s||!ml(s)?null:s}function uk(e){const t=w.useRef({}),n=w.useRef(null),r=w.useRef(null),s=w.useRef(!1),o=K(function(p,m){const h={id:p,focus:m};return t.current[p]=h,function(){const x=t.current;x[p]!==h&&delete x[p]}},[]),i=K(function(p){const m=ck(e,p);m&&m!==document.activeElement&&m.focus()},[e]),a=K(function(p,m){n.current===p&&(n.current=m)},[]),c=K(function(){r.current||s.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const p=n.current;p&&i(p)}))},[i]),u=K(function(p){n.current=null;const m=document.activeElement;m&&m.getAttribute(zr.draggableId)===p&&(n.current=p)},[]);return vt(()=>(s.current=!0,function(){s.current=!1;const p=r.current;p&&cancelAnimationFrame(p)}),[]),ue(()=>({register:o,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:a}),[o,u,c,a])}function dk(){const e={draggables:{},droppables:{}},t=[];function n(f){return t.push(f),function(){const m=t.indexOf(f);m!==-1&&t.splice(m,1)}}function r(f){t.length&&t.forEach(p=>p(f))}function s(f){return e.draggables[f]||null}function o(f){const p=s(f);return p||W(),p}const i={register:f=>{e.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:(f,p)=>{const m=e.draggables[p.descriptor.id];m&&m.uniqueId===f.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:f=>{const p=f.descriptor.id,m=s(p);m&&f.uniqueId===m.uniqueId&&(delete e.draggables[p],e.droppables[f.descriptor.droppableId]&&r({type:"REMOVAL",value:f}))},getById:o,findById:s,exists:f=>!!s(f),getAllByType:f=>Object.values(e.draggables).filter(p=>p.descriptor.type===f)};function a(f){return e.droppables[f]||null}function c(f){const p=a(f);return p||W(),p}const u={register:f=>{e.droppables[f.descriptor.id]=f},unregister:f=>{const p=a(f.descriptor.id);p&&f.uniqueId===p.uniqueId&&delete e.droppables[f.descriptor.id]},getById:c,findById:a,exists:f=>!!a(f),getAllByType:f=>Object.values(e.droppables).filter(p=>p.descriptor.type===f)};function d(){e.draggables={},e.droppables={},t.length=0}return{draggable:i,droppable:u,subscribe:n,clean:d}}function fk(){const e=ue(dk,[]);return w.useEffect(()=>function(){e.clean()},[e]),e}var Vu=ce.createContext(null),Fi=()=>{const e=document.body;return e||W(),e};const pk={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},mk=e=>`rfd-announcement-${e}`;function hk(e){const t=ue(()=>mk(e),[e]),n=w.useRef(null);return w.useEffect(function(){const o=document.createElement("div");return n.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),Ii(o.style,pk),Fi().appendChild(o),function(){setTimeout(function(){const c=Fi();c.contains(o)&&c.removeChild(o),o===n.current&&(n.current=null)})}},[t]),K(s=>{const o=n.current;if(o){o.textContent=s;return}},[])}const gk={separator:"::"};function qu(e,t=gk){const n=ce.useId();return ue(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function yk({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function vk({contextId:e,text:t}){const n=qu("hidden-text",{separator:"-"}),r=ue(()=>yk({contextId:e,uniqueId:n}),[n,e]);return w.useEffect(function(){const o=document.createElement("div");return o.id=r,o.textContent=t,o.style.display="none",Fi().appendChild(o),function(){const a=Fi();a.contains(o)&&a.removeChild(o)}},[r,t]),r}var hl=ce.createContext(null);function Ny(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),t}function xk(){let e=null;function t(){return!!e}function n(i){return i===e}function r(i){e&&W();const a={abandon:i};return e=a,a}function s(){e||W(),e=null}function o(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:n,claim:r,release:s,tryAbandon:o}}function Xs(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const _k=9,bk=13,Gu=27,Dy=32,wk=33,Sk=34,Ck=35,jk=36,kk=37,Ek=38,Nk=39,Dk=40,Rk={[bk]:!0,[_k]:!0};var Ry=e=>{Rk[e.keyCode]&&e.preventDefault()};const gl=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),Py=0,yp=5;function Pk(e,t){return Math.abs(t.x-e.x)>=yp||Math.abs(t.y-e.y)>=yp}const vp={type:"IDLE"};function Ak({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:s=>{const{button:o,clientX:i,clientY:a}=s;if(o!==Py)return;const c={x:i,y:a},u=n();if(u.type==="DRAGGING"){s.preventDefault(),u.actions.move(c);return}u.type!=="PENDING"&&W();const d=u.point;if(!Pk(d,c))return;s.preventDefault();const f=u.actions.fluidLift(c);r({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:s=>{const o=n();if(o.type!=="DRAGGING"){e();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:s=>{n().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:s=>{if(n().type==="PENDING"){e();return}if(s.keyCode===Gu){s.preventDefault(),e();return}Ry(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:s=>{const o=n();if(o.type==="IDLE"&&W(),o.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:gl,fn:e}]}function Ik(e){const t=w.useRef(vp),n=w.useRef(Dn),r=ue(()=>({eventName:"mousedown",fn:function(f){if(f.defaultPrevented||f.button!==Py||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const p=e.findClosestDraggableId(f);if(!p)return;const m=e.tryGetLock(p,i,{sourceEvent:f});if(!m)return;f.preventDefault();const h={x:f.clientX,y:f.clientY};n.current(),u(m,h)}}),[e]),s=ue(()=>({eventName:"webkitmouseforcewillbegin",fn:d=>{if(d.defaultPrevented)return;const f=e.findClosestDraggableId(d);if(!f)return;const p=e.findOptionsForDraggable(f);p&&(p.shouldRespectForcePress||e.canGetLock(f)&&d.preventDefault())}}),[e]),o=K(function(){const f={passive:!1,capture:!0};n.current=Dt(window,[s,r],f)},[s,r]),i=K(()=>{t.current.type!=="IDLE"&&(t.current=vp,n.current(),o())},[o]),a=K(()=>{const d=t.current;i(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[i]),c=K(function(){const f={capture:!0,passive:!1},p=Ak({cancel:a,completed:i,getPhase:()=>t.current,setPhase:m=>{t.current=m}});n.current=Dt(window,p,f)},[a,i]),u=K(function(f,p){t.current.type!=="IDLE"&&W(),t.current={type:"PENDING",point:p,actions:f},c()},[c]);vt(function(){return o(),function(){n.current()}},[o])}function Tk(){}const Ok={[Sk]:!0,[wk]:!0,[jk]:!0,[Ck]:!0};function Lk(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:s=>{if(s.keyCode===Gu){s.preventDefault(),n();return}if(s.keyCode===Dy){s.preventDefault(),r();return}if(s.keyCode===Dk){s.preventDefault(),e.moveDown();return}if(s.keyCode===Ek){s.preventDefault(),e.moveUp();return}if(s.keyCode===Nk){s.preventDefault(),e.moveRight();return}if(s.keyCode===kk){s.preventDefault(),e.moveLeft();return}if(Ok[s.keyCode]){s.preventDefault();return}Ry(s)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:gl,fn:n}]}function Fk(e){const t=w.useRef(Tk),n=ue(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==Dy)return;const i=e.findClosestDraggableId(o);if(!i)return;const a=e.tryGetLock(i,d,{sourceEvent:o});if(!a)return;o.preventDefault();let c=!0;const u=a.snapLift();t.current();function d(){c||W(),c=!1,t.current(),r()}t.current=Dt(window,Lk(u,d),{capture:!0,passive:!1})}}),[e]),r=K(function(){const o={passive:!1,capture:!0};t.current=Dt(window,[n],o)},[n]);vt(function(){return r(),function(){t.current()}},[r])}const aa={type:"IDLE"},Mk=120,Bk=.15;function zk({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===Gu&&n.preventDefault(),e()}},{eventName:gl,fn:e}]}function $k({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const s=n();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;const{clientX:o,clientY:i}=r.touches[0],a={x:o,y:i};r.preventDefault(),s.actions.move(a)}},{eventName:"touchend",fn:r=>{const s=n();if(s.type!=="DRAGGING"){e();return}r.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const s=n();s.type==="IDLE"&&W();const o=r.touches[0];if(!o||!(o.force>=Bk))return;const a=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){a&&e();return}if(a){if(s.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:gl,fn:e}]}function Uk(e){const t=w.useRef(aa),n=w.useRef(Dn),r=K(function(){return t.current},[]),s=K(function(m){t.current=m},[]),o=ue(()=>({eventName:"touchstart",fn:function(m){if(m.defaultPrevented)return;const h=e.findClosestDraggableId(m);if(!h)return;const v=e.tryGetLock(h,a,{sourceEvent:m});if(!v)return;const x=m.touches[0],{clientX:g,clientY:y}=x,b={x:g,y};n.current(),f(v,b)}}),[e]),i=K(function(){const m={capture:!0,passive:!1};n.current=Dt(window,[o],m)},[o]),a=K(()=>{const p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),s(aa),n.current(),i())},[i,s]),c=K(()=>{const p=t.current;a(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[a]),u=K(function(){const m={capture:!0,passive:!1},h={cancel:c,completed:a,getPhase:r},v=Dt(window,$k(h),m),x=Dt(window,zk(h),m);n.current=function(){v(),x()}},[c,r,a]),d=K(function(){const m=r();m.type!=="PENDING"&&W();const h=m.actions.fluidLift(m.point);s({type:"DRAGGING",actions:h,hasMoved:!1})},[r,s]),f=K(function(m,h){r().type!=="IDLE"&&W();const v=setTimeout(d,Mk);s({type:"PENDING",point:h,actions:m,longPressTimerId:v}),u()},[u,r,s,d]);vt(function(){return i(),function(){n.current();const h=r();h.type==="PENDING"&&(clearTimeout(h.longPressTimerId),s(aa))}},[r,i,s]),vt(function(){return Dt(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Wk=["input","button","textarea","select","option","optgroup","video","audio"];function Ay(e,t){if(t==null)return!1;if(Wk.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:Ay(e,t.parentElement)}function Hk(e,t){const n=t.target;return ml(n)?Ay(e,n):!1}var Vk=e=>Mt(e.getBoundingClientRect()).center;function qk(e){return e instanceof Ey(e).Element}const Gk=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function Iy(e,t){return e==null?null:e[Gk](t)?e:Iy(e.parentElement,t)}function Kk(e,t){return e.closest?e.closest(t):Iy(e,t)}function Qk(e){return`[${zr.contextId}="${e}"]`}function Yk(e,t){const n=t.target;if(!qk(n))return null;const r=Qk(e),s=Kk(n,r);return!s||!ml(s)?null:s}function Jk(e,t){const n=Yk(e,t);return n?n.getAttribute(zr.draggableId):null}function Zk(e,t){const n=`[${xc.contextId}="${e}"]`,s=ky(document,n).find(o=>o.getAttribute(xc.id)===t);return!s||!ml(s)?null:s}function Xk(e){e.preventDefault()}function Mo({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function Ty({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const s=n.draggable.findById(r);return!(!s||!s.options.isEnabled||!wy(t.getState(),r))}function eE({lockAPI:e,contextId:t,store:n,registry:r,draggableId:s,forceSensorStop:o,sourceEvent:i}){if(!Ty({lockAPI:e,store:n,registry:r,draggableId:s}))return null;const c=r.draggable.getById(s),u=Zk(t,c.descriptor.id);if(!u||i&&!c.options.canDragInteractiveElements&&Hk(u,i))return null;const d=e.claim(o||Dn);let f="PRE_DRAG";function p(){return c.options.shouldRespectForcePress}function m(){return e.isActive(d)}function h(E,N){Mo({expected:E,phase:f,isLockActive:m,shouldWarn:!0})&&n.dispatch(N())}const v=h.bind(null,"DRAGGING");function x(E){function N(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(N(),W()),n.dispatch(KC(E.liftActionArgs)),f="DRAGGING";function R(C,_={shouldBlockNextClick:!1}){if(E.cleanup(),_.shouldBlockNextClick){const S=Dt(window,[{eventName:"click",fn:Xk,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(S)}N(),n.dispatch(my({reason:C}))}return{isActive:()=>Mo({expected:"DRAGGING",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:p,drop:C=>R("DROP",C),cancel:C=>R("CANCEL",C),...E.actions}}function g(E){const N=Gs(C=>{v(()=>py({client:C}))});return{...x({liftActionArgs:{id:s,clientSelection:E,movementMode:"FLUID"},cleanup:()=>N.cancel(),actions:{move:N}}),move:N}}function y(){const E={moveUp:()=>v(rj),moveRight:()=>v(oj),moveDown:()=>v(sj),moveLeft:()=>v(ij)};return x({liftActionArgs:{id:s,clientSelection:Vk(u),movementMode:"SNAP"},cleanup:Dn,actions:E})}function b(){Mo({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!0})&&e.release()}return{isActive:()=>Mo({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:p,fluidLift:g,snapLift:y,abort:b}}const tE=[Ik,Fk,Uk];function nE({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:s}){const o=[...s?tE:[],...r||[]],i=w.useState(()=>xk())[0],a=K(function(x,g){Xs(x)&&!Xs(g)&&i.tryAbandon()},[i]);vt(function(){let x=t.getState();return t.subscribe(()=>{const y=t.getState();a(x,y),x=y})},[i,t,a]),vt(()=>i.tryAbandon,[i.tryAbandon]);const c=K(v=>Ty({lockAPI:i,registry:n,store:t,draggableId:v}),[i,n,t]),u=K((v,x,g)=>eE({lockAPI:i,registry:n,contextId:e,store:t,draggableId:v,forceSensorStop:x||null,sourceEvent:g&&g.sourceEvent?g.sourceEvent:null}),[e,i,n,t]),d=K(v=>Jk(e,v),[e]),f=K(v=>{const x=n.draggable.findById(v);return x?x.options:null},[n.draggable]),p=K(function(){i.isClaimed()&&(i.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Mu()))},[i,t]),m=K(()=>i.isClaimed(),[i]),h=ue(()=>({canGetLock:c,tryGetLock:u,findClosestDraggableId:d,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:m}),[c,u,d,f,p,m]);for(let v=0;v<o.length;v++)o[v](h)}const rE=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};nl.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),sE=e=>({...Zs,...e.autoScrollerOptions,durationDampening:{...Zs.durationDampening,...e.autoScrollerOptions}});function cs(e){return e.current||W(),e.current}function oE(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:s,dragHandleUsageInstructions:o}=e,i=w.useRef(null),a=Ny(e),c=K(()=>rE(a.current),[a]),u=K(()=>sE(a.current),[a]),d=hk(t),f=vk({contextId:t,text:o}),p=ak(t,s),m=K(S=>{cs(i).dispatch(S)},[]),h=ue(()=>qf({publishWhileDragging:YC,updateDroppableScroll:ZC,updateDroppableIsEnabled:XC,updateDroppableIsCombineEnabled:ej,collectionStarting:JC},m),[m]),v=fk(),x=ue(()=>zj(v,h),[v,h]),g=ue(()=>rk({scrollWindow:$j,scrollDroppable:x.scrollDroppable,getAutoScrollerOptions:u,...qf({move:py},m)}),[x.scrollDroppable,m,u]),y=uk(t),b=ue(()=>Lj({announce:d,autoScroller:g,dimensionMarshal:x,focusMarshal:y,getResponders:c,styleMarshal:p}),[d,g,x,y,c,p]);i.current=b;const j=K(()=>{const S=cs(i);S.getState().phase!=="IDLE"&&S.dispatch(Mu())},[]),E=K(()=>{const S=cs(i).getState();return S.phase==="DROP_ANIMATING"?!0:S.phase==="IDLE"?!1:S.isDragging},[]),N=ue(()=>({isDragging:E,tryAbort:j}),[E,j]);n(N);const R=K(S=>wy(cs(i).getState(),S),[]),C=K(()=>Un(cs(i).getState()),[]),_=ue(()=>({marshal:x,focus:y,contextId:t,canLift:R,isMovementAllowed:C,dragHandleUsageInstructionsId:f,registry:v}),[t,x,f,y,R,C,v]);return nE({contextId:t,store:b,registry:v,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),w.useEffect(()=>j,[j]),ce.createElement(hl.Provider,{value:_},ce.createElement(RS,{context:Vu,store:b},e.children))}function iE(){return ce.useId()}function Oy(e){const t=iE(),n=e.dragHandleUsageInstructions||ni.dragHandleUsageInstructions;return ce.createElement(FS,null,r=>ce.createElement(oE,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const xp={dragging:5e3,dropAnimating:4500},lE=(e,t)=>t?ks.drop(t.duration):e?ks.snap:ks.fluid,aE=(e,t)=>{if(e)return t?Js.opacity.drop:Js.opacity.combining},cE=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function uE(e){const n=e.dimension.client,{offset:r,combineWith:s,dropping:o}=e,i=!!s,a=cE(e),c=!!o,u=c?yc.drop(r,i):yc.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:lE(a,o),transform:u,opacity:aE(i,c),zIndex:c?xp.dropAnimating:xp.dragging,pointerEvents:"none"}}function dE(e){return{transform:yc.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function fE(e){return e.type==="DRAGGING"?uE(e):dE(e)}function pE(e,t,n=$e){const r=window.getComputedStyle(t),s=t.getBoundingClientRect(),o=$g(s,r),i=Ai(o,n),a={client:o,tagName:t.tagName.toLowerCase(),display:r.display},c={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:e,placeholder:a,displaceBy:c,client:o,page:i}}function mE(e){const t=qu("draggable"),{descriptor:n,registry:r,getDraggableRef:s,canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:a}=e,c=ue(()=>({canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:a}),[o,a,i]),u=K(m=>{const h=s();return h||W(),pE(n,h,m)},[n,s]),d=ue(()=>({uniqueId:t,descriptor:n,options:c,getDimension:u}),[n,u,c,t]),f=w.useRef(d),p=w.useRef(!0);vt(()=>(r.draggable.register(f.current),()=>r.draggable.unregister(f.current)),[r.draggable]),vt(()=>{if(p.current){p.current=!1;return}const m=f.current;f.current=d,r.draggable.update(d,m)},[d,r.draggable])}var Ku=ce.createContext(null);function Mi(e){const t=w.useContext(e);return t||W(),t}function hE(e){e.preventDefault()}const gE=e=>{const t=w.useRef(null),n=K((N=null)=>{t.current=N},[]),r=K(()=>t.current,[]),{contextId:s,dragHandleUsageInstructionsId:o,registry:i}=Mi(hl),{type:a,droppableId:c}=Mi(Ku),u=ue(()=>({id:e.draggableId,index:e.index,type:a,droppableId:c}),[e.draggableId,e.index,a,c]),{children:d,draggableId:f,isEnabled:p,shouldRespectForcePress:m,canDragInteractiveElements:h,isClone:v,mapped:x,dropAnimationFinished:g}=e;if(!v){const N=ue(()=>({descriptor:u,registry:i,getDraggableRef:r,canDragInteractiveElements:h,shouldRespectForcePress:m,isEnabled:p}),[u,i,r,h,m,p]);mE(N)}const y=ue(()=>p?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:hE}:null,[s,o,f,p]),b=K(N=>{x.type==="DRAGGING"&&x.dropping&&N.propertyName==="transform"&&nl.flushSync(g)},[g,x]),j=ue(()=>{const N=fE(x),R=x.type==="DRAGGING"&&x.dropping?b:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":f,style:N,onTransitionEnd:R},dragHandleProps:y}},[s,y,f,x,b,n]),E=ue(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return ce.createElement(ce.Fragment,null,d(j,x.snapshot,E))};var Ly=(e,t)=>e===t,Fy=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const yE=e=>e.combine?e.combine.draggableId:null,vE=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function xE(){const e=ze((s,o)=>({x:s,y:o})),t=ze((s,o,i=null,a=null,c=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!c,dropAnimation:c,mode:s,draggingOver:i,combineWith:a,combineTargetFor:null})),n=ze((s,o,i,a,c=null,u=null,d=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:o,offset:s,dimension:i,forceShouldAnimate:d,snapshot:t(o,a,c,u,null)}}));return(s,o)=>{if(Xs(s)){if(s.critical.draggable.id!==o.draggableId)return null;const i=s.current.client.offset,a=s.dimensions.draggables[o.draggableId],c=yt(s.impact),u=vE(s.impact),d=s.forceShouldAnimate;return n(e(i.x,i.y),s.movementMode,a,o.isClone,c,u,d)}if(s.phase==="DROP_ANIMATING"){const i=s.completed;if(i.result.draggableId!==o.draggableId)return null;const a=o.isClone,c=s.dimensions.draggables[o.draggableId],u=i.result,d=u.mode,f=Fy(u),p=yE(u),h={duration:s.dropDuration,curve:zu.drop,moveTo:s.newHomeClientOffset,opacity:p?Js.opacity.drop:null,scale:p?Js.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:c,dropping:h,draggingOver:f,combineWith:p,mode:d,forceShouldAnimate:null,snapshot:t(d,a,f,p,h)}}}return null}}function My(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const _E={mapped:{type:"SECONDARY",offset:$e,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:My(null)}};function bE(){const e=ze((i,a)=>({x:i,y:a})),t=ze(My),n=ze((i,a=null,c)=>({mapped:{type:"SECONDARY",offset:i,combineTargetFor:a,shouldAnimateDisplacement:c,snapshot:t(a)}})),r=i=>i?n($e,i,!0):null,s=(i,a,c,u)=>{const d=c.displaced.visible[i],f=!!(u.inVirtualList&&u.effected[i]),p=dl(c),m=p&&p.draggableId===i?a:null;if(!d){if(!f)return r(m);if(c.displaced.invisible[i])return null;const x=Kr(u.displacedBy.point),g=e(x.x,x.y);return n(g,m,!0)}if(f)return r(m);const h=c.displacedBy.point,v=e(h.x,h.y);return n(v,m,d.shouldAnimate)};return(i,a)=>{if(Xs(i))return i.critical.draggable.id===a.draggableId?null:s(a.draggableId,i.critical.draggable.id,i.impact,i.afterCritical);if(i.phase==="DROP_ANIMATING"){const c=i.completed;return c.result.draggableId===a.draggableId?null:s(a.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const wE=()=>{const e=xE(),t=bE();return(r,s)=>e(r,s)||t(r,s)||_E},SE={dropAnimationFinished:hy},CE=zg(wE,SE,null,{context:Vu,areStatePropsEqual:Ly})(gE);function By(e){return Mi(Ku).isUsingCloneFor===e.draggableId&&!e.isClone?null:ce.createElement(CE,e)}function Qu(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return ce.createElement(By,Ii({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const zy=e=>t=>e===t,jE=zy("scroll"),kE=zy("auto"),_p=(e,t)=>t(e.overflowX)||t(e.overflowY),EE=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return _p(n,jE)||_p(n,kE)},NE=()=>!1,$y=e=>e==null?null:e===document.body?NE()?e:null:e===document.documentElement?null:EE(e)?e:$y(e.parentElement);var _c=e=>({x:e.scrollLeft,y:e.scrollTop});const Uy=e=>e?window.getComputedStyle(e).position==="fixed"?!0:Uy(e.parentElement):!1;var DE=e=>{const t=$y(e),n=Uy(e);return{closestScrollable:t,isFixedOnPage:n}},RE=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:s,client:o,page:i,closest:a})=>{const c=(()=>{if(!a)return null;const{scrollSize:p,client:m}=a,h=xy({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:m,scrollSize:p,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:h,diff:{value:$e,displacement:$e}}}})(),u=s==="vertical"?Iu:Zg,d=Mr({page:i,withPlaceholder:null,axis:u,frame:c});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:t,client:o,page:i,frame:c,subject:d}};const PE=(e,t)=>{const n=Ug(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,s=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,i=s+t.scrollWidth,c=Du({top:r,right:i,bottom:o,left:s},n.border);return Ru({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var AE=({ref:e,descriptor:t,env:n,windowScroll:r,direction:s,isDropDisabled:o,isCombineEnabled:i,shouldClipSubject:a})=>{const c=n.closestScrollable,u=PE(e,c),d=Ai(u,r),f=(()=>{if(!c)return null;const m=Ug(c),h={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:m,page:Ai(m,r),scroll:_c(c),scrollSize:h,shouldClipSubject:a}})();return RE({descriptor:t,isEnabled:!o,isCombineEnabled:i,isFixedOnPage:n.isFixedOnPage,direction:s,client:u,page:d,closest:f})};const IE={passive:!1},TE={passive:!0};var bp=e=>e.shouldPublishImmediately?IE:TE;const Bo=e=>e&&e.env.closestScrollable||null;function OE(e){const t=w.useRef(null),n=Mi(hl),r=qu("droppable"),{registry:s,marshal:o}=n,i=Ny(e),a=ue(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=w.useRef(a),u=ue(()=>ze((j,E)=>{t.current||W();const N={x:j,y:E};o.updateDroppableScroll(a.id,N)}),[a.id,o]),d=K(()=>{const j=t.current;return!j||!j.env.closestScrollable?$e:_c(j.env.closestScrollable)},[]),f=K(()=>{const j=d();u(j.x,j.y)},[d,u]),p=ue(()=>Gs(f),[f]),m=K(()=>{const j=t.current,E=Bo(j);if(j&&E||W(),j.scrollOptions.shouldPublishImmediately){f();return}p()},[p,f]),h=K((j,E)=>{t.current&&W();const N=i.current,R=N.getDroppableRef();R||W();const C=DE(R),_={ref:R,descriptor:a,env:C,scrollOptions:E};t.current=_;const S=AE({ref:R,descriptor:a,env:C,windowScroll:j,direction:N.direction,isDropDisabled:N.isDropDisabled,isCombineEnabled:N.isCombineEnabled,shouldClipSubject:!N.ignoreContainerClipping}),k=C.closestScrollable;return k&&(k.setAttribute(hp.contextId,n.contextId),k.addEventListener("scroll",m,bp(_.scrollOptions))),S},[n.contextId,a,m,i]),v=K(()=>{const j=t.current,E=Bo(j);return j&&E||W(),_c(E)},[]),x=K(()=>{const j=t.current;j||W();const E=Bo(j);t.current=null,E&&(p.cancel(),E.removeAttribute(hp.contextId),E.removeEventListener("scroll",m,bp(j.scrollOptions)))},[m,p]),g=K(j=>{const E=t.current;E||W();const N=Bo(E);N||W(),N.scrollTop+=j.y,N.scrollLeft+=j.x},[]),y=ue(()=>({getDimensionAndWatchScroll:h,getScrollWhileDragging:v,dragStopped:x,scroll:g}),[x,h,v,g]),b=ue(()=>({uniqueId:r,descriptor:a,callbacks:y}),[y,a,r]);vt(()=>(c.current=b.descriptor,s.droppable.register(b),()=>{t.current&&x(),s.droppable.unregister(b)}),[y,a,x,b,o,s.droppable]),vt(()=>{t.current&&o.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),vt(()=>{t.current&&o.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function ca(){}const wp={width:0,height:0,margin:HS},LE=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?wp:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},FE=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=LE({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?ks.placeholder:null}},ME=e=>{const t=w.useRef(null),n=K(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:s,onClose:o,contextId:i}=e,[a,c]=w.useState(e.animate==="open");w.useEffect(()=>a?r!=="open"?(n(),c(!1),ca):t.current?ca:(t.current=setTimeout(()=>{t.current=null,c(!1)}),n):ca,[r,a,n]);const u=K(f=>{f.propertyName==="height"&&(s(),r==="close"&&o())},[r,o,s]),d=FE({isAnimatingOpenOnMount:a,animate:e.animate,placeholder:e.placeholder});return ce.createElement(e.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":i,onTransitionEnd:u,ref:e.innerRef})};var BE=ce.memo(ME);class zE extends ce.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const $E=e=>{const t=w.useContext(hl);t||W();const{contextId:n,isMovementAllowed:r}=t,s=w.useRef(null),o=w.useRef(null),{children:i,droppableId:a,type:c,mode:u,direction:d,ignoreContainerClipping:f,isDropDisabled:p,isCombineEnabled:m,snapshot:h,useClone:v,updateViewportMaxScroll:x,getContainerForClone:g}=e,y=K(()=>s.current,[]),b=K((k=null)=>{s.current=k},[]);K(()=>o.current,[]);const j=K((k=null)=>{o.current=k},[]),E=K(()=>{r()&&x({maxScroll:by()})},[r,x]);OE({droppableId:a,type:c,mode:u,direction:d,isDropDisabled:p,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:y});const N=ue(()=>ce.createElement(zE,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:k,data:P,animate:T})=>ce.createElement(BE,{placeholder:P,onClose:k,innerRef:j,animate:T,contextId:n,onTransitionEnd:E})),[n,E,e.placeholder,e.shouldAnimatePlaceholder,j]),R=ue(()=>({innerRef:b,placeholder:N,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,N,b]),C=v?v.dragging.draggableId:null,_=ue(()=>({droppableId:a,type:c,isUsingCloneFor:C}),[a,C,c]);function S(){if(!v)return null;const{dragging:k,render:P}=v,T=ce.createElement(By,{draggableId:k.draggableId,index:k.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},($,M)=>P($,M,k));return D0.createPortal(T,g())}return ce.createElement(Ku.Provider,{value:_},i(R,h),S())};function UE(){return document.body||W(),document.body}const Sp={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:UE},Wy=e=>{let t={...e},n;for(n in Sp)e[n]===void 0&&(t={...t,[n]:Sp[n]});return t},ua=(e,t)=>e===t.droppable.type,Cp=(e,t)=>t.draggables[e.draggable.id],WE=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=ze(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),r=ze((o,i,a,c,u,d)=>{const f=u.descriptor.id;if(u.descriptor.droppableId===o){const h=d?{render:d,dragging:n(u.descriptor)}:null,v={isDraggingOver:a,draggingOverWith:a?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:v,useClone:h}}if(!i)return t;if(!c)return e;const m={isDraggingOver:a,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(o,i)=>{const a=Wy(i),c=a.droppableId,u=a.type,d=!a.isDropDisabled,f=a.renderClone;if(Xs(o)){const p=o.critical;if(!ua(u,p))return t;const m=Cp(p,o.dimensions),h=yt(o.impact)===c;return r(c,d,h,h,m,f)}if(o.phase==="DROP_ANIMATING"){const p=o.completed;if(!ua(u,p.critical))return t;const m=Cp(p.critical,o.dimensions);return r(c,d,Fy(p.result)===c,yt(p.impact)===c,m,f)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const p=o.completed;if(!ua(u,p.critical))return t;const m=yt(p.impact)===c,h=!!(p.impact.at&&p.impact.at.type==="COMBINE"),v=p.critical.droppable.id===c;return m?h?e:t:v?e:t}return t}},HE={updateViewportMaxScroll:nj},yl=zg(WE,HE,(e,t,n)=>({...Wy(n),...e,...t}),{context:Vu,areStatePropsEqual:Ly})($E);var Hy={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,r)=>{e.exports=r()})(nv,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s,o=!r.document&&!!r.postMessage,i=r.IS_PAPA_WORKER||!1,a={},c=0,u={};function d(C){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(_){var S=E(_);S.chunkSize=parseInt(S.chunkSize),_.step||_.chunk||(S.chunkSize=null),this._handle=new v(S),(this._handle.streamer=this)._config=S}).call(this,C),this.parseChunk=function(_,S){var k=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<k){let T=this._config.newline;T||(P=this._config.quoteChar||'"',T=this._handle.guessLineEndings(_,P)),_=[..._.split(T).slice(k)].join(T)}this.isFirstChunk&&R(this._config.beforeFirstChunk)&&(P=this._config.beforeFirstChunk(_))!==void 0&&(_=P),this.isFirstChunk=!1,this._halted=!1;var k=this._partialLine+_,P=(this._partialLine="",this._handle.parse(k,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(_=P.meta.cursor,k=(this._finished||(this._partialLine=k.substring(_-this._baseIndex),this._baseIndex=_),P&&P.data&&(this._rowCount+=P.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),i)r.postMessage({results:P,workerId:u.WORKER_ID,finished:k});else if(R(this._config.chunk)&&!S){if(this._config.chunk(P,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=P=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(P.data),this._completeResults.errors=this._completeResults.errors.concat(P.errors),this._completeResults.meta=P.meta),this._completed||!k||!R(this._config.complete)||P&&P.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),k||P&&P.meta.paused||this._nextChunk(),P}this._halted=!0},this._sendError=function(_){R(this._config.error)?this._config.error(_):i&&this._config.error&&r.postMessage({workerId:u.WORKER_ID,error:_,finished:!1})}}function f(C){var _;(C=C||{}).chunkSize||(C.chunkSize=u.RemoteChunkSize),d.call(this,C),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(S){this._input=S,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(_=new XMLHttpRequest,this._config.withCredentials&&(_.withCredentials=this._config.withCredentials),o||(_.onload=N(this._chunkLoaded,this),_.onerror=N(this._chunkError,this)),_.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var S,k=this._config.downloadRequestHeaders;for(S in k)_.setRequestHeader(S,k[S])}var P;this._config.chunkSize&&(P=this._start+this._config.chunkSize-1,_.setRequestHeader("Range","bytes="+this._start+"-"+P));try{_.send(this._config.downloadRequestBody)}catch(T){this._chunkError(T.message)}o&&_.status===0&&this._chunkError()}},this._chunkLoaded=function(){_.readyState===4&&(_.status<200||400<=_.status?this._chunkError():(this._start+=this._config.chunkSize||_.responseText.length,this._finished=!this._config.chunkSize||this._start>=(S=>(S=S.getResponseHeader("Content-Range"))!==null?parseInt(S.substring(S.lastIndexOf("/")+1)):-1)(_),this.parseChunk(_.responseText)))},this._chunkError=function(S){S=_.statusText||S,this._sendError(new Error(S))}}function p(C){(C=C||{}).chunkSize||(C.chunkSize=u.LocalChunkSize),d.call(this,C);var _,S,k=typeof FileReader<"u";this.stream=function(P){this._input=P,S=P.slice||P.webkitSlice||P.mozSlice,k?((_=new FileReader).onload=N(this._chunkLoaded,this),_.onerror=N(this._chunkError,this)):_=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var P=this._input,T=(this._config.chunkSize&&(T=Math.min(this._start+this._config.chunkSize,this._input.size),P=S.call(P,this._start,T)),_.readAsText(P,this._config.encoding));k||this._chunkLoaded({target:{result:T}})},this._chunkLoaded=function(P){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(P.target.result)},this._chunkError=function(){this._sendError(_.error)}}function m(C){var _;d.call(this,C=C||{}),this.stream=function(S){return _=S,this._nextChunk()},this._nextChunk=function(){var S,k;if(!this._finished)return S=this._config.chunkSize,_=S?(k=_.substring(0,S),_.substring(S)):(k=_,""),this._finished=!_,this.parseChunk(k)}}function h(C){d.call(this,C=C||{});var _=[],S=!0,k=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(P){this._input=P,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){k&&_.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),_.length?this.parseChunk(_.shift()):S=!0},this._streamData=N(function(P){try{_.push(typeof P=="string"?P:P.toString(this._config.encoding)),S&&(S=!1,this._checkIsFinished(),this.parseChunk(_.shift()))}catch(T){this._streamError(T)}},this),this._streamError=N(function(P){this._streamCleanUp(),this._sendError(P)},this),this._streamEnd=N(function(){this._streamCleanUp(),k=!0,this._streamData("")},this),this._streamCleanUp=N(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(C){var _,S,k,P,T=Math.pow(2,53),$=-T,M=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,F=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,H=this,D=0,A=0,L=!1,O=!1,B=[],U={data:[],errors:[],meta:{}};function J(se){return C.skipEmptyLines==="greedy"?se.join("").trim()==="":se.length===1&&se[0].length===0}function ee(){if(U&&k&&(Ee("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),k=!1),C.skipEmptyLines&&(U.data=U.data.filter(function(oe){return!J(oe)})),ae()){let oe=function(ge,G){R(C.transformHeader)&&(ge=C.transformHeader(ge,G)),B.push(ge)};var re=oe;if(U)if(Array.isArray(U.data[0])){for(var se=0;ae()&&se<U.data.length;se++)U.data[se].forEach(oe);U.data.splice(0,1)}else U.data.forEach(oe)}function ie(oe,ge){for(var G=C.header?{}:[],q=0;q<oe.length;q++){var Q=q,te=oe[q],te=((X,Z)=>(Re=>(C.dynamicTypingFunction&&C.dynamicTyping[Re]===void 0&&(C.dynamicTyping[Re]=C.dynamicTypingFunction(Re)),(C.dynamicTyping[Re]||C.dynamicTyping)===!0))(X)?Z==="true"||Z==="TRUE"||Z!=="false"&&Z!=="FALSE"&&((Re=>{if(M.test(Re)&&(Re=parseFloat(Re),$<Re&&Re<T))return 1})(Z)?parseFloat(Z):F.test(Z)?new Date(Z):Z===""?null:Z):Z)(Q=C.header?q>=B.length?"__parsed_extra":B[q]:Q,te=C.transform?C.transform(te,Q):te);Q==="__parsed_extra"?(G[Q]=G[Q]||[],G[Q].push(te)):G[Q]=te}return C.header&&(q>B.length?Ee("FieldMismatch","TooManyFields","Too many fields: expected "+B.length+" fields but parsed "+q,A+ge):q<B.length&&Ee("FieldMismatch","TooFewFields","Too few fields: expected "+B.length+" fields but parsed "+q,A+ge)),G}var he;U&&(C.header||C.dynamicTyping||C.transform)&&(he=1,!U.data.length||Array.isArray(U.data[0])?(U.data=U.data.map(ie),he=U.data.length):U.data=ie(U.data,0),C.header&&U.meta&&(U.meta.fields=B),A+=he)}function ae(){return C.header&&B.length===0}function Ee(se,ie,he,re){se={type:se,code:ie,message:he},re!==void 0&&(se.row=re),U.errors.push(se)}R(C.step)&&(P=C.step,C.step=function(se){U=se,ae()?ee():(ee(),U.data.length!==0&&(D+=se.data.length,C.preview&&D>C.preview?S.abort():(U.data=U.data[0],P(U,H))))}),this.parse=function(se,ie,he){var re=C.quoteChar||'"',re=(C.newline||(C.newline=this.guessLineEndings(se,re)),k=!1,C.delimiter?R(C.delimiter)&&(C.delimiter=C.delimiter(se),U.meta.delimiter=C.delimiter):((re=((oe,ge,G,q,Q)=>{var te,X,Z,Re;Q=Q||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var dn=0;dn<Q.length;dn++){for(var wt,Jt=Q[dn],Le=0,St=0,be=0,Ue=(Z=void 0,new g({comments:q,delimiter:Jt,newline:ge,preview:10}).parse(oe)),Ct=0;Ct<Ue.data.length;Ct++)G&&J(Ue.data[Ct])?be++:(wt=Ue.data[Ct].length,St+=wt,Z===void 0?Z=wt:0<wt&&(Le+=Math.abs(wt-Z),Z=wt));0<Ue.data.length&&(St/=Ue.data.length-be),(X===void 0||Le<=X)&&(Re===void 0||Re<St)&&1.99<St&&(X=Le,te=Jt,Re=St)}return{successful:!!(C.delimiter=te),bestDelimiter:te}})(se,C.newline,C.skipEmptyLines,C.comments,C.delimitersToGuess)).successful?C.delimiter=re.bestDelimiter:(k=!0,C.delimiter=u.DefaultDelimiter),U.meta.delimiter=C.delimiter),E(C));return C.preview&&C.header&&re.preview++,_=se,S=new g(re),U=S.parse(_,ie,he),ee(),L?{meta:{paused:!0}}:U||{meta:{paused:!1}}},this.paused=function(){return L},this.pause=function(){L=!0,S.abort(),_=R(C.chunk)?"":_.substring(S.getCharIndex())},this.resume=function(){H.streamer._halted?(L=!1,H.streamer.parseChunk(_,!0)):setTimeout(H.resume,3)},this.aborted=function(){return O},this.abort=function(){O=!0,S.abort(),U.meta.aborted=!0,R(C.complete)&&C.complete(U),_=""},this.guessLineEndings=function(oe,re){oe=oe.substring(0,1048576);var re=new RegExp(x(re)+"([^]*?)"+x(re),"gm"),he=(oe=oe.replace(re,"")).split("\r"),re=oe.split(`
`),oe=1<re.length&&re[0].length<he[0].length;if(he.length===1||oe)return`
`;for(var ge=0,G=0;G<he.length;G++)he[G][0]===`
`&&ge++;return ge>=he.length/2?`\r
`:"\r"}}function x(C){return C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(C){var _=(C=C||{}).delimiter,S=C.newline,k=C.comments,P=C.step,T=C.preview,$=C.fastMode,M=null,F=!1,H=C.quoteChar==null?'"':C.quoteChar,D=H;if(C.escapeChar!==void 0&&(D=C.escapeChar),(typeof _!="string"||-1<u.BAD_DELIMITERS.indexOf(_))&&(_=","),k===_)throw new Error("Comment character same as delimiter");k===!0?k="#":(typeof k!="string"||-1<u.BAD_DELIMITERS.indexOf(k))&&(k=!1),S!==`
`&&S!=="\r"&&S!==`\r
`&&(S=`
`);var A=0,L=!1;this.parse=function(O,B,U){if(typeof O!="string")throw new Error("Input must be a string");var J=O.length,ee=_.length,ae=S.length,Ee=k.length,se=R(P),ie=[],he=[],re=[],oe=A=0;if(!O)return Le();if($||$!==!1&&O.indexOf(H)===-1){for(var ge=O.split(S),G=0;G<ge.length;G++){if(re=ge[G],A+=re.length,G!==ge.length-1)A+=S.length;else if(U)return Le();if(!k||re.substring(0,Ee)!==k){if(se){if(ie=[],Re(re.split(_)),St(),L)return Le()}else Re(re.split(_));if(T&&T<=G)return ie=ie.slice(0,T),Le(!0)}}return Le()}for(var q=O.indexOf(_,A),Q=O.indexOf(S,A),te=new RegExp(x(D)+x(H),"g"),X=O.indexOf(H,A);;)if(O[A]===H)for(X=A,A++;;){if((X=O.indexOf(H,X+1))===-1)return U||he.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ie.length,index:A}),wt();if(X===J-1)return wt(O.substring(A,X).replace(te,H));if(H===D&&O[X+1]===D)X++;else if(H===D||X===0||O[X-1]!==D){q!==-1&&q<X+1&&(q=O.indexOf(_,X+1));var Z=dn((Q=Q!==-1&&Q<X+1?O.indexOf(S,X+1):Q)===-1?q:Math.min(q,Q));if(O.substr(X+1+Z,ee)===_){re.push(O.substring(A,X).replace(te,H)),O[A=X+1+Z+ee]!==H&&(X=O.indexOf(H,A)),q=O.indexOf(_,A),Q=O.indexOf(S,A);break}if(Z=dn(Q),O.substring(X+1+Z,X+1+Z+ae)===S){if(re.push(O.substring(A,X).replace(te,H)),Jt(X+1+Z+ae),q=O.indexOf(_,A),X=O.indexOf(H,A),se&&(St(),L))return Le();if(T&&ie.length>=T)return Le(!0);break}he.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ie.length,index:A}),X++}}else if(k&&re.length===0&&O.substring(A,A+Ee)===k){if(Q===-1)return Le();A=Q+ae,Q=O.indexOf(S,A),q=O.indexOf(_,A)}else if(q!==-1&&(q<Q||Q===-1))re.push(O.substring(A,q)),A=q+ee,q=O.indexOf(_,A);else{if(Q===-1)break;if(re.push(O.substring(A,Q)),Jt(Q+ae),se&&(St(),L))return Le();if(T&&ie.length>=T)return Le(!0)}return wt();function Re(be){ie.push(be),oe=A}function dn(be){var Ue=0;return Ue=be!==-1&&(be=O.substring(X+1,be))&&be.trim()===""?be.length:Ue}function wt(be){return U||(be===void 0&&(be=O.substring(A)),re.push(be),A=J,Re(re),se&&St()),Le()}function Jt(be){A=be,Re(re),re=[],Q=O.indexOf(S,A)}function Le(be){if(C.header&&!B&&ie.length&&!F){var Ue=ie[0],Ct=Object.create(null),ar=new Set(Ue);let Zu=!1;for(let cr=0;cr<Ue.length;cr++){let Wt=Ue[cr];if(Ct[Wt=R(C.transformHeader)?C.transformHeader(Wt,cr):Wt]){let Jr,Xu=Ct[Wt];for(;Jr=Wt+"_"+Xu,Xu++,ar.has(Jr););ar.add(Jr),Ue[cr]=Jr,Ct[Wt]++,Zu=!0,(M=M===null?{}:M)[Jr]=Wt}else Ct[Wt]=1,Ue[cr]=Wt;ar.add(Wt)}Zu&&console.warn("Duplicate headers found and renamed."),F=!0}return{data:ie,errors:he,meta:{delimiter:_,linebreak:S,aborted:L,truncated:!!be,cursor:oe+(B||0),renamedHeaders:M}}}function St(){P(Le()),ie=[],he=[]}},this.abort=function(){L=!0},this.getCharIndex=function(){return A}}function y(C){var _=C.data,S=a[_.workerId],k=!1;if(_.error)S.userError(_.error,_.file);else if(_.results&&_.results.data){var P={abort:function(){k=!0,b(_.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:j,resume:j};if(R(S.userStep)){for(var T=0;T<_.results.data.length&&(S.userStep({data:_.results.data[T],errors:_.results.errors,meta:_.results.meta},P),!k);T++);delete _.results}else R(S.userChunk)&&(S.userChunk(_.results,P,_.file),delete _.results)}_.finished&&!k&&b(_.workerId,_.results)}function b(C,_){var S=a[C];R(S.userComplete)&&S.userComplete(_),S.terminate(),delete a[C]}function j(){throw new Error("Not implemented.")}function E(C){if(typeof C!="object"||C===null)return C;var _,S=Array.isArray(C)?[]:{};for(_ in C)S[_]=E(C[_]);return S}function N(C,_){return function(){C.apply(_,arguments)}}function R(C){return typeof C=="function"}return u.parse=function(C,_){var S=(_=_||{}).dynamicTyping||!1;if(R(S)&&(_.dynamicTypingFunction=S,S={}),_.dynamicTyping=S,_.transform=!!R(_.transform)&&_.transform,!_.worker||!u.WORKERS_SUPPORTED)return S=null,u.NODE_STREAM_INPUT,typeof C=="string"?(C=(k=>k.charCodeAt(0)!==65279?k:k.slice(1))(C),S=new(_.download?f:m)(_)):C.readable===!0&&R(C.read)&&R(C.on)?S=new h(_):(r.File&&C instanceof File||C instanceof Object)&&(S=new p(_)),S.stream(C);(S=(()=>{var k;return!!u.WORKERS_SUPPORTED&&(k=(()=>{var P=r.URL||r.webkitURL||null,T=n.toString();return u.BLOB_URL||(u.BLOB_URL=P.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",T,")();"],{type:"text/javascript"})))})(),(k=new r.Worker(k)).onmessage=y,k.id=c++,a[k.id]=k)})()).userStep=_.step,S.userChunk=_.chunk,S.userComplete=_.complete,S.userError=_.error,_.step=R(_.step),_.chunk=R(_.chunk),_.complete=R(_.complete),_.error=R(_.error),delete _.worker,S.postMessage({input:C,config:_,workerId:S.id})},u.unparse=function(C,_){var S=!1,k=!0,P=",",T=`\r
`,$='"',M=$+$,F=!1,H=null,D=!1,A=((()=>{if(typeof _=="object"){if(typeof _.delimiter!="string"||u.BAD_DELIMITERS.filter(function(B){return _.delimiter.indexOf(B)!==-1}).length||(P=_.delimiter),typeof _.quotes!="boolean"&&typeof _.quotes!="function"&&!Array.isArray(_.quotes)||(S=_.quotes),typeof _.skipEmptyLines!="boolean"&&typeof _.skipEmptyLines!="string"||(F=_.skipEmptyLines),typeof _.newline=="string"&&(T=_.newline),typeof _.quoteChar=="string"&&($=_.quoteChar),typeof _.header=="boolean"&&(k=_.header),Array.isArray(_.columns)){if(_.columns.length===0)throw new Error("Option columns is empty");H=_.columns}_.escapeChar!==void 0&&(M=_.escapeChar+$),_.escapeFormulae instanceof RegExp?D=_.escapeFormulae:typeof _.escapeFormulae=="boolean"&&_.escapeFormulae&&(D=/^[=+\-@\t\r].*$/)}})(),new RegExp(x($),"g"));if(typeof C=="string"&&(C=JSON.parse(C)),Array.isArray(C)){if(!C.length||Array.isArray(C[0]))return L(null,C,F);if(typeof C[0]=="object")return L(H||Object.keys(C[0]),C,F)}else if(typeof C=="object")return typeof C.data=="string"&&(C.data=JSON.parse(C.data)),Array.isArray(C.data)&&(C.fields||(C.fields=C.meta&&C.meta.fields||H),C.fields||(C.fields=Array.isArray(C.data[0])?C.fields:typeof C.data[0]=="object"?Object.keys(C.data[0]):[]),Array.isArray(C.data[0])||typeof C.data[0]=="object"||(C.data=[C.data])),L(C.fields||[],C.data||[],F);throw new Error("Unable to serialize unrecognized input");function L(B,U,J){var ee="",ae=(typeof B=="string"&&(B=JSON.parse(B)),typeof U=="string"&&(U=JSON.parse(U)),Array.isArray(B)&&0<B.length),Ee=!Array.isArray(U[0]);if(ae&&k){for(var se=0;se<B.length;se++)0<se&&(ee+=P),ee+=O(B[se],se);0<U.length&&(ee+=T)}for(var ie=0;ie<U.length;ie++){var he=(ae?B:U[ie]).length,re=!1,oe=ae?Object.keys(U[ie]).length===0:U[ie].length===0;if(J&&!ae&&(re=J==="greedy"?U[ie].join("").trim()==="":U[ie].length===1&&U[ie][0].length===0),J==="greedy"&&ae){for(var ge=[],G=0;G<he;G++){var q=Ee?B[G]:G;ge.push(U[ie][q])}re=ge.join("").trim()===""}if(!re){for(var Q=0;Q<he;Q++){0<Q&&!oe&&(ee+=P);var te=ae&&Ee?B[Q]:Q;ee+=O(U[ie][te],Q)}ie<U.length-1&&(!J||0<he&&!oe)&&(ee+=T)}}return ee}function O(B,U){var J,ee;return B==null?"":B.constructor===Date?JSON.stringify(B).slice(1,25):(ee=!1,D&&typeof B=="string"&&D.test(B)&&(B="'"+B,ee=!0),J=B.toString().replace(A,M),(ee=ee||S===!0||typeof S=="function"&&S(B,U)||Array.isArray(S)&&S[U]||((ae,Ee)=>{for(var se=0;se<Ee.length;se++)if(-1<ae.indexOf(Ee[se]))return!0;return!1})(J,u.BAD_DELIMITERS)||-1<J.indexOf(P)||J.charAt(0)===" "||J.charAt(J.length-1)===" ")?$+J+$:J)}},u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!o&&!!r.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=g,u.ParserHandle=v,u.NetworkStreamer=f,u.FileStreamer=p,u.StringStreamer=m,u.ReadableStreamStreamer=h,r.jQuery&&((s=r.jQuery).fn.parse=function(C){var _=C.config||{},S=[];return this.each(function(T){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var $=0;$<this.files.length;$++)S.push({file:this.files[$],inputElem:this,instanceConfig:s.extend({},_)})}),k(),this;function k(){if(S.length===0)R(C.complete)&&C.complete();else{var T,$,M,F,H=S[0];if(R(C.before)){var D=C.before(H.file,H.inputElem);if(typeof D=="object"){if(D.action==="abort")return T="AbortError",$=H.file,M=H.inputElem,F=D.reason,void(R(C.error)&&C.error({name:T},$,M,F));if(D.action==="skip")return void P();typeof D.config=="object"&&(H.instanceConfig=s.extend(H.instanceConfig,D.config))}else if(D==="skip")return void P()}var A=H.instanceConfig.complete;H.instanceConfig.complete=function(L){R(A)&&A(L,H.file,H.inputElem),P()},u.parse(H.file,H.instanceConfig)}}function P(){S.splice(0,1),k()}}),i&&(r.onmessage=function(C){C=C.data,u.WORKER_ID===void 0&&C&&(u.WORKER_ID=C.workerId),typeof C.input=="string"?r.postMessage({workerId:u.WORKER_ID,results:u.parse(C.input,C.config),finished:!0}):(r.File&&C.input instanceof File||C.input instanceof Object)&&(C=u.parse(C.input,C.config))&&r.postMessage({workerId:u.WORKER_ID,results:C,finished:!0})}),(f.prototype=Object.create(d.prototype)).constructor=f,(p.prototype=Object.create(d.prototype)).constructor=p,(m.prototype=Object.create(m.prototype)).constructor=m,(h.prototype=Object.create(d.prototype)).constructor=h,u})})(Hy);var VE=Hy.exports;const qE=Bi(VE),GE=(e,t)=>t.split(".").reduce((n,r)=>n&&n[r],e),Yu=({title:e,apiEndpoint:t,postDataKey:n,dataMappingFn:r,previewColumns:s,onSuccess:o,onCancel:i})=>{const[a,c]=w.useState(null),[u,d]=w.useState([]),[f,p]=w.useState(!1),[m,h]=w.useState([]),[v,x]=w.useState(null),{showToast:g}=_e(),y=N=>{const R=N.target.files[0];R&&(c(R),x(null),h([]),qE.parse(R,{header:!0,skipEmptyLines:!0,bom:!0,complete:C=>{if(C.errors.length)x("Error parsing CSV file. Please check its structure."),h(C.errors),console.error("CSV Parsing Errors:",C.errors),d([]);else{const _=C.data.map(r).filter(Boolean);d(_),h([])}},error:()=>{x("Cannot read the file. Please ensure it is a valid CSV file."),d([])}}))},b=async()=>{var R,C;if(u.length===0){g("No valid data to import.","warning");return}p(!0),x(null);const N=n?{[n]:u}:u;try{const S=(await Y.post(t,N)).data;if(g(S.message||"Import finished successfully!","success"),S.errors&&S.errors.length>0){const k=S.errors.map(P=>`Line ${P.line}: ${P.message}`).join(`
`);x(`Import completed with some issues:
${k}`)}o()}catch(_){const S=((C=(R=_.response)==null?void 0:R.data)==null?void 0:C.error)||"Server error during import.";g(S,"error"),x(S)}finally{p(!1)}},j=N=>N.preventDefault(),E=N=>{N.preventDefault(),y({target:{files:N.dataTransfer.files}})};return l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("h2",{children:[l.jsx(Mf,{size:24})," ",e]}),l.jsx("button",{onClick:i,className:"btn-icon",children:l.jsx(ft,{size:20})})]}),v&&l.jsxs("div",{className:"error-message",style:{whiteSpace:"pre-wrap"},children:[l.jsx(ju,{size:16})," ",v]}),a?l.jsxs("div",{children:[l.jsxs("div",{className:"file-info",style:{marginTop:"1.5rem"},children:[l.jsx(cl,{size:24}),l.jsx("span",{children:a.name}),l.jsx("button",{onClick:()=>{c(null),d([]),x(null),h([])},className:"btn-icon",children:l.jsx(ft,{size:16})})]}),m.length>0&&l.jsxs("div",{className:"error-message",style:{marginTop:"1rem",maxHeight:"150px",overflowY:"auto",padding:"1rem",background:"#fff3f3",borderRadius:"6px"},children:[l.jsx("strong",{children:"Parsing Errors Found:"}),l.jsx("ul",{children:m.slice(0,5).map((N,R)=>l.jsxs("li",{children:["Row ",N.row,": ",N.message]},R))}),m.length>5&&l.jsxs("p",{children:["...and ",m.length-5," more errors."]})]}),u.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{style:{marginTop:"1rem"},children:[l.jsx(Su,{size:16,color:"green"})," Found ",l.jsx("strong",{children:u.length})," records to import."]}),l.jsx("div",{className:"table-container-scrollable",style:{maxHeight:"300px",marginTop:"1rem"},children:l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsx("tr",{children:s.map(N=>l.jsx("th",{children:N.header},N.key))})}),l.jsx("tbody",{children:u.slice(0,5).map((N,R)=>l.jsx("tr",{children:s.map(C=>l.jsx("td",{children:C.render?C.render(N):GE(N,C.key)},C.key))},R))})]})}),u.length>5&&l.jsxs("p",{style:{textAlign:"center",marginTop:"0.5rem"},children:["...and ",u.length-5," more rows."]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:i,className:"btn-secondary",disabled:f,children:"Cancel"}),l.jsx("button",{onClick:b,className:"btn-primary",disabled:f||u.length===0,children:f?"Importing...":`Import ${u.length} Records`})]})]}):l.jsxs("div",{className:"dropzone",onDragOver:j,onDrop:E,onClick:()=>document.getElementById("file-input-generic").click(),children:[l.jsx(Mf,{size:48}),l.jsx("p",{children:"Drag & drop a CSV file here, or click to select a file."}),l.jsx("input",{type:"file",id:"file-input-generic",accept:".csv",onChange:y,style:{display:"none"}})]})]})},KE=({zones:e=[],onRefresh:t})=>{const{data:n,createResource:r,updateResource:s}=st("/api/zones","zone"),{showToast:o}=_e(),[i,a]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[p,m]=w.useState({zone_name:"",postcode_patterns:"",is_home_zone:!1}),[h,v]=w.useState(e),[x,g]=w.useState({key:"zone_name",direction:"ascending"});w.useEffect(()=>{const S=[...n].sort((k,P)=>{const T=k.zone_name,$=P.zone_name,M=/(\d+)|(\D+)/g,F=T.match(M),H=$.match(M);for(let D=0;D<Math.min(F.length,H.length);D++){const A=F[D],L=H[D],O=parseInt(A,10),B=parseInt(L,10);if(!isNaN(O)&&!isNaN(B)){if(O!==B)return x.direction==="ascending"?O-B:B-O}else if(A!==L)return x.direction==="ascending"?A.localeCompare(L):L.localeCompare(A)}return x.direction==="ascending"?F.length-H.length:H.length-F.length});v(S)},[n,x]);const y=S=>{let k="ascending";x.key===S&&x.direction==="ascending"&&(k="descending"),g({key:S,direction:k})};w.useEffect(()=>{c?(m({zone_name:c.zone_name,postcode_patterns:(c.postcode_patterns||[]).join(", "),is_home_zone:c.is_home_zone}),a(!0)):m({zone_name:"",postcode_patterns:"",is_home_zone:!1})},[c]);const b=async S=>{var $,M;S.preventDefault();const k=p.postcode_patterns.split(",").map(F=>{const H=F.trim();return H&&!H.endsWith("%")?`${H}%`:H}).filter(Boolean),P=[...new Set(k)],T={...p,postcode_patterns:P};try{c?(await s(c.id,T),o("Zone updated successfully!","success")):(await r(T),o("Zone created successfully!","success")),a(!1),u(null),t&&t()}catch(F){o(((M=($=F.response)==null?void 0:$.data)==null?void 0:M.error)||"Failed to save zone.","error")}},j=async S=>{var k,P;if(window.confirm("Are you sure you want to delete this zone?"))try{await Y.delete(`/api/zones/${S}`),o("Zone deleted successfully.","success"),t&&t()}catch(T){o(((P=(k=T.response)==null?void 0:k.data)==null?void 0:P.error)||"Failed to delete zone.","error")}},E=async(S,k)=>{const P=S.postcode_patterns.filter(T=>T!==k);try{await s(S.id,{...S,postcode_patterns:P}),o(`Pattern '${k}' removed from ${S.zone_name}.`,"success"),t&&t()}catch{o("Failed to remove pattern.","error")}},N=async S=>{const{source:k,destination:P,draggableId:T}=S;if(!P||k.droppableId===P.droppableId)return;const $=parseInt(k.droppableId,10),M=parseInt(P.droppableId,10),F=T.split("-")[1],H=h.find(O=>O.id===$),D=h.find(O=>O.id===M);if(!H||!D)return;const A=H.postcode_patterns.filter(O=>O!==F),L=[...D.postcode_patterns||[],F];try{await Promise.all([s(H.id,{...H,postcode_patterns:A}),s(D.id,{...D,postcode_patterns:[...new Set(L)]})]),o(`Moved '${F}' from ${H.zone_name} to ${D.zone_name}.`,"success"),t&&t()}catch{o("Failed to move pattern.","error")}},R=async()=>{var S,k;try{const P=await Y.get("/api/zones/export");o(P.data.message||"Export successful!","success")}catch(P){const T=((k=(S=P.response)==null?void 0:S.data)==null?void 0:k.error)||"Failed to export zones.";o(T,"error")}},C={title:"Import Postcode Zones",apiEndpoint:"/api/zones/import",postDataKey:"zones",dataMappingFn:S=>({zone_name:S.zone_name,postcode_patterns:S.postcode_patterns,is_home_zone:["true","1","yes"].includes((S.is_home_zone||"").toLowerCase())}),previewColumns:[{key:"zone_name",header:"Zone Name"},{key:"postcode_patterns",header:"Postcode Patterns (sample)"},{key:"is_home_zone",header:"Home Zone",render:S=>S.is_home_zone?"Yes":"No"}]},_=()=>{f(!1),t&&t(),o("Zones imported successfully!","success")};return l.jsxs("div",{className:"data-table-container",children:[l.jsx("h4",{children:"Postcode Zones"}),!i&&l.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[l.jsxs("button",{onClick:()=>a(!0),className:"btn-primary",children:[l.jsx(nr,{size:16})," Add New Zone"]}),l.jsxs("button",{onClick:R,className:"btn-secondary",children:[l.jsx(fo,{size:16})," Export"]}),l.jsxs("button",{onClick:()=>f(!0),className:"btn-secondary",children:[l.jsx(ku,{size:16})," Import"]})]}),d&&l.jsx(Yu,{...C,onSuccess:_,onCancel:()=>f(!1)}),i&&l.jsxs("form",{onSubmit:b,className:"form",style:{marginBottom:"2rem",border:"1px solid #eee",padding:"1rem",borderRadius:"8px"},children:[l.jsx("h5",{children:c?"Edit Zone":"Add New Zone"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Zone Name"}),l.jsx("input",{type:"text",value:p.zone_name,onChange:S=>m({...p,zone_name:S.target.value}),required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Postcode Patterns (comma-separated, e.g., SW1, W1A, WC2)"}),l.jsx("textarea",{value:p.postcode_patterns,onChange:S=>m({...p,postcode_patterns:S.target.value}),rows:"3"})]}),l.jsxs("div",{className:"form-group",style:{flexDirection:"row",alignItems:"center",gap:"0.5rem"},children:[l.jsx("input",{type:"checkbox",id:"is_home_zone",checked:p.is_home_zone,onChange:S=>m({...p,is_home_zone:S.target.checked})}),l.jsx("label",{htmlFor:"is_home_zone",style:{marginBottom:0},children:"This is a home zone (for this depot)"})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:()=>{a(!1),u(null)},className:"btn-secondary",children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",children:"Save Zone"})]})]}),l.jsx("div",{className:"table-wrapper",children:l.jsx(Oy,{onDragEnd:N,children:l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{onClick:()=>y("zone_name"),style:{cursor:"pointer"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:["Zone Name",x.key==="zone_name"&&(x.direction==="ascending"?l.jsx(Sg,{size:14}):l.jsx(wg,{size:14}))]})}),l.jsx("th",{children:"Home Zone?"}),l.jsx("th",{children:"Postcode Patterns"}),l.jsx("th",{children:"Actions"})]})}),h.map(S=>l.jsx(yl,{droppableId:String(S.id),children:(k,P)=>l.jsx("tbody",{ref:k.innerRef,...k.droppableProps,style:{backgroundColor:P.isDraggingOver?"#e6f7ff":"transparent"},children:l.jsxs("tr",{children:[l.jsx("td",{style:{width:"80px"},children:S.zone_name}),l.jsx("td",{children:S.is_home_zone?"Yes":"No"}),l.jsx("td",{className:"tag-cell",children:l.jsxs("div",{className:"tag-container",children:[(S.postcode_patterns||[]).map((T,$)=>l.jsx(Qu,{draggableId:`${S.id}-${T}`,index:$,children:M=>l.jsx("div",{ref:M.innerRef,...M.draggableProps,...M.dragHandleProps,children:l.jsxs("span",{className:"tag draggable-tag",children:[T,l.jsx("button",{onClick:()=>E(S,T),className:"tag-remove-btn",children:l.jsx(ft,{size:12})})]})})},`${S.id}-${T}`)),k.placeholder]})}),l.jsxs("td",{className:"actions-cell",children:[l.jsx("button",{onClick:()=>u(S),className:"btn-icon",children:l.jsx(po,{size:16})}),l.jsx("button",{onClick:()=>j(S.id),className:"btn-icon btn-danger",title:"Delete Zone",children:l.jsx(lr,{size:16})})]})]},S.id)})},S.id))]})})})]})},QE={rate_type:"standard",zone_id:"",service_level:"A",price_micro:"",price_quarter:"",price_half:"",price_half_plus:"",price_full_1:"",price_full_2:"",price_full_3:"",price_full_4:"",price_full_5:"",price_full_6:"",price_full_7:"",price_full_8:"",price_full_9:"",price_full_10:""},YE=["price_micro","price_quarter","price_half","price_half_plus","price_full_1","price_full_2","price_full_3","price_full_4","price_full_5","price_full_6","price_full_7","price_full_8","price_full_9","price_full_10"],JE=({zones:e=[],onSubmit:t,onCancel:n,itemToEdit:r})=>{const s=d=>{const f={};return d.zone_id||(f.zone_id="Zone is required."),d.service_level||(f.service_level="Service level is required."),f},{formData:o,errors:i,loading:a,handleChange:c,handleSubmit:u}=un({initialState:QE,validate:s,onSubmit:t,itemToEdit:w.useMemo(()=>r,[r])});return l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:"Add New Rate Entry"}),l.jsx("button",{onClick:n,className:"btn-icon",children:l.jsx(ft,{size:20})})]}),l.jsxs("form",{onSubmit:u,className:"form",children:[l.jsxs("div",{className:"form-grid",style:{gridTemplateColumns:"1fr 1fr 1fr"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Rate Type"}),l.jsxs("select",{name:"rate_type",value:o.rate_type,onChange:c,children:[l.jsx("option",{value:"standard",children:"Standard"}),l.jsx("option",{value:"surcharge",children:"Surcharge"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Zone *"}),l.jsxs("select",{name:"zone_id",value:o.zone_id,onChange:c,required:!0,className:i.zone_id?"input-error":"",children:[l.jsx("option",{value:"",children:"Select a zone..."}),e.map(d=>l.jsx("option",{value:d.id,children:d.zone_name},d.id))]}),i.zone_id&&l.jsx("span",{className:"error-text",children:i.zone_id})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Service Level *"}),l.jsxs("select",{name:"service_level",value:o.service_level,onChange:c,required:!0,className:i.service_level?"input-error":"",children:[l.jsx("option",{value:"A",children:"A"}),l.jsx("option",{value:"B",children:"B"}),l.jsx("option",{value:"C",children:"C"}),l.jsx("option",{value:"D",children:"D"})]}),i.service_level&&l.jsx("span",{className:"error-text",children:i.service_level})]})]}),l.jsx("h4",{children:"Prices"}),l.jsx("div",{className:"form-grid",style:{gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))"},children:YE.map(d=>l.jsxs("div",{className:"form-group",children:[l.jsx("label",{style:{textTransform:"capitalize"},children:d.replace("price_","").replace(/_/g," ")}),l.jsx("input",{type:"number",step:"0.01",name:d,value:o[d]??"",onChange:c})]},d))}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:n,className:"btn-secondary",disabled:a,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:a,children:a?"Saving...":"Add Entry"})]})]})]})},ZE=({customers:e=[],zones:t=[]})=>{const[n,r]=w.useState([]),[s,o]=w.useState(""),[i,a]=w.useState([]),[c,u]=w.useState(!1),[d,f]=w.useState(null),[p,m]=w.useState(!1),[h,v]=w.useState(!1),[x,g]=w.useState([]),[y,b]=w.useState([]),{showToast:j}=_e();w.useEffect(()=>{(async()=>{u(!0);try{const A=await Y.get("/api/rate-cards");r(A.data)}catch{j("Failed to fetch rate cards.","error")}finally{u(!1)}})()},[j]);const E=w.useCallback(async()=>{if(!s){a([]);return}u(!0);try{const D=await Y.get(`/api/rate-cards/${s}/entries`);a(D.data)}catch{j("Failed to fetch rate entries.","error")}finally{u(!1)}},[s,j]),N=w.useCallback(async()=>{if(!s){g([]);return}try{const D=await Y.get(`/api/rate-cards/${s}/customers`);g(D.data)}catch{j("Failed to fetch assigned customers.","error")}},[s,j]);w.useEffect(()=>{v(!1),m(!1),f(null),s&&(E(),N())},[s,E,N]);const R=async()=>{const D=prompt('Enter a name for the new rate card (e.g., "Standard 2024"):');if(D)try{const A=await Y.post("/api/rate-cards",{name:D});r(L=>[...L,A.data]),j("Rate card created.","success")}catch{j("Failed to create rate card.","error")}},C=async()=>{if(!s||y.length===0){j("Please select a rate card and at least one customer.","warning");return}try{await Y.post(`/api/rate-cards/${s}/customers`,{customerIds:y}),N(),b([]),j(`${y.length} customer(s) assigned successfully.`,"success")}catch{j("Failed to assign customers.","error")}},_=async D=>{if(!(!s||!D))try{await Y.delete(`/api/rate-cards/${s}/customers/${D}`),N(),j("Customer unassigned.","success")}catch{j("Failed to unassign customer.","error")}},S=async D=>{var A,L;if(s)try{const O=await Y.post(`/api/rate-cards/${s}/entries`,D);a(B=>[...B,O.data]),m(!1),v(!1),j("Rate entry added successfully!","success")}catch(O){const B=((L=(A=O.response)==null?void 0:A.data)==null?void 0:L.error)||"Failed to add rate entry.";j(B,"error"),console.error(O)}},k=D=>{m(!1),E();const{count:A=0,skipped:L=0}=D.data||{};let O=`Successfully imported ${A} rate entries.`;L>0&&(O+=` Skipped ${L} rows due to errors (check console for details).`),j(O,"success")},P=async()=>{var D,A;if(d)try{const L=await Y.put(`/api/rate-cards/entries/${d.id}`,d);a(O=>O.map(B=>B.id===d.id?L.data:B)),f(null),j("Rate entry updated successfully!","success")}catch(L){j(((A=(D=L.response)==null?void 0:D.data)==null?void 0:A.error)||"Failed to update rate entry.","error")}},T=async D=>{var A,L;if(window.confirm("Are you sure you want to delete this rate entry?"))try{await Y.delete(`/api/rate-cards/entries/${D}`),a(O=>O.filter(B=>B.id!==D)),j("Rate entry deleted.","success")}catch(O){j(((L=(A=O.response)==null?void 0:A.data)==null?void 0:L.error)||"Failed to delete rate entry.","error")}},$=async()=>{var D;if(s)try{const A=await Y.get(`/api/rate-cards/${s}/export`,{responseType:"blob"}),L=window.URL.createObjectURL(new Blob([A.data])),O=document.createElement("a");O.href=L;const B=((D=n.find(U=>U.id===s))==null?void 0:D.name)||"rate-card";O.setAttribute("download",`${B.replace(/\s+/g,"_")}_export.csv`),document.body.appendChild(O),O.click(),O.remove(),j("Export started successfully!","success")}catch{j("Failed to export rate card.","error")}},M=D=>{const{name:A,value:L}=D.target;f(O=>({...O,[A]:L===""?null:parseFloat(L)}))},F=["price_micro","price_quarter","price_half","price_half_plus","price_full_1","price_full_2","price_full_3","price_full_4","price_full_5","price_full_6","price_full_7","price_full_8","price_full_9","price_full_10"],H=w.useMemo(()=>{const D=new Set(x.map(A=>A.id));return e.filter(A=>!D.has(A.id))},[e,x.length]);return l.jsx("div",{children:l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",marginBottom:"1rem"},children:[l.jsxs("div",{className:"form-group",style:{margin:0},children:[l.jsx("label",{children:"Select Rate Card"}),l.jsxs("select",{value:s,onChange:D=>o(D.target.value),children:[l.jsx("option",{value:"",children:"-- Select Rate Card --"}),n.map(D=>l.jsx("option",{value:D.id,children:D.name},D.id))]})]}),l.jsxs("button",{onClick:R,className:"btn-secondary",style:{alignSelf:"flex-end"},children:[l.jsx(nr,{size:16})," New Rate Card"]})]}),s&&l.jsxs("div",{className:"form-grid",style:{gridTemplateColumns:"1fr 2fr",alignItems:"stretch"},children:[l.jsxs("div",{className:"card",children:[l.jsx("h5",{children:"Assigned Customers"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Assign new customers"}),l.jsx("select",{multiple:!0,value:y,onChange:D=>b(Array.from(D.target.selectedOptions,A=>A.value)),style:{height:"150px",marginBottom:"1rem"},children:H.map(D=>l.jsx("option",{value:D.id,children:D.name},D.id))}),l.jsxs("button",{onClick:C,className:"btn-primary",disabled:y.length===0,children:["Assign Selected (",y.length,")"]})]}),l.jsxs("ul",{className:"list",style:{maxHeight:"400px",overflowY:"auto",paddingLeft:"0",listStyle:"none"},children:[x.map(D=>l.jsxs("li",{className:"list-item",children:[l.jsx("span",{children:D.name}),l.jsx("button",{onClick:()=>_(D.id),className:"btn-icon btn-danger",title:"Unassign",children:l.jsx(Ff,{size:16})})]},D.id)),x.length===0&&l.jsx("p",{className:"no-results-message",children:"No customers assigned."})]})]}),l.jsxs("div",{className:"card",style:{display:"flex",flexDirection:"column"},children:[h&&l.jsx(JE,{zones:t,onSubmit:S,onCancel:()=>v(!1)}),p&&l.jsx(Yu,{title:"Import Rate Entries",apiEndpoint:`/api/rate-cards/${s}/entries/import`,postDataKey:"entries",dataMappingFn:D=>D,previewColumns:[{key:"Rate Type",header:"Rate Type"},{key:"Zone Name",header:"Zone Name"},{key:"Service Level",header:"Service Level"}],onSuccess:k,onCancel:()=>m(!1)}),l.jsxs("div",{style:{display:h||p?"none":"flex",flexDirection:"column",flexGrow:1,minHeight:0},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("h5",{children:"Rate Entries"}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsxs("button",{onClick:$,className:"btn-secondary",children:[l.jsx(fo,{size:16})," Export"]}),l.jsxs("button",{onClick:()=>m(!0),className:"btn-secondary",children:[l.jsx(ku,{size:16})," Import"]}),l.jsxs("button",{onClick:()=>v(!0),className:"btn-primary",children:[l.jsx(nr,{size:16})," Add Rate"]})]})]}),l.jsx("div",{className:"table-wrapper",style:{marginTop:"1rem"},children:l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Type"}),l.jsx("th",{children:"Zone"}),l.jsx("th",{children:"Service"}),F.map(D=>l.jsx("th",{style:{minWidth:"100px",textTransform:"capitalize"},children:D.replace("price_","").replace(/_/g," ")},D)),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:c?l.jsx("tr",{children:l.jsx("td",{colSpan:F.length+4,style:{textAlign:"center"},children:"Loading..."})}):i.length>0?i.map(D=>{var O;const A=((O=t.find(B=>B.id===D.zone_id))==null?void 0:O.zone_name)||"N/A",L=(d==null?void 0:d.id)===D.id;return l.jsxs("tr",{children:[l.jsx("td",{style:{textTransform:"capitalize"},children:D.rate_type.replace("_"," ")}),l.jsx("td",{children:A}),l.jsx("td",{children:D.service_level}),F.map(B=>l.jsx("td",{children:L?l.jsx("input",{type:"number",step:"0.01",name:B,value:d[B]??"",onChange:M,style:{width:"80px"},autoFocus:B===F[0]}):D[B]},`${D.id}-${B}`)),l.jsx("td",{className:"actions-cell",children:L?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:P,className:"btn-icon",title:"Save",children:l.jsx(Vw,{size:16})}),l.jsx("button",{onClick:()=>f(null),className:"btn-icon",title:"Cancel",children:l.jsx(Ff,{size:16})})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>f({...D}),className:"btn-icon",title:"Edit Rate Entry",children:l.jsx(po,{size:16})}),l.jsx("button",{onClick:()=>T(D.id),className:"btn-icon btn-danger",title:"Delete Rate Entry",children:l.jsx(lr,{size:16})})]})})]},D.id)}):l.jsx("tr",{children:l.jsx("td",{colSpan:F.length+4,style:{textAlign:"center"},children:"No rate entries found for this rate card."})})})]})})]})]})]})]})})},XE=({customers:e=[],zones:t=[],onRefresh:n})=>{const[r,s]=w.useState("zones");return l.jsxs("div",{className:"card",children:[l.jsx("h2",{children:"Pricing Management"}),l.jsxs("div",{className:"tabs-container",style:{marginBottom:"2rem"},children:[l.jsx("button",{className:`tab-button ${r==="zones"?"active":""}`,onClick:()=>s("zones"),children:"Postcode Zones"}),l.jsx("button",{className:`tab-button ${r==="rates"?"active":""}`,onClick:()=>s("rates"),children:"Rate Cards"})]}),r==="zones"&&l.jsx(KE,{zones:t,onRefresh:n}),r==="rates"&&l.jsx(ZE,{customers:e,zones:t})]})},da=new BroadcastChannel("tms_state_sync"),Ju=e=>(w.useEffect(()=>{const n=r=>{e&&e(r.data)};return da.addEventListener("message",n),()=>{da.removeEventListener("message",n)}},[e]),{postMessage:w.useCallback(n=>{da.postMessage(n)},[])}),eN=({initialAssignments:e=[],orders:t=[],enrichedRuns:n=[],onDataRefresh:r})=>{console.log(" useAssignments called with:",{initialAssignments:e,orders:t,enrichedRuns:n});const{data:s,error:o,createResource:i,deleteResource:a,setData:c}=st("/api/assignments","assignment");ce.useEffect(()=>{c(e||[])},[e,c]);const{postMessage:u}=Ju(),d=w.useMemo(()=>s.map(v=>{var y;const x=t.find(b=>b.id===v.order_id),g=n.find(b=>b.id===v.run_id);return{...v,order_number:(x==null?void 0:x.order_number)||(x==null?void 0:x.customer_reference)||`ID: ${x==null?void 0:x.id}`,run_text:(g==null?void 0:g.displayText)||"N/A",recipient_name:((y=x==null?void 0:x.recipient_details)==null?void 0:y.name)||"N/A"}}),[s,t,n]),f=w.useMemo(()=>{const v=new Set(s.map(x=>x.order_id));return t.filter(x=>x.status==="nowe"&&!v.has(x.id))},[t,s]),p=w.useCallback(async v=>{const{source:x,destination:g,draggableId:y}=v;if(!(!g||x.droppableId===g.droppableId)&&x.droppableId==="orders"&&g.droppableId!=="orders"){const b=y.startsWith("order-")?y.substring(6):y,j=parseInt(b,10);let E;g.droppableId.startsWith("run-active-")?E=parseInt(g.droppableId.replace("run-active-",""),10):E=parseInt(g.droppableId,10);const N=t.find(R=>R.id===j);if(!N)return;try{await i({order_id:j,run_id:E},(R,C)=>{var S;const _=n.find(k=>k.id===R.run_id);return{...R,id:C,order_number:N.customer_reference||`ID: ${N.id}`,run_text:(_==null?void 0:_.displayText)||"N/A",recipient_name:((S=N.recipient_details)==null?void 0:S.name)||"N/A"}}),r&&r(),u("refresh")}catch(R){console.error("Failed to create assignment:",R)}}},[i,t,n,r,u]),m=w.useCallback(async v=>{console.log(" Deleting assignment:",v);try{await a(v),u("refresh"),console.log(" Assignment deleted successfully")}catch(x){console.error(" Error deleting assignment:",x)}},[a,r,u]),h=w.useCallback(async(v,x)=>{var g,y;try{return await Y.post("/api/assignments/bulk",{run_id:v,order_ids:x}),r&&r(),u("refresh"),{success:!0,message:`${x.length} orders assigned successfully.`}}catch(b){return console.error("Bulk assign failed:",b),{success:!1,message:((y=(g=b.response)==null?void 0:g.data)==null?void 0:y.error)||"Failed to bulk assign orders."}}},[r,u]);return{assignments:d,availableOrders:f,handleDragEnd:p,handleDeleteAssignment:m,bulkAssignOrders:h,error:o}},Vy=w.createContext(null),qy=()=>{const e=w.useContext(Vy);if(!e)throw new Error("usePlanIt must be used within a PlanItProvider");return e},tN=({children:e,initialData:t={},runActions:n,onAssignmentCreated:r,onDeleteRequest:s,bulkAssignOrders:o})=>{const{showToast:i}=_e(),{orders:a=[],runs:c=[],drivers:u=[],trucks:d=[],trailers:f=[],pallets:p=[],assignments:m=[],zones:h=[]}=t,[v,x]=w.useState(new Date().toISOString().split("T")[0]),[g,y]=w.useState(null),[b,j]=w.useState(null),[E,N]=w.useState(!1),[R,C]=w.useState([]),[_,S]=w.useState({visible:!1,x:0,y:0}),k=w.useCallback(()=>{r&&r()},[r]),P=w.useMemo(()=>new Map(u.map(G=>[G.id,G])),[u]),T=w.useMemo(()=>new Map(d.map(G=>[G.id,G])),[d]),$=w.useMemo(()=>new Map(f.map(G=>[G.id,G])),[f]),M=w.useMemo(()=>new Map(a.map(G=>[G.id,G])),[a]),F=w.useMemo(()=>{const G=new Map;for(const q of m)G.has(q.run_id)||G.set(q.run_id,[]),G.get(q.run_id).push(q);return G},[m]),H=w.useMemo(()=>c.filter(q=>q.run_date?q.run_date.startsWith(v):!1).map(q=>{const Q=P.get(q.driver_id),te=T.get(q.truck_id),X=q.trailer_id?$.get(q.trailer_id):null,Re=(F.get(q.id)||[]).map(be=>M.get(be.order_id)).filter(Boolean),{totalKilos:dn,totalSpaces:wt}=Re.reduce((be,Ue)=>{var Ct,ar;return be.totalKilos+=((Ct=Ue.cargo_details)==null?void 0:Ct.total_kilos)||0,be.totalSpaces+=((ar=Ue.cargo_details)==null?void 0:ar.total_spaces)||0,be},{totalKilos:0,totalSpaces:0}),Jt=(te==null?void 0:te.type_of_truck)==="rigid"||(te==null?void 0:te.type_of_truck)==="tractor"&&X,Le=Jt?(te==null?void 0:te.type_of_truck)==="rigid"?te.max_payload_kg:X==null?void 0:X.max_payload_kg:null,St=Jt?(te==null?void 0:te.type_of_truck)==="rigid"?te.pallet_capacity:X==null?void 0:X.max_spaces:null;return{...q,displayText:`${Q?`${Q.first_name} ${Q.last_name}`:"No Driver"} - ${te?te.registration_plate:"No Truck"} ${X?`+ ${X.registration_plate}`:""}`,totalKilos:dn,totalSpaces:wt,maxPayload:Le,maxPallets:St,hasCapacity:Jt}}),[c,v,P,T,$,F,M]),D=w.useMemo(()=>({initialAssignments:m||[],orders:a,enrichedRuns:H,onDataRefresh:k}),[m,a,H,k]),{assignments:A,availableOrders:L,handleDragEnd:O,handleDeleteAssignment:B,error:U}=eN(D);ce.useEffect(()=>{U&&(console.error(" useAssignments error:",U),i(U,"error"))},[U,i]);const J=w.useMemo(()=>g?H.find(G=>G.id===g):null,[g,H]),ee=w.useMemo(()=>J?A.filter(q=>q.run_id===J.id).map(q=>{const Q=M.get(q.order_id);return Q?{...Q,assignmentId:q.id}:null}).filter(Boolean):[],[J,A,M]),ae=w.useCallback(G=>{j(G),N(!0)},[]),Ee=w.useCallback(()=>{j(null),N(!0)},[]),se=w.useCallback(async G=>{var q,Q,te,X;try{const Z={...G,trailer_id:G.trailer_id?G.trailer_id:null};b?(await n.update(b.id,Z),i("Run updated successfully!","success")):(await n.create(Z),i("Run created successfully!","success")),N(!1),j(null),k(),Z!=null&&Z.run_date&&Z.run_date!==v&&(x(Z.run_date),y(null))}catch(Z){console.error(" Error saving run:",(q=Z==null?void 0:Z.response)==null?void 0:q.status,((Q=Z==null?void 0:Z.response)==null?void 0:Q.data)||Z.message),i("Failed to save run: "+(((X=(te=Z==null?void 0:Z.response)==null?void 0:te.data)==null?void 0:X.message)||Z.message||"Unknown error"),"error")}},[b,n,i,k,v]),ie=w.useCallback(async G=>{s(`Are you sure you want to delete run: ${G.displayText}?`,async()=>{var q,Q;try{await n.delete(G.id),i(`Run "${G.displayText}" deleted.`,"success"),k()}catch(te){console.error(" Error deleting run:",te),i(((Q=(q=te.response)==null?void 0:q.data)==null?void 0:Q.error)||"Failed to delete run.","error")}})},[n,i,k,s]),he=w.useCallback(async G=>{try{await B(G),k()}catch(q){throw console.error(" Error during assignment deletion and refresh:",q),q}},[B,k]),re=w.useCallback(async()=>{if(!g){i("Please select an active run first.","error");return}if(R.length===0){i("No orders selected for assignment.","error");return}try{const q=await o({run_id:g,order_ids:R});q.success?(i(q.message,"success"),C([]),k()):i(q.message,"error")}catch(G){console.error(" Bulk assign failed:",G),i("An unexpected error occurred during bulk assignment.","error")}},[g,R,o,i,k]),oe=w.useCallback(()=>{if(R.length===0){i("No orders selected for deletion.","error");return}const G=async()=>{var q,Q;try{await Y.delete("/api/orders/bulk",{data:{ids:R}}),i(`${R.length} orders deleted successfully.`,"success"),C([]),k()}catch(te){console.error(" Bulk delete failed:",te),i(((Q=(q=te.response)==null?void 0:q.data)==null?void 0:Q.error)||"Failed to delete orders.","error")}};s(`Are you sure you want to delete ${R.length} selected orders? This action cannot be undone.`,G)},[R,s,i,k]),ge={selectedDate:v,activeRunId:g,editingRun:b,isFormVisible:E,selectedOrderIds:R,contextMenu:_,setSelectedDate:x,setActiveRunId:y,setIsFormVisible:N,setSelectedOrderIds:C,setContextMenu:S,handleEditRun:ae,handleAddNewRun:Ee,handleSaveRun:se,handleBulkAssign:re,handleBulkDelete:oe,handleDeleteRun:ie,enrichedRuns:H,availableOrders:L,activeRun:J,ordersForActiveRun:ee,handleDragEnd:O,handleDeleteAssignment:he,initialData:{drivers:u,trucks:d,trailers:f,zones:h,pallets:p},triggerRefresh:k};return l.jsx(Vy.Provider,{value:ge,children:e})},nN=e=>w.useMemo(()=>e.find(t=>t.is_home_zone),[e]),Gy=ce.memo(({order:e,columns:t,isSelected:n,handleClick:r,handleContextMenu:s,handleMouseEnter:o,handleMouseLeave:i,index:a})=>e?l.jsx(Qu,{draggableId:`order-${e.id}`,index:a,children:(c,u)=>l.jsx("div",{ref:c.innerRef,...c.draggableProps,...c.dragHandleProps,style:{...c.draggableProps.style,backgroundColor:u.isDragging?"var(--primary-color-light)":"transparent"},className:`planit-grid-row ${n?"highlighted-row":""}`,onClick:d=>r(d,e.id),onContextMenu:d=>s(d,e.id),onMouseEnter:d=>o(d,e),onMouseLeave:i,role:"button",tabIndex:0,"aria-selected":n,"aria-label":`Order ${e.order_number||e.customer_reference||e.id}`,onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),r(d,e.id))},children:t.map((d,f)=>l.jsx("div",{className:"planit-grid-cell",children:d.accessor(e)},`${e.id}-${f}`))})}):null);Gy.displayName="OrderRow";const rN=({orders:e,activeTab:t,selectedDate:n,homeZone:r})=>{const s=w.useMemo(()=>safeOrders.map(o=>{var i,a;return{...o,totalKilos:((i=o.cargo_details)==null?void 0:i.total_kilos)||0,totalSpaces:((a=o.cargo_details)==null?void 0:a.total_spaces)||0}}),[safeOrders]);return w.useMemo(()=>{const o=s.filter(i=>{if(!n)return!0;const a=t==="collections"?i.loading_date_time:i.unloading_date_time;if(!a)return!1;try{return new Date(a).toISOString().split("T")[0]===n}catch{return!1}});return r?o.filter(i=>{var a,c;return Di(t==="collections"?(a=i.sender_details)==null?void 0:a.postCode:(c=i.recipient_details)==null?void 0:c.postCode,r)}):t==="delivery"?[]:o},[t,s,r,n])},sN=()=>{const[e,t]=w.useState({visible:!1,content:null,position:{x:0,y:0}}),n=w.useCallback((s,o)=>{const i=s.currentTarget.getBoundingClientRect();t({visible:!0,content:o,position:{x:i.left+window.scrollX,y:i.bottom+window.scrollY}})},[]),r=w.useCallback(()=>{t(s=>s.visible?{visible:!1,content:null,position:{x:0,y:0}}:s)},[]);return{tooltip:e,showTooltip:n,hideTooltip:r}},zo=[{header:"Consignment #",accessor:e=>e.order_number||e.customer_reference||`ID: ${e.id}`},{header:"Loading Company",accessor:e=>{var t;return((t=e.sender_details)==null?void 0:t.name)||"-"}},{header:"Loading Address",accessor:e=>{var t;return((t=e.sender_details)==null?void 0:t.address1)||"-"}},{header:"Loading PC",accessor:e=>{var t;return((t=e.sender_details)==null?void 0:t.postCode)||"-"}},{header:"Unloading Company",accessor:e=>{var t;return((t=e.recipient_details)==null?void 0:t.name)||"-"}},{header:"Unloading Address",accessor:e=>{var t;return((t=e.recipient_details)==null?void 0:t.address1)||"-"}},{header:"Unloading PC",accessor:e=>{var t;return((t=e.recipient_details)==null?void 0:t.postCode)||"-"}},{header:"Weight",accessor:e=>e.totalKilos>0?e.totalKilos:"-"},{header:"Spaces",accessor:e=>e.totalSpaces>0?e.totalSpaces:"-"}],oN=({orders:e,homeZone:t,selectedDate:n})=>{const{selectedOrderIds:r,setSelectedOrderIds:s,setContextMenu:o}=qy(),[i,a]=w.useState("delivery"),{tooltip:c,showTooltip:u,hideTooltip:d}=sN(),f={CONSIGNMENT:0,UNLOADING_COMPANY:4},p=w.useMemo(()=>i==="delivery"?[zo[f.CONSIGNMENT],...zo.slice(f.UNLOADING_COMPANY)]:[...zo.slice(0,f.UNLOADING_COMPANY),...zo.slice(7)],[i]),m=rN({orders:e,activeTab:i,selectedDate:n,homeZone:t}),h=w.useCallback((y,b)=>{const{ctrlKey:j,metaKey:E}=y;s(j||E?N=>N.includes(b)?N.filter(R=>R!==b):[...N,b]:[b])},[s]),v=w.useCallback((y,b)=>{y.preventDefault(),r.includes(b)||s([b]),o({visible:!0,x:y.clientX,y:y.clientY})},[r,o,s]),x=w.useCallback((y,b)=>{var j,E,N,R,C,_;return u(y,l.jsxs(l.Fragment,{children:[l.jsx("strong",{children:"Loading:"})," ",((j=b.sender_details)==null?void 0:j.name)||"-",", ",((E=b.sender_details)==null?void 0:E.address1)||"-",", ",((N=b.sender_details)==null?void 0:N.postCode)||"-",l.jsx("br",{}),l.jsx("strong",{children:"Unloading:"})," ",((R=b.recipient_details)==null?void 0:R.name)||"-",", ",((C=b.recipient_details)==null?void 0:C.address1)||"-",", ",((_=b.recipient_details)==null?void 0:_.postCode)||"-"]}))},[u]),g=w.useCallback(()=>{d()},[d]);return l.jsxs("div",{className:"card planit-section",children:[l.jsxs("div",{className:"planit-section-header",children:[l.jsx("h3",{children:"Available Orders"}),l.jsxs("div",{className:"tabs-container",children:[l.jsx("button",{className:`tab-button ${i==="delivery"?"active":""}`,onClick:()=>a("delivery"),children:"Delivery"}),l.jsx("button",{className:`tab-button ${i==="collections"?"active":""}`,onClick:()=>a("collections"),children:"Collections"})]})]}),l.jsxs("div",{className:"planit-list planit-table-grid",children:[l.jsx("div",{className:"planit-grid-header",children:p.map(y=>l.jsx("div",{children:y.header},y.header))}),l.jsx("div",{className:"planit-grid-body",children:m.length>0?l.jsx(yl,{droppableId:"orders",renderClone:(y,b,j)=>{const E=m[j.source.index];return E?l.jsx("div",{ref:y.innerRef,...y.draggableProps,...y.dragHandleProps,style:{...y.draggableProps.style,margin:0,background:"var(--primary-color-dark)",color:"white",padding:"0.5rem 0.75rem",borderRadius:"4px"},className:"planit-grid-row",children:l.jsx("div",{className:"planit-grid-cell",children:E.order_number||E.customer_reference})}):null},children:(y,b)=>l.jsxs("div",{...y.droppableProps,ref:y.innerRef,className:b.isDraggingOver?"is-dragging-over":"",style:{minHeight:"200px"},children:[m.map((j,E)=>l.jsx(Gy,{order:j,columns:p,isSelected:r.includes(j.id),handleClick:h,handleContextMenu:v,handleMouseEnter:x,handleMouseLeave:g,index:E},j.id)),y.placeholder]})}):l.jsx("div",{className:"planit-empty-state",children:"No orders available for the selected criteria."})}),c.visible&&l.jsx("div",{className:"tooltip",style:{top:`${c.position.y+15}px`,left:`${c.position.x+15}px`},children:c.content})]})]})},iN=ce.memo(oN),jp=({current:e,max:t,label:n,icon:r})=>{if(t==null)return null;const s=t>0?e/t*100:0,o=s>100;return l.jsxs("div",{className:"capacity-indicator",children:[l.jsxs("div",{className:"capacity-text",children:[r,l.jsxs("span",{children:[n,": ",e," / ",t]})]}),l.jsx("div",{className:"capacity-bar-container",children:l.jsx("div",{className:`capacity-bar ${o?"overloaded":""}`,style:{width:`${Math.min(s,100)}%`}})})]})},lN=({runs:e=[],onPopOut:t,onDelete:n,onEdit:r,handleAddNewRun:s,selectedDate:o,onDateChange:i,activeRunId:a,onRunSelect:c,isLoading:u})=>{const d=ce.useCallback((p,m)=>{p.stopPropagation(),n(m)},[n]),f=ce.useCallback((p,m)=>{p.stopPropagation(),r(m)},[r]);return l.jsxs("div",{className:"card planit-section",children:[l.jsxs("div",{className:"planit-section-header",children:[l.jsx("h3",{children:"Available Runs"}),l.jsx("div",{className:"form-group",style:{margin:0,minWidth:"160px"},children:l.jsx("input",{type:"date",value:o,onChange:p=>i(p.target.value)})}),l.jsxs("button",{onClick:s,className:"btn-primary",style:{marginLeft:"auto"},children:[l.jsx(nr,{size:16})," Add Run"]})]}),l.jsx("div",{className:"planit-list",children:u?l.jsx("div",{className:"loading",style:{padding:"2rem"},children:"Loading runs..."}):e.length>0?e.map(p=>l.jsx(yl,{droppableId:String(p.id),children:m=>l.jsxs("div",{ref:m.innerRef,...m.droppableProps,className:`planit-list-item droppable-combination with-actions ${p.id===a?"active-run":""}`,onClick:()=>c(p.id),children:[l.jsxs("div",{className:"planit-item-text",children:[l.jsx("span",{children:p.displayText}),p.hasCapacity?l.jsxs("div",{className:"run-capacity-details",children:[l.jsx(jp,{current:p.totalKilos,max:p.maxPayload,label:"kg",icon:l.jsx(Cs,{size:14})}),l.jsx(jp,{current:p.totalSpaces,max:p.maxPallets,label:"spaces",icon:l.jsx(Ss,{size:14})})]}):l.jsxs("div",{className:"run-stats",style:{marginTop:"0.5rem"},children:[l.jsxs("span",{children:[l.jsx(Cs,{size:14})," ",p.totalKilos||0," kg"]}),l.jsxs("span",{children:[l.jsx(Ss,{size:14})," ",p.totalSpaces||0," spaces"]})]})]}),l.jsxs("div",{className:"planit-item-actions",children:[l.jsx("button",{className:"btn-icon",title:"Edit Run",onClick:h=>f(h,p),children:l.jsx(po,{size:16})}),l.jsx("button",{className:"btn-icon btn-danger",title:"Delete Run",onClick:h=>d(h,p),children:l.jsx(lr,{size:16})})]}),m.placeholder]},p.id)},p.id)):l.jsx("p",{className:"no-results-message",style:{padding:"2rem"},children:"No runs found for the selected date."})})]})},aN=w.memo(lN),Ky=w.createContext(null),cN=()=>w.useContext(Ky),uN=({children:e})=>{const[t,n]=w.useState({orders:[],runs:[],assignments:[],drivers:[],trucks:[],trailers:[],zones:[]});return w.useEffect(()=>{const r=sessionStorage.getItem("popOutData");r&&n(JSON.parse(r))},[]),l.jsx(Ky.Provider,{value:t,children:e})},kp=({current:e,max:t,label:n,icon:r})=>{const s=Number.isFinite(e)?e:0,o=Number.isFinite(t)?t:0;if(o==null)return null;const i=o>0?s/o*100:0,a=i>100;return l.jsxs("div",{className:"capacity-indicator",children:[l.jsxs("div",{className:"capacity-text",children:[r,l.jsxs("span",{children:[n,": ",e," / ",t]})]}),l.jsx("div",{className:"capacity-bar-container",children:l.jsx("div",{className:`capacity-bar ${a?"overloaded":""}`,style:{width:`${Math.min(i,100)}%`}})})]})},dN=({run:e,assignedOrders:t=[],onDeselect:n,onDeleteAssignment:r,homeZone:s,triggerRefresh:o})=>{if(!e)return null;const{showToast:i}=_e(),[a,c]=ce.useState(!1),d={planned:{label:"Planned",className:"status-planned"},in_progress:{label:"In Progress",className:"status-in_progress"},completed:{label:"Completed",className:"status-completed"}}[e.status]??{label:e.status.replace(/_/g," "),className:`status-${e.status}`},f=async m=>{var h,v;c(!0);try{await Y.patch(`/api/runs/${e.id}/status`,{status:m}),i(`Run status updated to "${m.replace("_"," ")}".`,"success"),o()}catch(x){console.error("Failed to update run status:",x);const g=((v=(h=x.response)==null?void 0:h.data)==null?void 0:v.message)||"Failed to update run status.";i(g,"error")}finally{c(!1)}},p=async()=>{var m,h;try{const v=await Y.get(`/api/runs/${e.id}/manifest`,{responseType:"blob"}),x=window.URL.createObjectURL(new Blob([v.data],{type:"application/pdf"})),g=document.createElement("a");g.href=x,g.setAttribute("download",`manifest_run_${e.id}.pdf`),document.body.appendChild(g),g.click(),g.remove(),window.URL.revokeObjectURL(x),i("Manifest generated successfully!","success")}catch(v){console.error("Failed to generate manifest:",v);const x=((h=(m=v.response)==null?void 0:m.data)==null?void 0:h.message)||"Failed to generate manifest.";i(x,"error")}};return l.jsxs("div",{className:"card planit-section active-run-view",children:[l.jsxs("div",{className:"planit-section-header",children:[l.jsx("h3",{children:e.displayText}),l.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[l.jsx("span",{className:`status ${d.className}`,children:d.label}),l.jsx("button",{type:"button",className:"btn-icon",title:"Close View","aria-label":"Close view",onClick:n,style:{marginLeft:"1rem"},children:l.jsx(ft,{size:18})})]})]}),l.jsx("div",{className:"run-capacity-details",style:{padding:"0 1rem 1rem 1rem",borderBottom:"1px solid var(--border-color)"},children:e.hasCapacity?l.jsxs(l.Fragment,{children:[l.jsx(kp,{current:e.totalKilos,max:e.maxPayload,label:"kg",icon:l.jsx(Cs,{size:14})}),l.jsx(kp,{current:e.totalSpaces,max:e.maxPallets,label:"spaces",icon:l.jsx(Ss,{size:14})})]}):l.jsxs("div",{className:"run-stats",children:[l.jsxs("span",{children:[l.jsx(Cs,{size:14})," ",e.totalKilos||0," kg"]}),l.jsxs("span",{children:[l.jsx(Ss,{size:14})," ",e.totalSpaces||0," spaces"]})]})}),l.jsxs("div",{className:"form-actions",style:{padding:"1rem",justifyContent:"center"},children:[e.status==="planned"&&l.jsxs("button",{type:"button",onClick:()=>f("in_progress"),className:"btn-primary",children:[l.jsx(zw,{size:16})," Start Run"]}),e.status==="in_progress"&&l.jsxs("button",{type:"button",onClick:()=>f("completed"),className:"btn-primary",children:[l.jsx(Su,{size:16})," Complete Run"]}),(e.status==="in_progress"||e.status==="completed")&&l.jsxs("button",{type:"button",onClick:p,className:"btn-secondary","aria-label":"Download manifest",children:[l.jsx(cl,{size:16})," Download Manifest"]})]}),l.jsx("div",{className:"planit-list-wrapper",children:l.jsx(yl,{droppableId:`run-active-${e.id}`,children:m=>l.jsxs("div",{...m.droppableProps,ref:m.innerRef,className:"planit-list",children:[t.map((h,v)=>{var y;const g=Di((y=h.recipient_details)==null?void 0:y.postCode,s)?"delivery":"collection";return l.jsx(Qu,{draggableId:`assigned-order-${h.id}`,index:v,children:b=>{var j,E;return l.jsxs("div",{ref:b.innerRef,...b.draggableProps,...b.dragHandleProps,className:"planit-list-item with-actions",style:{position:"relative",paddingLeft:"1.5rem"},children:[l.jsx("div",{className:`op-type-indicator ${g}`}),l.jsxs("div",{className:"planit-item-text",style:{display:"flex",flexDirection:"column",gap:"0.25rem",flexGrow:1},children:[l.jsxs("strong",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[g==="delivery"?l.jsx(yw,{size:16}):l.jsx(_w,{size:16}),h.order_number||h.customer_reference]}),l.jsx("div",{style:{fontSize:"0.85em",color:"var(--text-muted-color)"},children:(()=>{const N=g==="delivery"?h.recipient_details:h.sender_details;return l.jsxs("span",{children:[(N==null?void 0:N.name)??"",", ",(N==null?void 0:N.address1)??"",", ",(N==null?void 0:N.postCode)??""]})})()}),l.jsxs("div",{className:"run-stats",style:{fontSize:"0.85em",gap:"1rem"},children:[l.jsxs("span",{children:[l.jsx(Cs,{size:12})," ",((j=h.cargo_details)==null?void 0:j.total_kilos)||0," kg"]}),l.jsxs("span",{children:[l.jsx(Ss,{size:12})," ",((E=h.cargo_details)==null?void 0:E.total_spaces)||0," spaces"]})]})]}),l.jsx("div",{className:"planit-item-actions",children:l.jsx("button",{type:"button",className:"btn-icon btn-danger",title:"Unassign Order","aria-label":"Unassign order",onClick:()=>r(h.assignmentId),children:l.jsx(lr,{size:16})})})]})}},`assigned-order-${h.id}`)}),m.placeholder]})})})]})},fN=w.memo(dN),Qy=e=>{const t=cN(),n=!!t,r=n?t:e,{isPopOut:s=n,...o}=r,i=w.useCallback(a=>{const c={...o};Object.keys(c).forEach(u=>{typeof c[u]=="function"&&delete c[u]}),sessionStorage.setItem("popOutData",JSON.stringify(c)),window.open("/planit/popout","PlanIt View","width=1200,height=800,resizable=yes,scrollbars=yes")},[o]);return l.jsx(tN,{initialData:o,...o,children:l.jsx(pN,{isPopOut:s,handlePopOut:i})})},pN=({isPopOut:e,handlePopOut:t})=>{const{selectedDate:n,activeRunId:r,editingRun:s,isFormVisible:o,selectedOrderIds:i,contextMenu:a,handleAddNewRun:c,setSelectedDate:u,setActiveRunId:d,setIsFormVisible:f,handleSaveRun:p,handleBulkAssign:m,handleBulkDelete:h,setContextMenu:v,triggerRefresh:x,handleEditRun:g,enrichedRuns:y,availableOrders:b,activeRun:j,ordersForActiveRun:E,handleDragEnd:N,handleDeleteAssignment:R,handleDeleteRun:C,isLoadingRuns:_,initialData:{drivers:S,trucks:k,trailers:P,zones:T,pallets:$}}=qy();if(!S||!k||!P||!T)return l.jsx("div",{className:"loading",children:"Loading planning data..."});const M=nN(T);ce.useEffect(()=>{const D=()=>v({visible:!1,x:0,y:0});return window.addEventListener("click",D),()=>window.removeEventListener("click",D)},[v]);const F=w.useCallback(D=>{d(A=>A===D?null:D)},[d]),H=w.useCallback(()=>d(null),[d]);return l.jsxs(Oy,{onDragEnd:N,children:[o&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"modal-backdrop",onClick:()=>f(!1)}),l.jsx(Ag,{itemToEdit:s??null,onSuccess:p,onCancel:()=>f(!1),drivers:S||[],trucks:k||[],trailers:P||[]})]}),l.jsx("div",{className:"planit-container-resizable",children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"1rem",height:"100%"},children:[l.jsx(iN,{orders:b,zones:T||[],homeZone:M,selectedDate:n,onPopOut:t}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",minHeight:0},children:[a.visible&&l.jsxs("div",{className:"context-menu",style:{top:a.y,left:a.x},children:[l.jsx("button",{type:"button",onClick:m,disabled:!r,"aria-label":"Assign selected to active run",children:"Assign to Active Run"}),i.length>1&&l.jsxs("button",{type:"button",onClick:h,className:"btn-danger","aria-label":`Delete ${i.length} orders`,children:["Delete ",i.length," Orders"]})]}),l.jsx(aN,{runs:y,onPopOut:t,onDelete:C,handleAddNewRun:c,onEdit:g,selectedDate:n,onDateChange:u,activeRunId:r,isLoading:_,onRunSelect:F}),l.jsx(fN,{run:j,assignedOrders:E||[],onDeselect:H,onDeleteAssignment:R,homeZone:M,triggerRefresh:x})]})]})})]})},mN=({invoices:e=[]})=>{const{showToast:t}=_e(),n=Array.isArray(e)?e:[],r=[{key:"invoice_number",header:"Invoice #",icon:l.jsx(cl,{size:16}),sortable:!0},{key:"customer_name",header:"Customer",icon:l.jsx(kg,{size:16}),sortable:!0},{key:"issue_date",header:"Issue Date",icon:l.jsx(Cg,{size:16}),render:o=>new Date(o.issue_date).toLocaleDateString(),sortable:!0},{key:"due_date",header:"Due Date",render:o=>new Date(o.due_date).toLocaleDateString(),sortable:!0},{key:"total_amount",header:"Amount",icon:l.jsx(qs,{size:16}),render:o=>`${parseFloat(o.total_amount).toFixed(2)}`,sortable:!0},{key:"status",header:"Status",render:o=>l.jsx("span",{className:`status status-${o.status}`,children:o.status}),sortable:!0}],s=async o=>{try{const i=await Y.get(`/api/invoices/${o}/pdf`,{responseType:"blob"}),a=window.URL.createObjectURL(new Blob([i.data])),c=document.createElement("a");c.href=a,c.setAttribute("download",`invoice_${o}.pdf`),document.body.appendChild(c),c.click(),c.remove()}catch{t("Failed to download invoice PDF.","error")}};return l.jsx(Yt,{items:n,columns:r,title:"Generated Invoices",filterPlaceholder:"Filter invoices...",filterKeys:["invoice_number","customer_name","status"],initialSortKey:"issue_date",customActions:[{icon:l.jsx(fo,{size:16}),onClick:o=>s(o.id),title:"Download PDF"}]})},hN=({orders:e=[],customers:t=[],surcharges:n=[],invoices:r=[],onEdit:s,onRefresh:o,invoiceActions:i})=>{const{showToast:a}=_e(),[c,u]=w.useState("overview"),[d,f]=w.useState({start:new Date(new Date().setMonth(new Date().getMonth()-1)).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[p,m]=w.useState({visible:!1,x:0,y:0,selectedOrder:null}),[h,v]=w.useState(""),x=w.useMemo(()=>new Map(t.map(k=>[k.id,k])),[t]);w.useMemo(()=>new Map(n.map(k=>[k.code.toLowerCase(),k.name])),[n]);const g=w.useMemo(()=>new Map(n.map(k=>[k.code,k])),[n]);ce.useEffect(()=>{const k=()=>m({visible:!1,x:0,y:0,selectedOrder:null});return window.addEventListener("click",k),()=>window.removeEventListener("click",k)},[]);const y=k=>{if(!k||!Array.isArray(k.pallets)||k.pallets.length===0)return"No cargo data";const P=k.price_breakdown||{},T=k.pallets.reduce((M,F)=>(M[F.type]=(M[F.type]||0)+(Number(F.quantity)||0),M),{}),$=Object.entries(T).map(([M,F])=>l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9em",gap:"1rem"},children:[l.jsxs("span",{style:{textTransform:"capitalize"},children:[F," x ",M.replace("_"," "),":"]}),l.jsxs("strong",{children:["",(P[M]||0).toFixed(2)]})]},M));return $.length>0?l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:$}):"Empty"},b=[{key:"customer_code",header:"Customer Code",sortable:!0,render:k=>{var P;return((P=x.get(k.customer_id))==null?void 0:P.customer_code)||"N/A"}},{key:"order_number",header:"Consignment #",icon:l.jsx(Cu,{size:16}),sortable:!0},{key:"loading",header:"Loading",sortable:!0,render:k=>{var P,T;return l.jsxs("div",{children:[l.jsxs("div",{children:[(P=k.sender_details)==null?void 0:P.name,", ",(T=k.sender_details)==null?void 0:T.townCity]}),l.jsx("div",{className:"date-time",children:new Date(k.loading_date_time).toLocaleString()})]})},sortKey:"loading_date_time"},{key:"unloading",header:"Unloading",sortable:!0,render:k=>{var P,T;return l.jsxs("div",{children:[l.jsxs("div",{children:[(P=k.recipient_details)==null?void 0:P.name,", ",(T=k.recipient_details)==null?void 0:T.townCity]}),l.jsx("div",{className:"date-time",children:new Date(k.unloading_date_time).toLocaleString()})]})},sortKey:"unloading_date_time"},{key:"cargo_details",header:"Cargo Breakdown",render:k=>y(k.cargo_details)},{key:"total_kilos",header:"Total Weight (kg)",render:k=>{var P;return((P=k.cargo_details)==null?void 0:P.total_kilos)||0},sortable:!0,sortKey:"cargo_details.total_kilos"},{key:"total_spaces",header:"Total Spaces",render:k=>{var P;return((P=k.cargo_details)==null?void 0:P.total_spaces)||0},sortable:!0,sortKey:"cargo_details.total_spaces"},{key:"calculated_price",header:"Calculated Price",icon:l.jsx(qs,{size:16}),render:k=>k.calculated_price?`${parseFloat(k.calculated_price).toFixed(2)}`:"-",sortable:!0},{key:"surcharges",header:"Surcharges",render:k=>{const T=(k.selected_surcharges||[]).map(($,M)=>{const F=g.get($);if(!F||parseFloat(F.amount)<=0)return null;const H=F.amount,D=F.calculation_method==="per_order"?"PerC":"PerP";return l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9em",gap:"1rem"},children:[l.jsxs("span",{children:[$.toUpperCase()," (",D,"):"]}),l.jsxs("strong",{children:["",parseFloat(H).toFixed(2)]})]},`${$}-${M}`)}).filter(Boolean);return T.length>0?l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:T}):"-"}},{key:"final_price",header:"Final Price",icon:l.jsx(qs,{size:16}),render:k=>k.final_price?`${parseFloat(k.final_price).toFixed(2)}`:"-",sortable:!0}],j=w.useMemo(()=>{const{start:k,end:P}=d;return!k||!P?e:e.filter(T=>{const $=T.unloading_date_time;if(!$)return!1;const M=new Date($).toISOString().split("T")[0];return M>=k&&M<=P})},[e,d]),E=w.useMemo(()=>j.reduce((k,P)=>{var T,$;return k.totalKilos+=((T=P.cargo_details)==null?void 0:T.total_kilos)||0,k.totalSpaces+=(($=P.cargo_details)==null?void 0:$.total_spaces)||0,k.calculatedPrice+=parseFloat(P.calculated_price)||0,k.finalPrice+=parseFloat(P.final_price)||0,k},{totalKilos:0,totalSpaces:0,calculatedPrice:0,finalPrice:0}),[j]),N={total_kilos:E.totalKilos.toFixed(2),total_spaces:E.totalSpaces.toFixed(0),final_price:`${E.finalPrice.toFixed(2)}`},R=()=>{const k=b.map(D=>D.header).join(","),P=j.map(D=>b.map(A=>{var O,B;let L;if(A.render)if(A.key==="cargo_details"||A.key==="surcharges"){const U=((O=D.cargo_details)==null?void 0:O.price_breakdown)||{};let J=[];A.key==="cargo_details"?J=Object.entries(((B=D.cargo_details)==null?void 0:B.pallets)||{}).filter(([,ee])=>ee.count>0).map(([ee,ae])=>`${ee}: ${ae.count}x${(U[ee]/ae.count||0).toFixed(2)}`):J=Object.entries(U).filter(([ee])=>!["micro","quarter","half","plus_half","full"].includes(ee)).map(([ee,ae])=>`${ee.toUpperCase()}: ${parseFloat(ae).toFixed(2)}`),L=J.join("; ")}else if(A.key==="loading"||A.key==="unloading"){const U=A.key==="loading"?D.sender_details:D.recipient_details,J=A.key==="loading"?D.loading_date_time:D.unloading_date_time;L=`${U==null?void 0:U.name}, ${U==null?void 0:U.townCity} (${new Date(J).toLocaleString()})`}else{const U=A.render(D);L=typeof U=="object"?JSON.stringify(U):String(U).replace(//g,"")}else L=D[A.key];return`"${String(L||"").replace(/"/g,'""')}"`}).join(",")),T=[k,...P].join(`
`),$=new Blob([T],{type:"text/csv;charset=utf-8;"}),M=URL.createObjectURL($),F=document.createElement("a");F.setAttribute("href",M);const H=new Date().toISOString().slice(0,10);F.setAttribute("download",`finance_overview_${H}.csv`),F.style.visibility="hidden",document.body.appendChild(F),F.click(),document.body.removeChild(F)},C=async()=>{var k,P;if(!h){a("Please select a customer first.","warning");return}try{await i.create({customerId:h,startDate:d.start,endDate:d.end}),a("Invoice generated successfully!","success")}catch(T){a(((P=(k=T.response)==null?void 0:k.data)==null?void 0:P.error)||"Failed to generate invoice.","error")}},_=(k,P)=>{k.preventDefault(),m({visible:!0,x:k.clientX,y:k.clientY,selectedOrder:P})},S=()=>{p.selectedOrder&&s&&s(p.selectedOrder),m({visible:!1,x:0,y:0,selectedOrder:null})};return l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"tabs-container",style:{marginBottom:"2rem"},children:[l.jsx("button",{className:`tab-button ${c==="overview"?"active":""}`,onClick:()=>u("overview"),children:"Overview"}),l.jsx("button",{className:`tab-button ${c==="invoices"?"active":""}`,onClick:()=>u("invoices"),children:"Invoices"})]}),c==="overview"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"planit-section-header",style:{padding:"0 0 1rem 0",marginBottom:"1rem"},children:[l.jsx("h3",{children:"Finance Overview"}),l.jsxs("div",{className:"form-group",style:{margin:"0 0 0 1rem",minWidth:"160px"},children:[l.jsx("label",{style:{fontSize:"0.8rem",marginBottom:"0.25rem"},children:"From Date"}),l.jsx("input",{type:"date",value:d.start,onChange:k=>f(P=>({...P,start:k.target.value}))})]}),l.jsxs("div",{className:"form-group",style:{margin:"0 0 0 1rem",minWidth:"160px"},children:[l.jsx("label",{style:{fontSize:"0.8rem",marginBottom:"0.25rem"},children:"To Date"}),l.jsx("input",{type:"date",value:d.end,onChange:k=>f(P=>({...P,end:k.target.value}))})]}),l.jsx("div",{style:{marginLeft:"auto"},children:l.jsxs("button",{onClick:R,className:"btn-secondary",children:[l.jsx(fo,{size:16})," Export"]})})]}),l.jsxs("div",{className:"planit-section-header",style:{padding:"0 0 1rem 0",marginBottom:"1rem",borderBottom:"1px solid var(--border-color)"},children:[l.jsx("h4",{children:"Invoicing"}),l.jsxs("div",{className:"form-group",style:{margin:"0 0 0 1rem",minWidth:"200px"},children:[l.jsx("label",{style:{fontSize:"0.8rem",marginBottom:"0.25rem"},children:"Customer"}),l.jsxs("select",{value:h,onChange:k=>v(k.target.value),children:[l.jsx("option",{value:"",children:"-- Select a customer --"}),t.map(k=>l.jsx("option",{value:k.id,children:k.name},k.id))]})]}),l.jsx("div",{style:{marginLeft:"1rem",alignSelf:"flex-end"},children:l.jsxs("button",{onClick:C,className:"btn-primary",disabled:!h,children:[l.jsx(cl,{size:16})," Generate Invoice"]})})]}),p.visible&&l.jsx("div",{className:"context-menu",style:{top:p.y,left:p.x},children:l.jsx("button",{onClick:S,children:"Edit Consignment"})}),l.jsx(Yt,{items:j,columns:b,filterPlaceholder:"Filter by consignment or customer...",filterKeys:["order_number","customer_reference","recipient_details.name"],initialSortKey:"unloading_date_time",onContextMenu:_,footerData:N})]}),c==="invoices"&&l.jsx(mN,{invoices:r})]})},gN={code:"",name:"",description:"",calculation_method:"per_order",amount:0,is_automatic:!1,requires_time:!1,start_time:"",end_time:""},yN=()=>{const{data:e,createResource:t,updateResource:n,deleteResource:r,fetchData:s}=st("/api/surcharge-types"),{showToast:o}=_e(),[i,a]=w.useState(!1),[c,u]=w.useState(null),d=async b=>{var j,E;try{c?(await n(c.id,b),o("Surcharge type updated successfully!","success")):(await t(b),o("Surcharge type created successfully!","success")),a(!1),u(null)}catch(N){throw o(((E=(j=N.response)==null?void 0:j.data)==null?void 0:E.error)||"Failed to save surcharge type.","error"),N}},{formData:f,handleChange:p,handleSubmit:m,loading:h}=un({initialState:gN,onSubmit:d,itemToEdit:w.useMemo(()=>c?{...c,start_time:c.start_time?c.start_time.substring(0,5):"",end_time:c.end_time?c.end_time.substring(0,5):""}:null,[c])}),v=async b=>{var j,E;if(window.confirm("Are you sure you want to delete this surcharge type?"))try{await r(b),o("Surcharge type deleted.","success"),s()}catch(N){o(((E=(j=N.response)==null?void 0:j.data)==null?void 0:E.error)||"Failed to delete surcharge type.","error")}},x=()=>{u(null),a(!0)},g=b=>{u(b),a(!0)},y=()=>{a(!1),u(null)};return l.jsxs("div",{className:"card",children:[l.jsx("h2",{children:"Surcharge Types Management"}),!i&&l.jsxs("button",{onClick:x,className:"btn-primary",style:{marginBottom:"1rem"},children:[l.jsx(nr,{size:16})," Add New Surcharge Type"]}),i&&l.jsxs("form",{onSubmit:m,className:"form",style:{marginBottom:"2rem",border:"1px solid #eee",padding:"1rem",borderRadius:"8px"},children:[l.jsx("h5",{children:c?"Edit Surcharge Type":"Add New Surcharge Type"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Code *"}),l.jsx("input",{type:"text",name:"code",value:f.code,onChange:p,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Name *"}),l.jsx("input",{type:"text",name:"name",value:f.name,onChange:p,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Description"}),l.jsx("input",{type:"text",name:"description",value:f.description,onChange:p})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Calculation Method"}),l.jsxs("select",{name:"calculation_method",value:f.calculation_method,onChange:p,children:[l.jsx("option",{value:"per_order",children:"Per Order"}),l.jsx("option",{value:"per_pallet_space",children:"Per Pallet Space"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Amount ()"}),l.jsx("input",{type:"number",step:"0.01",name:"amount",value:f.amount,onChange:p})]}),l.jsxs("div",{className:"form-group",style:{flexDirection:"row",alignItems:"center"},children:[l.jsx("input",{type:"checkbox",id:"is_automatic",name:"is_automatic",checked:f.is_automatic,onChange:p}),l.jsx("label",{htmlFor:"is_automatic",style:{marginBottom:0,marginLeft:"0.5rem"},children:"Automatic"})]}),l.jsxs("div",{className:"form-group",style:{flexDirection:"row",alignItems:"center"},children:[l.jsx("input",{type:"checkbox",id:"requires_time",name:"requires_time",checked:f.requires_time,onChange:p}),l.jsx("label",{htmlFor:"requires_time",style:{marginBottom:0,marginLeft:"0.5rem"},children:"Requires Time"})]}),f.requires_time&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Default Start Time"}),l.jsx("input",{type:"time",name:"start_time",value:f.start_time,onChange:p})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Default End Time"}),l.jsx("input",{type:"time",name:"end_time",value:f.end_time,onChange:p})]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",onClick:y,className:"btn-secondary",disabled:h,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:h,children:h?"Saving...":"Save"})]})]}),l.jsx("div",{className:"table-wrapper",children:l.jsxs("table",{className:"data-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Code"}),l.jsx("th",{children:"Name"}),l.jsx("th",{children:"Method"}),l.jsx("th",{children:"Amount"}),l.jsx("th",{children:"Automatic"}),l.jsx("th",{children:"Requires Time"}),l.jsx("th",{children:"Start Time"}),l.jsx("th",{children:"End Time"}),l.jsx("th",{children:"Actions"})]})}),l.jsx("tbody",{children:e.map(b=>l.jsxs("tr",{children:[l.jsx("td",{children:b.code}),l.jsx("td",{children:b.name}),l.jsx("td",{style:{textTransform:"capitalize"},children:b.calculation_method.replace("_"," ")}),l.jsxs("td",{children:["",parseFloat(b.amount).toFixed(2)]}),l.jsx("td",{children:b.is_automatic?"Yes":"No"}),l.jsx("td",{children:b.requires_time?"Yes":"No"}),l.jsx("td",{children:b.start_time||"-"}),l.jsx("td",{children:b.end_time||"-"}),l.jsxs("td",{className:"actions-cell",children:[l.jsx("button",{onClick:()=>g(b),className:"btn-icon",children:l.jsx(po,{size:16})}),l.jsx("button",{onClick:()=>v(b.id),className:"btn-icon btn-danger",children:l.jsx(lr,{size:16})})]})]},b.id))})]})})]})},vN=({isOpen:e,onClose:t,onConfirm:n,title:r,message:s})=>e?l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"modal-content card",children:[l.jsx("button",{onClick:t,className:"btn-icon modal-close-button",children:l.jsx(ft,{size:24})}),l.jsxs("div",{className:"modal-header",children:[l.jsx(ju,{size:48,className:"text-danger"}),l.jsx("h2",{className:"modal-title",children:r||"Confirm Action"})]}),l.jsx("div",{className:"modal-body",children:l.jsx("p",{children:s||"Are you sure you want to perform this action?"})}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{onClick:t,className:"btn-secondary",children:"Cancel"}),l.jsx("button",{onClick:n,className:"btn-danger",children:"Confirm"})]})]})}):null,we=(e,t,n)=>({key:e,header:t,render:n}),Yy={orders:{title:"Import Orders",apiEndpoint:"/api/orders/import",postDataKey:"orders",dataMappingFn:e=>({order_number:e.ConsignmentNumber,customer_reference:e.CustomerReference,customer_code:e.AccountCode,status:"nowe",sender_details:{name:e.CollectionName,address1:e.CollectionAddress1,address2:e.CollectionAddress2,townCity:e.CollectionTownCity,postCode:e.CollectionPostCode},recipient_details:{name:e.DeliveryName,address1:e.DeliveryAddress1,address2:e.DeliveryAddress2,townCity:e.DeliveryTownCity,postCode:e.DeliveryPostCode},loading_date_time:e.CollectionDate?`${e.CollectionDate}T${e.CollectionTime||"12:00:00"}`:null,unloading_date_time:e.DeliveryDate?`${e.DeliveryDate}T${e.DeliveryTime||"12:00:00"}`:null,...(()=>{const t={BW:{hours:4,type:"window"},AM:{startTime:"09:00",type:"before"},PT:{startTime:"09:00",type:"before"}},n=(e.Surcharges||"").split(" ").filter(Boolean),r=e.DeliveryTime||null,s=n.find(o=>t[o]);if(s&&r){const o=t[s],i=r.slice(0,5);let a=o.startTime;if(o.type==="window"){const[c,u]=i.split(":").map(Number),d=new Date(0,0,0,c,u);d.setHours(d.getHours()-o.hours),a=d.toTimeString().slice(0,5)}return{unloading_start_time:a,unloading_end_time:i}}return{unloading_start_time:(r==null?void 0:r.slice(0,5))||null,unloading_end_time:null}})(),cargo_details:{description:`Spaces: ${e.TotalSpaces}, Kilos: ${e.TotalKilos}`,pallets:Object.entries({full:{quantity:parseInt(e.FullQ)||0,spaces:parseFloat(e.FullS)||parseInt(e.FullQ)||0,weight:parseFloat(e.FullW)||0},half:{quantity:parseInt(e.HalfQ)||0,spaces:parseFloat(e.HalfS)||.5*(parseInt(e.HalfQ)||0),weight:parseFloat(e.HalfW)||0},half_plus:{quantity:parseInt(e.HalfPlusQ)||0,spaces:parseFloat(e.HalfPlusS)||1.5*(parseInt(e.HalfPlusQ)||0),weight:parseFloat(e.HalfPlusW)||0},quarter:{quantity:parseInt(e.QuarterQ)||0,spaces:parseFloat(e.QuarterS)||.5*(parseInt(e.QuarterQ)||0),weight:parseFloat(e.QuarterW)||0},micro:{quantity:parseInt(e.MicroQ)||0,spaces:parseFloat(e.MicroS)||.25*(parseInt(e.MicroQ)||0),weight:parseFloat(e.MicroW)||0}}).filter(([,t])=>t.quantity>0).map(([t,n])=>({type:t,quantity:n.quantity,spaces:n.spaces,weight:n.weight})),total_kilos:parseFloat(e.TotalKilos)||0,total_spaces:parseFloat(e.TotalSpaces)||0,amazon_asn:e.AmazonASN,amazon_fbaref:e.AmazonFBARef,amazon_carton_count:parseInt(e.AmazonCartonCount,10)||null,amazon_unit_count:parseInt(e.AmazonUnitCount,10)||null,amazon_poref:e.AmazonPORef},service_level:e.ServiceCode||"A",selected_surcharges:(e.Surcharges||"").split(" ").filter(Boolean)}),previewColumns:[we("order_number","Consignment #"),we("customer_code","Customer Code"),we("sender_details.name","Sender"),we("recipient_details.name","Recipient")]},customers:{title:"Import Customers",apiEndpoint:"/api/customers/import",dataMappingFn:e=>e,previewColumns:[we("customer_code","Code"),we("name","Name"),we("postcode","Postcode")]},drivers:{title:"Import Drivers",apiEndpoint:"/api/drivers/import",dataMappingFn:e=>e,previewColumns:[we("first_name","First Name"),we("last_name","Last Name"),we("login_code","Login Code")]},trucks:{title:"Import Vehicles",apiEndpoint:"/api/trucks/import",postDataKey:"trucks",dataMappingFn:e=>({registration_plate:e.registration_plate||"",brand:e.brand||"",model:e.model||"",vin:e.vin||"",production_year:e.production_year?parseInt(e.production_year,10):null,type_of_truck:e.type_of_truck||"tractor",total_weight:e.total_weight?parseInt(e.total_weight,10):null,pallet_capacity:e.pallet_capacity?parseInt(e.pallet_capacity,10):null,max_payload_kg:e.max_payload_kg?parseInt(e.max_payload_kg,10):null,is_active:!(e.is_deleted==="true"||e.is_deleted===!0)}),previewColumns:[we("registration_plate","Reg. Plate"),we("brand","Brand"),we("type_of_truck","Type")]},trailers:{title:"Import Trailers",apiEndpoint:"/api/trailers/import",postDataKey:"trailers",dataMappingFn:e=>({registration_plate:e.registration_plate||"",description:e.description||"",category:e.category||"Own",brand:e.brand||"Unknown",max_payload_kg:e.max_payload_kg?parseInt(e.max_payload_kg,10):null,max_spaces:e.max_spaces?parseInt(e.max_spaces,10):null,length_m:e.length_m?parseFloat(e.length_m):null,width_m:e.width_m?parseFloat(e.width_m):null,height_m:e.height_m?parseFloat(e.height_m):null,weight_kg:e.weight_kg?parseInt(e.weight_kg,10):null,status:e.status?e.status.toLowerCase():"inactive"}),previewColumns:[we("registration_plate","Reg. Plate"),we("description","Description"),we("max_payload_kg","Payload (kg)"),we("status","Status")]},users:{title:"Import Users",apiEndpoint:"/api/users/import",dataMappingFn:e=>e,previewColumns:[we("email","Email"),we("first_name","First Name"),we("last_name","Last Name"),we("role","Role")]},zones:{title:"Import Postcode Zones",apiEndpoint:"/api/zones/import",dataMappingFn:e=>({...e,postcode_patterns:(e.postcode_patterns||"").split(";").map(t=>t.trim()).filter(Boolean),is_home_zone:["true","yes","1"].includes(String(e.is_home_zone).toLowerCase())}),previewColumns:[we("zone_name","Zone Name"),we("postcode_patterns","Patterns",e=>(e.postcode_patterns||[]).join(", ")),we("is_home_zone","Home Zone",e=>e.is_home_zone?"Yes":"No")]}},xN=()=>{const[e,t]=w.useState("orders"),[n,r]=w.useState(!1),[s,o]=w.useState(null),[i,a]=w.useState(null),[c,u]=w.useState({isOpen:!1,message:"",onConfirm:()=>{}});return{currentView:e,showForm:n,itemToEdit:s,importerConfig:i,modalState:c,handleViewChange:g=>{t(g),r(!1),a(null),o(null)},handleEditClick:g=>{o(g),a(null),r(!0)},handleCancelForm:()=>{r(!1),o(null)},handleShowImporter:g=>a(Yy[g]),handleHideImporter:()=>a(null),handleDeleteRequest:(g,y)=>{u({isOpen:!0,message:g,onConfirm:async()=>{await y(),u({isOpen:!1,message:"",onConfirm:()=>{}})}})},handleCloseModal:()=>{u({isOpen:!1,message:"",onConfirm:()=>{}})},setShowForm:r,setItemToEdit:o}},_N=e=>{console.log(" User role for data fetching:",e);const{isAuthenticated:t}=ir(),n=e==="admin",r=e==="dispatcher",s=w.useMemo(()=>({orders:st(t?"/api/orders":null),drivers:st(t&&n?"/api/drivers":null),trucks:st(t&&n?"/api/trucks":null),trailers:st(t&&n?"/api/trailers":null),users:st(t&&n?"/api/users":null),assignments:st(t?"/api/assignments":null),customers:st(t&&(n||r)?"/api/customers":null),zones:st(t&&(n||r)?"/api/zones":null),surcharges:st(t&&n?"/api/surcharge-types":null),invoices:st(t&&n?"/api/invoices":null),runs:st(t?"/api/runs":null,{initialFetch:!1})}),[t,n,r]),o=w.useCallback(()=>{console.log(" Refreshing all resources..."),Object.values(s).forEach(j=>j.fetchData&&j.fetchData())},[s]);Ju(o);const{orders:i,drivers:a,trucks:c,trailers:u,users:d,assignments:f,runs:p,customers:m,zones:h}=s;w.useMemo(()=>Object.values(s).some(j=>j.isLoading&&!j.data),[s,...Object.values(s).map(j=>j.data)]);const v=w.useMemo(()=>Object.values(s).map(j=>j.error).find(j=>j!=null),[s]),x=j=>{s[j]&&s[j].fetchData&&s[j].fetchData()},g=w.useMemo(()=>Object.fromEntries(Object.entries(s).map(([j,E])=>[j,E.data||[]])),[s,...Object.values(s).map(j=>j.data)]),y=w.useMemo(()=>g===null||Object.values(g).some(j=>j===null),[g]),b=Object.fromEntries(Object.entries(s).map(([j,E])=>[j,{create:E.createResource,update:E.updateResource,delete:E.deleteResource,bulkCreate:E.bulkCreate}]));return{data:g,isLoading:y,anyError:v,handleRefresh:x,refreshAll:o,actions:b}},Jy=w.createContext(null),vl=()=>{const e=w.useContext(Jy);if(!e)throw new Error("useDashboard must be used within a DashboardProvider");return e},Zy=({children:e})=>{const{user:t,logout:n}=ir(),{showToast:r}=_e(),s=io(),o=xN(),i=_N(t==null?void 0:t.role),d={...o,...i,user:t,handleLogout:()=>{n(),s("/login")},handleFormSuccess:()=>{i.refreshAll(),o.handleCancelForm()},handleGenericExport:async f=>{var p,m;try{const h=await Y.get(`/api/${f}/export`);r(h.data.message||`Export for ${f} successful!`,"success")}catch(h){const v=((m=(p=h.response)==null?void 0:p.data)==null?void 0:m.error)||`Failed to export ${f}.`;r(v,"error")}}};return l.jsx(Jy.Provider,{value:d,children:e})},bN=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(""),[s,o]=w.useState(null),{login:i,loading:a}=ir(),{showToast:c}=_e(),u=io(),d=w.useRef(null),f=async p=>{var m,h,v;p.preventDefault();try{await i(e,n),u("/")}catch(x){const g=((h=(m=x.response)==null?void 0:m.data)==null?void 0:h.error)||"Login failed. Please check your credentials.";c(g,"error"),r(""),(v=d.current)==null||v.focus(),console.error("Login error:",x)}};return l.jsx("div",{className:"auth-page",children:l.jsxs("div",{className:"auth-card",children:[l.jsx("h2",{children:"Login"}),l.jsxs("form",{onSubmit:f,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"email",children:"Email"}),l.jsx("input",{type:"email",id:"email",value:e,onChange:p=>t(p.target.value),ref:d,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"password",children:"Password"}),l.jsx("input",{type:"password",id:"password",value:n,onChange:p=>r(p.target.value),required:!0})]}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:a,children:a?"Logging in...":"Login"})]}),l.jsxs("p",{className:"auth-switch",children:["Don't have an account? ",l.jsx(Qh,{to:"/register",children:"Register"})]})]})})},wN=()=>{const[e,t]=w.useState(""),[n,r]=w.useState(""),[s,o]=w.useState(""),[i,a]=w.useState(""),[c,u]=w.useState(null),{register:d,loading:f}=ir(),p=io(),m=w.useRef(null),h=async v=>{var x,g,y;v.preventDefault(),u(null);try{await d({email:e,password:n,firstName:s,lastName:i}),p("/login")}catch(b){const j=((g=(x=b.response)==null?void 0:x.data)==null?void 0:g.error)||"Registration failed. Please try again.";u(j),r(""),(y=m.current)==null||y.focus(),console.error("Registration error:",b)}};return l.jsx("div",{className:"auth-page",children:l.jsxs("div",{className:"auth-card",children:[l.jsx("h2",{children:"Register"}),l.jsxs("form",{onSubmit:h,children:[c&&l.jsx("div",{className:"error-message",children:c}),l.jsxs("div",{className:"form-grid",style:{gap:"1rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"firstName",children:"First Name"}),l.jsx("input",{type:"text",id:"firstName",value:s,onChange:v=>o(v.target.value),required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"lastName",children:"Last Name"}),l.jsx("input",{type:"text",id:"lastName",value:i,onChange:v=>a(v.target.value),required:!0})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"email",children:"Email"}),l.jsx("input",{type:"email",id:"email",value:e,onChange:v=>t(v.target.value),ref:m,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"password",children:"Password"}),l.jsx("input",{type:"password",id:"password",value:n,onChange:v=>r(v.target.value),required:!0})]}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:f,children:f?"Registering...":"Register"})]}),l.jsxs("p",{className:"auth-switch",children:["Already have an account? ",l.jsx(Qh,{to:"/login",children:"Login"})]})]})})},SN=({viewConfig:e})=>{const{currentView:t,isLoading:n,anyError:r,handleRefresh:s,importerConfig:o,handleFormSuccess:i,handleHideImporter:a,showForm:c,handleCancelForm:u,itemToEdit:d,handleEditClick:f,handleDeleteRequest:p,user:m,data:h}=vl(),{drivers:v,trucks:x,trailers:g,customers:y,zones:b,surcharges:j}=h||{};if(!m||!e)return null;const E=e[t];if(!E)return null;if(E.Component&&!E.ListComponent)return l.jsx(Sr,{children:l.jsx(E.Component,{...E.props})});const N=Array.isArray(E==null?void 0:E.data)?E.data:[];if(r)return l.jsxs("div",{className:"error-container",children:[l.jsx("h3",{children:"Error loading data"}),l.jsx("p",{className:"error-message",children:r}),l.jsx("button",{onClick:()=>s(t),className:"btn-primary",children:"Try again"})]});if(E.ListComponent){if(o)return l.jsx(Sr,{onReset:()=>s(t),children:l.jsx(Yu,{...o,onSuccess:i,onCancel:a})});if(c){const C={onSuccess:i,onCancel:u,itemToEdit:d,...t==="orders"&&{drivers:v,trucks:x,trailers:g,clients:y,surcharges:j}};return l.jsx(Sr,{onReset:()=>onRefresh(t),children:l.jsx(E.FormComponent,{...C})})}const R={items:N,onRefresh:()=>s(t),onEdit:f,isLoading:n&&!Array.isArray(N),onDelete:p,currentUser:m,...t==="orders"&&{drivers:v,trucks:x,trailers:g,zones:b}};return console.log(" Rendering ListComponent:",{view:t,component:E.ListComponent.name,itemsCount:N.length,listProps:R}),l.jsx(Sr,{onReset:()=>s(t),children:l.jsx(E.ListComponent,{...R})})}return null},CN=e=>e?e.first_name&&e.last_name?`${e.first_name.charAt(0)}${e.last_name.charAt(0)}`.toUpperCase():e.email.split("@")[0].split(/[._-]/).filter(Boolean).map(r=>r.charAt(0)).join("").substring(0,2).toUpperCase():"",jN=[{title:"Main",icon:l.jsx(Iw,{size:16}),links:[{view:"orders",label:"Orders",icon:l.jsx(Cu,{size:18}),roles:["admin","dispatcher"]},{view:"runs",label:"Runs",icon:l.jsx(Ow,{size:18}),roles:["admin","dispatcher"]}]},{title:"PlanIt",icon:l.jsx(Oo,{size:16}),links:[{view:"planit",label:"PlanIt",icon:l.jsx(Oo,{size:18}),roles:["admin","dispatcher"]}]},{title:"Finance",icon:l.jsx(Yl,{size:16}),links:[{view:"finance",label:"Finance",icon:l.jsx(Yl,{size:18}),roles:["admin"]}]},{title:"Management",icon:l.jsx(Bf,{size:16}),links:[{view:"drivers",label:"Drivers",icon:l.jsx(kg,{size:18}),roles:["admin"]},{view:"trucks",label:"Vehicles",icon:l.jsx(Oo,{size:18}),roles:["admin"]},{view:"trailers",label:"Trailers",icon:l.jsx(Oo,{size:18,style:{transform:"scaleX(-1)"}}),roles:["admin"]},{view:"customers",label:"Customers",icon:l.jsx(zf,{size:18}),roles:["admin"]},{view:"users",label:"Users",icon:l.jsx(zf,{size:18}),roles:["admin"]}]},{title:"Settings",icon:l.jsx(Bf,{size:16}),links:[{view:"pricing",label:"Pricing",icon:l.jsx(qs,{size:18}),roles:["admin"]},{view:"surcharges",label:"Surcharges",icon:l.jsx(Yl,{size:18}),roles:["admin"]}]}],kN=()=>{const{user:e,handleLogout:t,currentView:n,handleViewChange:r,isLoading:s}=vl();return l.jsxs("nav",{className:"sidebar",children:[l.jsxs("div",{className:"sidebar-header",children:[l.jsx("div",{className:"user-avatar",title:e==null?void 0:e.email,children:l.jsx("span",{children:CN(e)})}),l.jsx("button",{onClick:t,className:"btn-icon btn-logout",title:"Logout",children:l.jsx(Fw,{size:20})})]}),l.jsx("h1",{className:"sidebar-title",children:" TMS System"}),s&&l.jsx("div",{className:"global-loading",children:"Loading..."}),l.jsx("div",{className:"sidebar-content",children:jN.map(o=>l.jsxs("div",{className:"sidebar-section",children:[l.jsx("div",{className:"sidebar-section-icon",children:o.icon}),o.links.filter(i=>i.roles.includes(e==null?void 0:e.role)).map(i=>l.jsx("button",{title:i.label,className:`tab ${n===i.view?"tab-active":""}`,onClick:()=>r(i.view),disabled:s,children:i.icon},i.view))]},o.title))})]})},EN=({viewConfig:e})=>{var y;const{user:t}=ir(),{currentView:n,showForm:r,importerConfig:s,handleShowImporter:o,handleCancelForm:i,setShowForm:a,setItemToEdit:c,handleHideImporter:u,handleGenericExport:d,isLoading:f}=vl();if(!e||!n)return l.jsxs("header",{className:"main-header",children:[l.jsx("div",{}),l.jsx("div",{className:"main-header-actions"})]});const p={orders:"order",drivers:"driver",trucks:"truck",trailers:"trailer",runs:"run",users:"user",customers:"customer",zones:"zone",planit:"PlanIt",finance:"Finance",pricing:"Pricing"},m=()=>p[n]||"",h=["drivers","trucks","trailers","customers","users"],v=Yy[n]&&(t==null?void 0:t.role)==="admin",x=h.includes(n)&&(t==null?void 0:t.role)==="admin",g=(y=e[n])==null?void 0:y.FormComponent;return l.jsxs("header",{className:"main-header",children:[l.jsx("div",{}),l.jsxs("div",{className:"main-header-actions",children:[v&&l.jsxs("button",{onClick:()=>o(n),className:"btn-secondary",disabled:f||r||s,children:[l.jsx(ku,{size:16})," Import from CSV"]}),x&&l.jsxs("button",{onClick:()=>d(n),className:"btn-secondary",disabled:f,children:[l.jsx(fo,{size:16})," Export"]}),g&&l.jsx("button",{onClick:()=>{r?i():(c(null),a(!0),u())},className:"btn-primary",disabled:f,children:r?"Cancel":l.jsxs(l.Fragment,{children:[l.jsx(nr,{size:16})," Add ",m()]})})]})]})},NN=()=>{const[e,t]=w.useState(!1),[n,r]=w.useState(""),[s,o]=w.useState(!1),{user:i}=ir(),{showToast:a}=_e();if(!i)return null;const c=async u=>{var d,f;if(u.preventDefault(),!n.trim()){a("Please provide a description of the issue.","error");return}o(!0);try{const p={description:n,context:{url:window.location.href,user:{id:i.id,email:i.email,role:i.role},userAgent:navigator.userAgent}};await Y.post("/api/feedback/report-bug",p),a("Bug report sent successfully. Thank you!","success"),t(!1),r("")}catch(p){a(((f=(d=p.response)==null?void 0:d.data)==null?void 0:f.error)||"Failed to send bug report.","error")}finally{o(!1)}};return l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>t(!0),className:"btn-icon",style:{position:"fixed",bottom:"2rem",right:"2rem",backgroundColor:"var(--danger-color)",color:"white",width:"50px",height:"50px",borderRadius:"50%",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",zIndex:999},title:"Report a Bug",children:l.jsx(Cw,{size:24})}),e&&l.jsx("div",{className:"modal-overlay",children:l.jsx("div",{className:"modal-content card",style:{width:"500px"},children:l.jsxs("form",{onSubmit:c,children:[l.jsx("h4",{children:"Report a Bug"}),l.jsx("p",{children:"Please describe the issue you encountered. Include steps to reproduce it if possible."}),l.jsx("textarea",{value:n,onChange:u=>r(u.target.value),rows:"6",required:!0,style:{width:"100%",padding:"0.5rem",boxSizing:"border-box"}}),l.jsxs("div",{className:"form-actions",style:{marginTop:"1rem"},children:[l.jsx("button",{type:"button",onClick:()=>t(!1),className:"btn-secondary",disabled:s,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:s,children:s?"Sending...":"Send Report"})]})]})})})]})},DN=({user:e,data:t,actions:n,refreshAll:r,handleDeleteRequest:s,handleEditOrderFromAnywhere:o,handlePrintLabels:i})=>{var C;const a=(e==null?void 0:e.role)==="admin",c=(e==null?void 0:e.role)==="dispatcher",{orders:u,drivers:d,trucks:f,trailers:p,users:m,assignments:h,runs:v,customers:x,zones:g,surcharges:y,invoices:b}=t||{};console.log(" viewConfig data check:",{orders:Array.isArray(u)?u.length:"undefined",drivers:Array.isArray(d)?d.length:"undefined",trucks:Array.isArray(f)?f.length:"undefined",trailers:Array.isArray(p)?p.length:"undefined",users:Array.isArray(m)?m.length:"undefined",assignments:Array.isArray(h)?h.length:"undefined",runs:Array.isArray(v)?v.length:"undefined",customers:Array.isArray(x)?x.length:"undefined",zones:Array.isArray(g)?g.length:"undefined",surcharges:Array.isArray(y)?y.length:"undefined",invoices:Array.isArray(b)?b.length:"undefined"});const j={runs:{Component:j1,props:{runs:v,trucks:f,trailers:p,drivers:d,onDataRefresh:r,onDeleteRequest:s,runActions:n==null?void 0:n.runs}},planit:{Component:Qy,props:{orders:u,runs:v,assignments:Array.isArray(h)?h:[],drivers:d,trucks:f,trailers:p,zones:g,pallets:(t==null?void 0:t.pallets)||[],onAssignmentCreated:r,onEdit:o,surcharges:y,runActions:n==null?void 0:n.runs,onDeleteRequest:s,bulkAssignOrders:(C=n==null?void 0:n.assignments)==null?void 0:C.bulkCreate}},finance:{Component:hN,props:{orders:u,customers:x,surcharges:y,invoices:b,onEdit:o,onRefresh:r,invoiceActions:n.invoices}},pricing:{Component:XE,props:{customers:x,zones:g,onRefresh:r}},surcharges:{Component:yN,props:{surcharges:y}}},E={drivers:{ListComponent:f1,FormComponent:m1,data:Array.isArray(d)?d:[]},trucks:{ListComponent:h1,FormComponent:g1,data:Array.isArray(f)?f:[]},customers:{ListComponent:x1,FormComponent:b1,data:Array.isArray(x)?x:[]},trailers:{ListComponent:y1,FormComponent:v1,data:Array.isArray(p)?p:[]},users:{ListComponent:S1,FormComponent:C1,data:Array.isArray(m)?m:[]}},N={orders:{ListComponent:w1,FormComponent:Pg,formProps:{clients:Array.isArray(x)?x:[],surcharges:Array.isArray(y)?y:[]},data:Array.isArray(u)?u:[],customActions:[{icon:l.jsx(jg,{size:16}),onClick:i,title:"Print Pallet Labels"}]}};let R={...j};return a?R={...R,...E,...N}:c&&(R={...R,...N}),R};console.log(" Environment variables:");console.log("VITE_API_BASE_URL:","http://149.71.141.253:3000");console.log("Mode:","production");const RN=()=>{var v,x,g,y,b,j,E,N,R,C,_;const{user:e,modalState:t,handleCloseModal:n,handleDeleteRequest:r,showToast:s,data:o,isLoading:i,anyError:a,refreshAll:c,actions:u}=vl();console.log(" COMPLETE Dashboard data structure:",{data:o,isLoading:i,orders:(v=o==null?void 0:o.orders)==null?void 0:v.length,drivers:(x=o==null?void 0:o.drivers)==null?void 0:x.length,trucks:(g=o==null?void 0:o.trucks)==null?void 0:g.length,trailers:(y=o==null?void 0:o.trailers)==null?void 0:y.length,users:(b=o==null?void 0:o.users)==null?void 0:b.length,assignments:(j=o==null?void 0:o.assignments)==null?void 0:j.length,customers:(E=o==null?void 0:o.customers)==null?void 0:E.length,zones:(N=o==null?void 0:o.zones)==null?void 0:N.length,surcharges:(R=o==null?void 0:o.surcharges)==null?void 0:R.length,invoices:(C=o==null?void 0:o.invoices)==null?void 0:C.length,runs:(_=o==null?void 0:o.runs)==null?void 0:_.length});const{customers:d,surcharges:f}=o||{},p=S=>{if(!S||!S.id)return;sessionStorage.setItem("editOrderData",JSON.stringify({itemToEdit:S,clients:d,surcharges:f}));const k=`/orders/${S.id}/edit`;window.open(k,`Edit Order ${S.order_number||S.id}`,"width=1000,height=800,resizable=yes,scrollbars=yes")},m=async S=>{try{const k=await Y.get(`/api/orders/${S}/labels`,{responseType:"blob"}),P=window.URL.createObjectURL(new Blob([k.data])),T=document.createElement("a");T.href=P,T.setAttribute("download",`labels_order_${S}.pdf`),document.body.appendChild(T),T.click(),T.remove(),window.URL.revokeObjectURL(P)}catch{s("Failed to download labels.","error")}},h=w.useMemo(()=>{const S=DN({user:e,data:o,actions:u,refreshAll:c,handleDeleteRequest:r,handleEditOrderFromAnywhere:p,handlePrintLabels:m});return console.log(" ViewConfig structure:",{configKeys:Object.keys(S),ordersConfig:S.orders,runsConfig:S.runs,planitConfig:S.planit}),S},[e,o,u,c,r,p,m]);return w.useEffect(()=>(document.body.classList.add("main-app-body"),()=>{document.body.classList.remove("main-app-body")}),[]),o===null?l.jsx("div",{className:"loading",children:"Loading initial application data..."}):a?l.jsxs("div",{className:"error-container card",children:[l.jsx("h2",{children:"Failed to load application data"}),l.jsx("p",{children:"There was an error fetching essential data. Please try again."}),l.jsx("p",{className:"error-message",children:a}),l.jsx("button",{onClick:()=>c(),className:"btn-primary",children:"Try Again"})]}):l.jsxs("div",{className:"app-container",children:[l.jsx(kN,{}),l.jsxs("main",{className:"main-content",children:[l.jsx(EN,{viewConfig:h}),l.jsx(SN,{viewConfig:h}),l.jsx(vN,{isOpen:t.isOpen,onClose:n,onConfirm:t.onConfirm,title:"Confirm Deletion",message:t.message}),l.jsx(NN,{})]})]})},PN=()=>l.jsx(Zy,{children:l.jsx(Sr,{children:l.jsx(RN,{})})}),AN=()=>{const{postMessage:e}=Ju(),[t,n]=w.useState(null);w.useEffect(()=>{const s=sessionStorage.getItem("editOrderData");s&&n(JSON.parse(s))},[]);const r=()=>{e("refresh_data"),window.close()};return t?l.jsx(Pg,{...t,onSuccess:r,onCancel:()=>window.close()}):l.jsx("div",{className:"loading",children:"Loading order data..."})},IN=()=>{const{isAuthenticated:e,isLoading:t}=ir();return t?l.jsx("div",{className:"loading",children:"Verifying authorization..."}):e?l.jsx(w_,{}):l.jsx(b_,{to:"/login",replace:!0})},TN=({view:e})=>l.jsx(uN,{children:l.jsx("div",{className:"popout-container",children:l.jsx(Qy,{isPopOut:!0})})});function ON(){return l.jsx(d1,{children:l.jsxs(C_,{children:[l.jsx($n,{path:"/login",element:l.jsx(bN,{})}),l.jsx($n,{path:"/register",element:l.jsx(wN,{})}),l.jsxs($n,{element:l.jsx(IN,{}),children:[l.jsx($n,{path:"/*",element:l.jsx(PN,{})}),l.jsx($n,{path:"/planit/popout",element:l.jsx(TN,{})}),l.jsx($n,{path:"/orders/:orderId/edit",element:l.jsx(Zy,{children:l.jsx(AN,{})})})]})]})})}fa.createRoot(document.getElementById("root")).render(l.jsx(ce.StrictMode,{children:l.jsx(Sr,{children:l.jsx(P_,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:l.jsx(uw,{children:l.jsx(ON,{})})})})}));
